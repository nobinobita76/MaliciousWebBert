<!DOCTYPE html><html><head>
        <title>会员登录 - 卷皮网</title>
        <meta name="keywords" content="会员登录,九块邮,卷皮网">
        <meta name="description" content="马上注册登录卷皮账号，体验九块邮、卷皮网会员专属福利！更有超值商品0元兑换！">
        <meta content="text/html;charset=utf-8;" http-equiv="Content-Type">
        <link href="//s.juancdn.com" rel="dns-prefetch">
        <link href="//s1.juancdn.com" rel="dns-prefetch">
        <link href="//d.juanpi.com" rel="dns-prefetch">
        <link rel="canonical" href="http://user.juanpi.com/login">
        <link rel="stylesheet" type="text/css" href="//jp.juancdn.com/common/style/??base.css,global.css,alert.css?0f1fbe55229f062cb2e8f49f7509ca38-1">
        <link rel="stylesheet" type="text/css" href="//jp.juancdn.com/user/style/??pagination.css,login.css?570a51e493760e3ef41e34464b6e6c4f-1">
        
    </head>
    <body>
                <div class="header header-login">
            <div class="area">
                                    <div class="logo">
                        <div class="fl">
                            <a href="//www.juanpi.com" title="卷皮首页" class="juan-logo fl"></a><span class="juan-txt fl"></span>
                        </div>
                    </div>
                    <div class="protection">
                        <a href="//www.juanpi.com/help/xiaobao" class="update" title="每天10点开抢" rel="nofollow"></a>
                        <a href="//www.juanpi.com/help/xiaobao#consumer03" class="lowest" title="职业买手砍价" rel="nofollow"></a>
                        <a href="//www.juanpi.com/help/xiaobao#consumer04" class="check1" title="商品验货质检" rel="nofollow"></a>
                    </div>
                            </div>
        </div>
            <!-- 主体 -->
        <div class="main">
            <div class="login-main">
                
    <div class="login-content">
        <div class="title">
            <span class="hd">老用户登录</span>
            <span class="tips">尊敬的卷皮用户，欢迎您回来！</span>
            <p class="other">还没账号？<a href="https://user.juanpi.com/register" rel="nofollow">立即去注册</a></p></div>
        <div class="login-center">
            <div class="content-landing fl">
                <form action="/login/checkLogin" method="post" onsubmit="return false;" id="login">
                    <ul class="login_list">
                        <li class="active">
                            <label class="normal"></label>
                            <div class="box_border">
                                <div class="user_img"></div>
                                <input type="text" class="normal-input" id="account" placeholder="手机号/邮箱/昵称" name="account" autocomplete="off" value="">
                                <div class="dele_info_img"></div>
                            </div>
                            <div class="error-box" id="account_warn"></div>
                        </li>
                        <li class="clear">
                           <label class="normal"></label>
                            <div class="box_border">
                                <div class="code_img"></div>
                                <input type="password" class="normal-input" placeholder="密码" name="password" autocomplete="off" id="inter_code">
                                <div class="dele_info_img"></div>
                            </div>
                            <div class="error-box" id="password_warn"></div>
                        </li>
                        
                        <li id="verify_display">
                            <label class="normal"></label>
                            <input type="text" class="normal-input code-input" placeholder="验证码" name="code" autocomplete="off">
                            <div class="dele_info_img dele_info_img2"></div>
                            <div class="verification-code">
                                <img src="/public/verify" id="verify" onclick="this.src='/public/verify?'+(new Date()).getTime()">
                                <span style="float:right;margin-top:10px;cursor: pointer;*margin-top:-28px;" onclick="getElementById('verify').src='/public/verify?'+(new Date()).getTime()" class="change_img">换一张</span>
                                <input type="button" style="display:none;" class="phone-verify" value="获取验证码"></div>
                            <div class="error-box" id="code_warn"></div>
                        </li>
                        <li class="chex-d">
                            <label class="normal"></label>
                            <div class="chex">
                                <span><label><input type="checkbox" class="ck" name="auto" checked="checked">两周内免登录</label></span>
                                <a class="forget " href="/forget">忘记密码？</a></div>
                        </li>
                        <li>
                            <label class="normal"></label>
                            <div class="btn">
                                <input type="hidden" value="ef7d1eaab0c85ac90e60221f7f2e490f" id="mtoken" name="mtoken">
                                <input type="hidden" name="opt" id="opt" value="">
                                <input type="hidden" value="100" id="jumpTime" name="jumpTime">
                                <input type="submit" class="sub smt-o" value="登录" autocomplete="off">
                                <span id="loading"></span> </div>
                        </li>
                        <li class="third-login">
                            <label class="normal"></label>
                            <div class="union-login">
                                <p class="union-title"><span>合作网站账号登录</span></p>
                                <div class="third-box">

                                                                            <a class="qq" href="https://user.juanpi.com/login/connect/type/qq"></a>
                                        <a href="https://user.juanpi.com/login/connect/type/weixin" class="weixin"></a>
                                        <a class="sina" href="https://user.juanpi.com/login/connect/type/sina"></a>
                                        <a href="https://user.juanpi.com/login/connect/type/taobao" class="taobao"></a>
                                                                        </div>
                            </div>
                            <a href="https://user.juanpi.com/quicklogin" class="quick fl"><em class="icons icons-phone-other fl"></em><span class="fl">手机快捷登录&gt;&gt;</span></a>
                        </li>
                    </ul>
                </form>
            </div>
            <div class="login-l-img fr"> <img src="//jp.juancdn.com/user/images/login/login-bj-ad.png?ts=89e306c5f306d46a_1490973164-1" alt=""> </div>
        </div>

    </div>

                <p class="foot-tips">武汉奇米网络科技有限公司 鄂ICP备10209250号 | ICP许可证号：鄂B1-20150109 | 食品流通许可证 SP4201991510041888   Copyright © 2010 - 2017 JuanPi.com All Rights Reserved</p>
            </div>
        </div>
            <!-- /主体 -->
        <script type="text/javascript" src="//jp.juancdn.com/common/js/??jquery.min.js,jquery.form.js,jquery.validate.js,base.js,Images.js?45b52f0103975d99fe91a51e606d2c37-1"></script>
        <script type="text/javascript">
function initPlaceHolders(){
    if('placeholder' in document.createElement('input')){ //如果浏览器原生支持placeholder
        return ;
    }
    function target (e){
        var e=e||window.event;
        return e.target||e.srcElement;
    };
    function _getEmptyHintEl(el){
        var hintEl=el.hintEl;
        return hintEl && g(hintEl);
    };
    function blurFn(e){
        var el=target(e);
        if(!el || el.tagName !='INPUT' && el.tagName !='TEXTAREA') return;//IE下，onfocusin会在div等元素触发
        var    emptyHintEl=el.placeholder;
        if(emptyHintEl && el.type != "password"){
            var placeholder=el.getAttribute('placeholder');
            if(el.value == "") { el.value = placeholder;}
        }
    };
    function focusFn(e){
        var el=target(e);
        if(!el || el.tagName !='INPUT' && el.tagName !='TEXTAREA') return;//IE下，onfocusin会在div等元素触发
        var emptyHintEl=el.placeholder;
        if(emptyHintEl){
            var placeholder=el.getAttribute('placeholder');
            if(el.value == placeholder){
                el.value = "";
            }
            //clearTimeout(el.__placeholderTimer||0);
//            emptyHintEl.style.display='none';
        }
    };
    if(document.addEventListener){
        document.addEventListener('focus',focusFn, true);
        document.addEventListener('blur', blurFn, true);
    }
    else{
        document.attachEvent('onfocusin',focusFn);
        document.attachEvent('onfocusout',blurFn);
    }
}
initPlaceHolders();

</script>
        
    <script type="text/javascript" src="//jp.juancdn.com/common/js/regexp.js?ts=89e306c5f306d46a_1490973164"></script>
<script type="text/javascript">
/**
 * 提交登录请求
 * @author yangxin
*/
    
    
//验证规则
var rule=[
    ['account','empty','账号不能为空',1,'regex',0],
    ['account',checkName,'账号不能为空',1,'function',1],
    ['password','empty','密码不能为空',1,'regex',0],
];
//验证码规则
function code(){
    rule.push(['code','empty','验证码不能为空',1,'regex',0]);
    rule.push(['code',/^\w{4}$/,'验证码有误',1,'regex',1]);
}
    
    
//增加验证码验证规则
if($('#verify_display').css('display')!='none'){
    code();
}
     
function checkName(account){
    if(account == '手机号/邮箱/昵称'){
        $('#account_warn').parent().removeClass('active').addClass('error_box');
        $('#account_warn').html('<strong class="error unsee"></strong><p class="msg_error">账号不能为空</p>');
    }
    return true;
    
}
//验证提示渲染
function warn(result){
    if($.inArray(typeof(result),['string','object'])!=-1){
        if(typeof(result)=='object'){
            $.each(result,function(key,value){
                var id='#'+key+'_warn';
                $(id).parent().removeClass('active').addClass('error_box');
                $(id).size()>0?$(id).html('<strong class="error unsee"></strong><p class="msg_error">'+value+'</p>'):alert(value);
            });
        }else{
            //alert(result);
        }
    }
}
    
setTimeout(function(){
    if($('input[name=account]').val()=='' || $('input[name=account]').val()=='手机号/邮箱/昵称'){
        //默认获取焦点
        $('input[name=account]').focus();
    }

},1000);

    if($('input[name=account]').val()!=='' && $('input[name=account]').val()!=='手机号/邮箱/昵称' && $('input[name=account]').val()!=='undefined'){
    //默认获取焦点
    $('input[name=password]').focus();
    }
    
//获取焦点输入信息显示信息删除按钮
$(':input').on('keydown',function(){
    $(this).next().show();
    if($(this).val().length<2){
        $(this).next().hide();
    }
});

 

    
//获取焦点事件
$(':input').focus(function(){
    //高亮边框
    $('#login li').removeClass('active');
    $(this).parents('li').addClass('active');
    var name=$(this).attr('name');
    $('#'+name+'_warn').html('');  //清楚当前验证 
});



//失去焦点验证
$(':input').blur(function(){
    var name=$(this).attr('name');
    var info=$(this).validate(rule,false);
    var result={};
    result[name]=info;
    if(info!==true) {
        warn(result);
    }else{
        if($('#'+name+'_warn .error').length <=0){
            $('#'+name+'_warn').html('<strong class="ok unsee"></strong>');//清除之前验证信息
            $('#'+name+'_warn').parent().removeClass('error_box');
        }
    }
});
    
$('.dele_info_img').click(function(){
    $(this).prev().val('');
    $(this).hide();
});   
    
//提交表单验证
$('#login').submit(function(e){
    $("[id*='_warn']").html('<strong class="ok unsee"></strong>');//清除之前验证信息
    var result=$(this).validate(rule);
    if(result!==true){
        warn(result);//验证提示
        e.stopImmediatePropagation();//阻止事件继续执行
    }
});

function backUserWindow(){
    var collidebox = new XDLightBox({
        title:"温馨提示",
        lightBoxId:"user_collide",
        contentHtml:"<div class='tips clear'><div class='collideicon fl'></div><div class='txt fl'>当前您的账号存在安全隐患，为了您的账户安全，请立即修改密码。</div></div><div class='btn'><a href='https://user.juanpi.com/forget?reset=1' class='ok'>立即修改</a></div>",
        scroll:true,
        isBgClickClose: false
    });
    collidebox.init();
    //隐藏关闭按钮
    $('#user_collide .alert_close').hide();

    $('body').on('click','#user_collide .cancel',function(){
        $('#user_collide').hide();
        $('.alert_fullbg').hide();
    });
}

/**
 * 马甲验证 
 **/
var majiaVerifyAlert = function(){
    var htmlMsg = '<div class="sign-show clear">'
            +'<ul><li class="clear">'
            +'<p class="alert_tips_info">服务器繁忙，请稍候重试</p>'
            +'</li>'
            +' <li>'
            +'<div class="btn mt20 clear"><a class="sub mr15 fl" id="majia-cancel" href="javascript:;">知道了</a> <a id="mjclear" class="sub sub01 fl" href="javascript:;">取消</a></div>'
            +'</li></ul></div>';
    var c = new XDLightBox({
        title: "提示",
        lightBoxId: "majia_code_tips",
        contentHtml: htmlMsg,
        scroll: false,
        isBgClickClose: false
    });
    c.init();
}
var majiaGoAlert = function(){
    var htmlMsg = '<div class="sign-show clear">'
            +'<ul><li class="clear">'
            +'<p class="alert_tips_info">您的账号异常，已被锁定</p>'
            +'</li>'
            +' <li>'
            +'<div class="btn mt20 clear"><a class="sub mr15" id="majia-go" href="#" style="dispay: block;margin: 0 auto;">去解锁</a></div>'
            +'</li></ul></div>';
    var c = new XDLightBox({
        title: "提示",
        lightBoxId: "majia_code_tips",
        contentHtml: htmlMsg,
        scroll: false,
        isBgClickClose: false
    });
    c.init();
}
$('body').on('click', '#majia-cancel,#mjclear', function(){
    $('#majia_code_tips').remove();
    $('.alert_fullbg').remove();
});

//提交表单
$('#login').submit(function(){
    //禁用按钮
    var button=$(this).find('input[type=submit]').attr('disabled',true);
    $('#sub').addClass('smt-d');
    //发送请求
    var options={dataType:'json', opt: $('#opt').val()};
    options.success=function(result){
        if(result.status == 1000){
            //通知九块邮登录
            var img = new Image();

            img.onerror=function(){location.href=result.url;}
            img.src= result.sync;
            img.height='1px';
            img.width='1px';
        }else{
            if(result.status == 2000){
                backUserWindow();
                return false;
            }

            // 帐号锁定跳到人工解锁
            if (result.status == 1005) {
                window.location.href = 'https://user.juanpi.com/vest/check_manually?client_from=pc';
                return false;
            }

            // 马甲验证
            if (result.status == 5051) {
                majiaGoAlert();
                $('#majia-go').attr('href', result.url);
            }
            // 轻度马甲验证失败提示
            if ((result.code == 1001 || result.status == 1001) && options.opt == '127') {
                $('#verify_display').removeClass('error_box');
                $('#code_warn').html('');
                $('#verify').click();
                majiaVerifyAlert();
            }

            if (result.verify_mobile) {
                var box = new XDLightBox({
                    title: '手机号安全验证',
                    lightBoxId: 'alert_phone_check01',
                    contentHtml: $('#verify_mobile_template').html(),
                    isBgClickClose: false,
                    scroll: false
                });
                box.init();
                $('#verify_mobile').val(result.verify_mobile);
                return;
            }

            if (result.verify == 1 || result.status == 5050){
                if(result.status == 5050){
                    $('#opt').val(result.opt);
                }
                $('#verify').click();
                $('#verify_display').show();//显示验证码表单
                code();//增加验证码验证规则
            }

            //未绑定手机用户强制跳转到绑定手机页
            if(result.status == 1003 || result.status == 1008 || result.status == 1010 || result.status == 3011){
                location.href = result.url;
                return false;
            }

            $("[id*='_warn']").html('<strong class="ok unsee"></strong>');//清除之前验证信息
            warn(result.info);//验证提示
            $(".error-box strong").each(function(){
                if($(this).hasClass("error")){
                    $(this).parents("li").find("input").val("");
                }
            });
        }
    }
    //请求完成去掉表单样式
    options.complete=function(result){
        button.attr('disabled',false);//启用按钮
        $('#sub').removeClass('smt-d');
        //$('#loading').removeClass('logining-icon');//等待图标
    }
    $(this).ajaxSubmit(options);
});


setTimeout(function(){
    if($('input[name=account]').val()!=''){
        //当有帐号默认信息的时候自动显示信息删除按钮
        $('input[name=account]').next().show();
    } 
},500);

(function() {
    function timing(second) {
        var timingId;
        second = parseInt(second) || 60;
        return $.Deferred(function (deferred) {
            timingId = window.setInterval(function () {
                if (--second == 0) {
                    deferred.resolve();
                } else {
                    deferred.notify(second);
                }
            }, 1000);
        }).done(function () {
            window.clearInterval(timingId);
        }).promise();
    }

    function starTimer($el) {
        $el.css({
            cursor: 'not-allowed'
        }).prop('disabled', true);

        timing(180).progress(function(second) {
            $el.html('剩余(' + second + 's)');
        }).done(function() {
            $el.css({
                cursor: 'pointer'
            }).html('获取验证码').prop('disabled', false);
        })
    }

    $(document).on('click', ".phone-verify", function (){
        var $this = $(this);
        $this.prop("disabled", true);
        var $phoneVerifyTip = $('.phone-verify-tip').html('');
        $.ajax({
            url: '/login/sendMobileVerify',
            type: 'POST',
            dataType: 'json',
            beforeSend: function(){
                $this.html('获取中...');
            }
        }).done(function(resp) {
            if(resp && resp.code){
                resp.code = parseInt(resp.code);
                switch(resp.code){
                    case 1001:
                        starTimer($this);
                        break;
                    case 1003:
                        $this.prop('disabled', true).html("重新获取");
                        $phoneVerifyTip.html('<strong class="error "></strong><p class="msg_error">您今日获取7次短信验证码的机会已用尽，请明日再来。</p>');
                        break;
                    case 1004:
                        $this.prop('disabled', false).html("重新获取");
                        $phoneVerifyTip.html('<strong class="error "></strong><p class="msg_error">您操作太频繁了，请稍后再试。</p>');
                        break;
                    case 1002:
                        $this.prop("disabled",false).html("重新获取");
                        $phoneVerifyTip.html('<strong class="error "></strong><p class="msg_error">验证码发送失败，请稍后再试。</p>');
                        break;
                    default:
                        $this.prop("disabled",false).html("重新获取");
                        $phoneVerifyTip.html('<strong class="error "></strong><p class="msg_error">未知错误，请稍后再试。</p>');
                }
            } else {
                alert('系统服务错误，请稍候再试');
                $this.prop("disabled",false);
            }
        }).fail(function() {
            alert('系统服务错误，请稍候再试');
            $this.prop("disabled",false);
        });
    });

    $(document).on('focus', '#verify_code', function() {
        $('#verify_code_tip').html('');
    });

    $(document).on('click', '#confirm_verify_code', function(e) {
        e.preventDefault();
        e.stopPropagation();
        var $this = $(this);
        var verifyCode = $.trim($('#verify_code').val());

        if (verifyCode === '') {
            $('#verify_code_tip').html('<strong class="error "></strong><p class="msg_error">验证码不能为空</p>');
            return false;
        } else if (!/\d{6}/.test(verifyCode)) {
            $('#verify_code_tip').html('<strong class="error "></strong><p class="msg_error">验证码无效</p>');
            return false;
        }

        var defVal = $this.html();

        $this.prop("disabled", true).html('正在验证');

        $.ajax({
            url: '/login/checkMobileVerify',
            data: {verify_code : verifyCode},
            type: 'post'
        }).done(function(resp) {
            if(resp.code == 1000){
                $('#login').submit();
            } else {
                $this.prop("disabled", false).html(defVal);
                $('#verify_code_tip').html('<strong class="error "></strong><p class="msg_error">' + resp.msg +'</p>');
            }
        }).fail(function() {
            alert('系统服务错误，请稍候再试');
            $this.prop("disabled", false).html(defVal);
        }).always(function() {
        })
    });

    if (XDTEMPLATE) {
       XDTEMPLATE.lightBox = '<div id="{id}" class="alert_bg"><div class="alert_box"><div class="alert_top"><span>{title}</span></div><div class="alert_content">{body}</div></div></div>';
    }
})();
   
</script>

<script type="text/javascript" src="//jp.juancdn.com/juanpi/??assets/init/md-lightbox.js?ts=89e306c5f306d46a_1490973164"></script>

<script type="text/template" id="verify_mobile_template" style="display: none">
    <div class="phone_chk_info clear">
        <ul class="mb40">
            <li class="clear">
                <p>您正在登录商家后台，为保障您的安全，请用手机短信做二次验证</p>
            </li>
            <li class="clear">
                <label>手机号：</label>
                <div class="fl">
                    <p class="mb10 clear">
                        <input type="text" class="txt txt01 mr10 fl" id="verify_mobile" placeholder="" disabled="disabled">
                        <a class="bank_code fl phone_fake phone-verify" href="javascript:;">获取验证码</a>
                    </p>
                    <div class="phone-verify-tip"></div>
                </div>
            </li>
            <li class="clear">
                <label>手机验证码：</label>
                <input type="text" class="txt txt01" name="verify_code" id="verify_code">
                <div id="verify_code_tip"></div>
            </li>
        </ul>
        <div class="phone_btn phone_btn02 mb20 clear">
            <a href="#" class="sub sub01 fl" id="confirm_verify_code">确定</a>
        </div>
        <p class="tc">无法验证? 与客服联系<span class="ml5 v3"><a target="_blank" href="//www.juanpi.com/qqcontact"><img border="0" src="//s.juancdn.com/seller/images/qq_contact.png" alt="点击这里给我发消息" title="点击这里给我发消息"/></a></span></p>
    </div>
</script>


    
</body></html>