<html><head></head><body><pre style="word-wrap: break-word; white-space: pre-wrap;">function closeModalBox(){var o=$(".modalBox:visible");o.length&amp;&amp;(o.hide(),$("#overlay").hide(),$(".player-html5").attr("controls",!0))}function openModalBox(o,t){if($(o).length&amp;&amp;($(o).modalBox(),$("#overlay").show().height($(document).height()),"#premiumSuggest"===o)){var e="?type=";e+="undefined"!=typeof t?t:"old_link-YP",href=$(o).find(".btnSignup").attr("href").split("?")[0],$(o).find(".btnSignup").attr("href",href+e)}}function loadModalBox(o){openModalBox(o)}function unloadModalBox(){closeModalBox()}$(document).on("click",".callBox",function(o){var t=$(this).attr("data-overlay"),e=$(this).attr("data-modaltype");"Premium_Tab-Yp"!=e&amp;&amp;(openModalBox(t,e),o.preventDefault())}),$(document).on("click",".close, .js_close, #close-button, #overlay",function(){closeModalBox()}),jQuery.fn.modalBox=function(){return this.css({position:"absolute",top:($(window).height()-this.outerHeight())/3+$(window).scrollTop()+"px",left:($(window).width()-this.outerWidth())/2+$(window).scrollLeft()+"px",display:"block"}),this},window.addEventListener("resize",function(){var o=$(".modalBox:visible");o.length&amp;&amp;o.css({left:($(window).width()-o.width())/2})});
var CryptoJS=CryptoJS||function(t,n){var i={},r=i.lib={},e=function(){},s=r.Base={extend:function(t){e.prototype=this;var n=new e;return t&amp;&amp;n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var n in t)t.hasOwnProperty(n)&amp;&amp;(this[n]=t[n]);t.hasOwnProperty("toString")&amp;&amp;(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},o=r.WordArray=s.extend({init:function(t,i){t=this.words=t||[],this.sigBytes=i!=n?i:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var n=this.words,i=t.words,r=this.sigBytes;if(t=t.sigBytes,this.clamp(),r%4)for(var e=0;e&lt;t;e++)n[r+e&gt;&gt;&gt;2]|=(i[e&gt;&gt;&gt;2]&gt;&gt;&gt;24-8*(e%4)&amp;255)&lt;&lt;24-8*((r+e)%4);else if(65535&lt;i.length)for(e=0;e&lt;t;e+=4)n[r+e&gt;&gt;&gt;2]=i[e&gt;&gt;&gt;2];else n.push.apply(n,i);return this.sigBytes+=t,this},clamp:function(){var n=this.words,i=this.sigBytes;n[i&gt;&gt;&gt;2]&amp;=4294967295&lt;&lt;32-8*(i%4),n.length=t.ceil(i/4)},clone:function(){var t=s.clone.call(this);return t.words=this.words.slice(0),t},random:function(n){for(var i=[],r=0;r&lt;n;r+=4)i.push(4294967296*t.random()|0);return new o.init(i,n)}}),a=i.enc={},c=a.Hex={stringify:function(t){var n=t.words;t=t.sigBytes;for(var i=[],r=0;r&lt;t;r++){var e=n[r&gt;&gt;&gt;2]&gt;&gt;&gt;24-8*(r%4)&amp;255;i.push((e&gt;&gt;&gt;4).toString(16)),i.push((15&amp;e).toString(16))}return i.join("")},parse:function(t){for(var n=t.length,i=[],r=0;r&lt;n;r+=2)i[r&gt;&gt;&gt;3]|=parseInt(t.substr(r,2),16)&lt;&lt;24-4*(r%8);return new o.init(i,n/2)}},u=a.Latin1={stringify:function(t){var n=t.words;t=t.sigBytes;for(var i=[],r=0;r&lt;t;r++)i.push(String.fromCharCode(n[r&gt;&gt;&gt;2]&gt;&gt;&gt;24-8*(r%4)&amp;255));return i.join("")},parse:function(t){for(var n=t.length,i=[],r=0;r&lt;n;r++)i[r&gt;&gt;&gt;2]|=(255&amp;t.charCodeAt(r))&lt;&lt;24-8*(r%4);return new o.init(i,n)}},h=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},f=r.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&amp;&amp;(t=h.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(n){var i=this._data,r=i.words,e=i.sigBytes,s=this.blockSize,a=e/(4*s),a=n?t.ceil(a):t.max((0|a)-this._minBufferSize,0);if(n=a*s,e=t.min(4*n,e),n){for(var c=0;c&lt;n;c+=s)this._doProcessBlock(r,c);c=r.splice(0,n),i.sigBytes-=e}return new o.init(c,e)},clone:function(){var t=s.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});r.Hasher=f.extend({cfg:s.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&amp;&amp;this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(n,i){return new t.init(i).finalize(n)}},_createHmacHelper:function(t){return function(n,i){return new l.HMAC.init(t,i).finalize(n)}}});var l=i.algo={};return i}(Math);!function(t){function n(t,n,i,r,e,s,o){return t=t+(n&amp;i|~n&amp;r)+e+o,(t&lt;&lt;s|t&gt;&gt;&gt;32-s)+n}function i(t,n,i,r,e,s,o){return t=t+(n&amp;r|i&amp;~r)+e+o,(t&lt;&lt;s|t&gt;&gt;&gt;32-s)+n}function r(t,n,i,r,e,s,o){return t=t+(n^i^r)+e+o,(t&lt;&lt;s|t&gt;&gt;&gt;32-s)+n}function e(t,n,i,r,e,s,o){return t=t+(i^(n|~r))+e+o,(t&lt;&lt;s|t&gt;&gt;&gt;32-s)+n}for(var s=CryptoJS,o=s.lib,a=o.WordArray,c=o.Hasher,o=s.algo,u=[],h=0;64&gt;h;h++)u[h]=4294967296*t.abs(t.sin(h+1))|0;o=o.MD5=c.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,s){for(var o=0;16&gt;o;o++){var a=s+o,c=t[a];t[a]=16711935&amp;(c&lt;&lt;8|c&gt;&gt;&gt;24)|4278255360&amp;(c&lt;&lt;24|c&gt;&gt;&gt;8)}var o=this._hash.words,a=t[s+0],c=t[s+1],h=t[s+2],f=t[s+3],l=t[s+4],p=t[s+5],d=t[s+6],g=t[s+7],y=t[s+8],_=t[s+9],v=t[s+10],w=t[s+11],B=t[s+12],m=t[s+13],S=t[s+14],x=t[s+15],H=o[0],z=o[1],C=o[2],M=o[3],H=n(H,z,C,M,a,7,u[0]),M=n(M,H,z,C,c,12,u[1]),C=n(C,M,H,z,h,17,u[2]),z=n(z,C,M,H,f,22,u[3]),H=n(H,z,C,M,l,7,u[4]),M=n(M,H,z,C,p,12,u[5]),C=n(C,M,H,z,d,17,u[6]),z=n(z,C,M,H,g,22,u[7]),H=n(H,z,C,M,y,7,u[8]),M=n(M,H,z,C,_,12,u[9]),C=n(C,M,H,z,v,17,u[10]),z=n(z,C,M,H,w,22,u[11]),H=n(H,z,C,M,B,7,u[12]),M=n(M,H,z,C,m,12,u[13]),C=n(C,M,H,z,S,17,u[14]),z=n(z,C,M,H,x,22,u[15]),H=i(H,z,C,M,c,5,u[16]),M=i(M,H,z,C,d,9,u[17]),C=i(C,M,H,z,w,14,u[18]),z=i(z,C,M,H,a,20,u[19]),H=i(H,z,C,M,p,5,u[20]),M=i(M,H,z,C,v,9,u[21]),C=i(C,M,H,z,x,14,u[22]),z=i(z,C,M,H,l,20,u[23]),H=i(H,z,C,M,_,5,u[24]),M=i(M,H,z,C,S,9,u[25]),C=i(C,M,H,z,f,14,u[26]),z=i(z,C,M,H,y,20,u[27]),H=i(H,z,C,M,m,5,u[28]),M=i(M,H,z,C,h,9,u[29]),C=i(C,M,H,z,g,14,u[30]),z=i(z,C,M,H,B,20,u[31]),H=r(H,z,C,M,p,4,u[32]),M=r(M,H,z,C,y,11,u[33]),C=r(C,M,H,z,w,16,u[34]),z=r(z,C,M,H,S,23,u[35]),H=r(H,z,C,M,c,4,u[36]),M=r(M,H,z,C,l,11,u[37]),C=r(C,M,H,z,g,16,u[38]),z=r(z,C,M,H,v,23,u[39]),H=r(H,z,C,M,m,4,u[40]),M=r(M,H,z,C,a,11,u[41]),C=r(C,M,H,z,f,16,u[42]),z=r(z,C,M,H,d,23,u[43]),H=r(H,z,C,M,_,4,u[44]),M=r(M,H,z,C,B,11,u[45]),C=r(C,M,H,z,x,16,u[46]),z=r(z,C,M,H,h,23,u[47]),H=e(H,z,C,M,a,6,u[48]),M=e(M,H,z,C,g,10,u[49]),C=e(C,M,H,z,S,15,u[50]),z=e(z,C,M,H,p,21,u[51]),H=e(H,z,C,M,B,6,u[52]),M=e(M,H,z,C,f,10,u[53]),C=e(C,M,H,z,v,15,u[54]),z=e(z,C,M,H,c,21,u[55]),H=e(H,z,C,M,y,6,u[56]),M=e(M,H,z,C,x,10,u[57]),C=e(C,M,H,z,d,15,u[58]),z=e(z,C,M,H,m,21,u[59]),H=e(H,z,C,M,l,6,u[60]),M=e(M,H,z,C,w,10,u[61]),C=e(C,M,H,z,h,15,u[62]),z=e(z,C,M,H,_,21,u[63]);o[0]=o[0]+H|0,o[1]=o[1]+z|0,o[2]=o[2]+C|0,o[3]=o[3]+M|0},_doFinalize:function(){var n=this._data,i=n.words,r=8*this._nDataBytes,e=8*n.sigBytes;i[e&gt;&gt;&gt;5]|=128&lt;&lt;24-e%32;var s=t.floor(r/4294967296);for(i[(e+64&gt;&gt;&gt;9&lt;&lt;4)+15]=16711935&amp;(s&lt;&lt;8|s&gt;&gt;&gt;24)|4278255360&amp;(s&lt;&lt;24|s&gt;&gt;&gt;8),i[(e+64&gt;&gt;&gt;9&lt;&lt;4)+14]=16711935&amp;(r&lt;&lt;8|r&gt;&gt;&gt;24)|4278255360&amp;(r&lt;&lt;24|r&gt;&gt;&gt;8),n.sigBytes=4*(i.length+1),this._process(),n=this._hash,i=n.words,r=0;4&gt;r;r++)e=i[r],i[r]=16711935&amp;(e&lt;&lt;8|e&gt;&gt;&gt;24)|4278255360&amp;(e&lt;&lt;24|e&gt;&gt;&gt;8);return n},clone:function(){var t=c.clone.call(this);return t._hash=this._hash.clone(),t}}),s.MD5=c._createHelper(o),s.HmacMD5=c._createHmacHelper(o)}(Math);
String.prototype.format=function(){var e;if("[object Array]"===Object.prototype.toString.call(arguments[0])){e=[];for(var t=0;t&lt;arguments[0].length;t++)e.push(arguments[0][t])}else e=arguments;return this.unkeyed_index=0,this.replace(/\{(\w*)\}/g,function(t,n){if(""===n&amp;&amp;(n=this.unkeyed_index,this.unkeyed_index++),n==+n)return"undefined"!==e[n]?e[n]:t;for(var r=0;r&lt;e.length;r++)if("object"==typeof e[r]&amp;&amp;"undefined"!=typeof e[r][n])return e[r][n];return t}.bind(this))};
!function(t,e,n,i){"use strict";function r(t,e,n){return setTimeout(u(t,n),e)}function s(t,e,n){return!!Array.isArray(t)&amp;&amp;(o(t,n[e],n),!0)}function o(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==i)for(r=0;r&lt;t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&amp;&amp;e.call(n,t[r],r,t)}function a(e,n,i){var r="DEPRECATED METHOD: "+n+"\n"+i+" AT \n";return function(){var n=new Error("get-stack-trace"),i=n&amp;&amp;n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.&lt;anonymous&gt;\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=t.console&amp;&amp;(t.console.warn||t.console.log);return s&amp;&amp;s.call(t.console,r,i),e.apply(this,arguments)}}function h(t,e,n){var i,r=e.prototype;i=t.prototype=Object.create(r),i.constructor=t,i._super=r,n&amp;&amp;at(i,n)}function u(t,e){return function(){return t.apply(e,arguments)}}function c(t,e){return typeof t==ct?t.apply(e?e[0]||i:i,e):t}function l(t,e){return t===i?e:t}function p(t,e,n){o(m(e),function(e){t.addEventListener(e,n,!1)})}function f(t,e,n){o(m(e),function(e){t.removeEventListener(e,n,!1)})}function d(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function v(t,e){return t.indexOf(e)&gt;-1}function m(t){return t.trim().split(/\s+/g)}function g(t,e,n){if(t.indexOf&amp;&amp;!n)return t.indexOf(e);for(var i=0;i&lt;t.length;){if(n&amp;&amp;t[i][n]==e||!n&amp;&amp;t[i]===e)return i;i++}return-1}function T(t){return Array.prototype.slice.call(t,0)}function y(t,e,n){for(var i=[],r=[],s=0;s&lt;t.length;){var o=e?t[s][e]:t[s];g(r,o)&lt;0&amp;&amp;i.push(t[s]),r[s]=o,s++}return n&amp;&amp;(i=e?i.sort(function(t,n){return t[e]&gt;n[e]}):i.sort()),i}function E(t,e){for(var n,r,s=e[0].toUpperCase()+e.slice(1),o=0;o&lt;ht.length;){if(n=ht[o],r=n?n+s:e,r in t)return r;o++}return i}function I(){return mt++}function A(e){var n=e.ownerDocument||e;return n.defaultView||n.parentWindow||t}function _(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){c(t.options.enable,[t])&amp;&amp;n.handler(e)},this.init()}function w(t){var e,n=t.options.inputClass;return new(e=n?n:yt?F:Et?k:Tt?L:Y)(t,D)}function D(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,s=e&amp;bt&amp;&amp;i-r===0,o=e&amp;(Pt|Ct)&amp;&amp;i-r===0;n.isFirst=!!s,n.isFinal=!!o,s&amp;&amp;(t.session={}),n.eventType=e,b(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function b(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=C(e)),r&gt;1&amp;&amp;!n.firstMultiple?n.firstMultiple=C(e):1===r&amp;&amp;(n.firstMultiple=!1);var s=n.firstInput,o=n.firstMultiple,a=o?o.center:s.center,h=e.center=x(i);e.timeStamp=ft(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=M(a,h),e.distance=z(a,h),S(n,e),e.offsetDirection=O(e.deltaX,e.deltaY);var u=R(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=pt(u.x)&gt;pt(u.y)?u.x:u.y,e.scale=o?X(o.pointers,i):1,e.rotation=o?N(o.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length&gt;n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,P(n,e);var c=t.element;d(e.srcEvent.target,c)&amp;&amp;(c=e.srcEvent.target),e.target=c}function S(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},s=t.prevInput||{};e.eventType!==bt&amp;&amp;s.eventType!==Pt||(r=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}function P(t,e){var n,r,s,o,a=t.lastInterval||e,h=e.timeStamp-a.timeStamp;if(e.eventType!=Ct&amp;&amp;(h&gt;Dt||a.velocity===i)){var u=e.deltaX-a.deltaX,c=e.deltaY-a.deltaY,l=R(h,u,c);r=l.x,s=l.y,n=pt(l.x)&gt;pt(l.y)?l.x:l.y,o=O(u,c),t.lastInterval=e}else n=a.velocity,r=a.velocityX,s=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=s,e.direction=o}function C(t){for(var e=[],n=0;n&lt;t.pointers.length;)e[n]={clientX:lt(t.pointers[n].clientX),clientY:lt(t.pointers[n].clientY)},n++;return{timeStamp:ft(),pointers:e,center:x(e),deltaX:t.deltaX,deltaY:t.deltaY}}function x(t){var e=t.length;if(1===e)return{x:lt(t[0].clientX),y:lt(t[0].clientY)};for(var n=0,i=0,r=0;r&lt;e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:lt(n/e),y:lt(i/e)}}function R(t,e,n){return{x:e/t||0,y:n/t||0}}function O(t,e){return t===e?xt:pt(t)&gt;=pt(e)?t&lt;0?Rt:Ot:e&lt;0?zt:Mt}function z(t,e,n){n||(n=Ft);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function M(t,e,n){n||(n=Ft);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}function N(t,e){return M(e[1],e[0],Wt)+M(t[1],t[0],Wt)}function X(t,e){return z(e[0],e[1],Wt)/z(t[0],t[1],Wt)}function Y(){this.evEl=kt,this.evWin=Ht,this.allow=!0,this.pressed=!1,_.apply(this,arguments)}function F(){this.evEl=Vt,this.evWin=jt,_.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function W(){this.evTarget=Zt,this.evWin=Bt,this.started=!1,_.apply(this,arguments)}function q(t,e){var n=T(t.touches),i=T(t.changedTouches);return e&amp;(Pt|Ct)&amp;&amp;(n=y(n.concat(i),"identifier",!0)),[n,i]}function k(){this.evTarget=Jt,this.targetIds={},_.apply(this,arguments)}function H(t,e){var n=T(t.touches),i=this.targetIds;if(e&amp;(bt|St)&amp;&amp;1===n.length)return i[n[0].identifier]=!0,[n,n];var r,s,o=T(t.changedTouches),a=[],h=this.target;if(s=n.filter(function(t){return d(t.target,h)}),e===bt)for(r=0;r&lt;s.length;)i[s[r].identifier]=!0,r++;for(r=0;r&lt;o.length;)i[o[r].identifier]&amp;&amp;a.push(o[r]),e&amp;(Pt|Ct)&amp;&amp;delete i[o[r].identifier],r++;return a.length?[y(s.concat(a),"identifier",!0),a]:void 0}function L(){_.apply(this,arguments);var t=u(this.handler,this);this.touch=new k(this.manager,t),this.mouse=new Y(this.manager,t)}function U(t,e){this.manager=t,this.set(e)}function V(t){if(v(t,ie))return ie;var e=v(t,re),n=v(t,se);return e&amp;&amp;n?ie:e||n?e?re:se:v(t,ne)?ne:ee}function j(t){this.options=at({},this.defaults,t||{}),this.id=I(),this.manager=null,this.options.enable=l(this.options.enable,!0),this.state=oe,this.simultaneous={},this.requireFail=[]}function G(t){return t&amp;le?"cancel":t&amp;ue?"end":t&amp;he?"move":t&amp;ae?"start":""}function Z(t){return t==Mt?"down":t==zt?"up":t==Rt?"left":t==Ot?"right":""}function B(t,e){var n=e.manager;return n?n.get(t):t}function $(){j.apply(this,arguments)}function J(){$.apply(this,arguments),this.pX=null,this.pY=null}function K(){$.apply(this,arguments)}function Q(){j.apply(this,arguments),this._timer=null,this._input=null}function tt(){$.apply(this,arguments)}function et(){$.apply(this,arguments)}function nt(){j.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function it(t,e){return e=e||{},e.recognizers=l(e.recognizers,it.defaults.preset),new rt(t,e)}function rt(t,e){this.options=at({},it.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=w(this),this.touchAction=new U(this,this.options.touchAction),st(this,!0),o(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&amp;&amp;e.recognizeWith(t[2]),t[3]&amp;&amp;e.requireFailure(t[3])},this)}function st(t,e){var n=t.element;n.style&amp;&amp;o(t.options.cssProps,function(t,i){n.style[E(n.style,i)]=e?t:""})}function ot(t,n){var i=e.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=n,n.target.dispatchEvent(i)}var at,ht=["","webkit","Moz","MS","ms","o"],ut=e.createElement("div"),ct="function",lt=Math.round,pt=Math.abs,ft=Date.now;at="function"!=typeof Object.assign?function(t){if(t===i||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n&lt;arguments.length;n++){var r=arguments[n];if(r!==i&amp;&amp;null!==r)for(var s in r)r.hasOwnProperty(s)&amp;&amp;(e[s]=r[s])}return e}:Object.assign;var dt=a(function(t,e,n){for(var r=Object.keys(e),s=0;s&lt;r.length;)(!n||n&amp;&amp;t[r[s]]===i)&amp;&amp;(t[r[s]]=e[r[s]]),s++;return t},"extend","Use `assign`."),vt=a(function(t,e){return dt(t,e,!0)},"merge","Use `assign`."),mt=1,gt=/mobile|tablet|ip(ad|hone|od)|android/i,Tt="ontouchstart"in t,yt=E(t,"PointerEvent")!==i,Et=Tt&amp;&amp;gt.test(navigator.userAgent),It="touch",At="pen",_t="mouse",wt="kinect",Dt=25,bt=1,St=2,Pt=4,Ct=8,xt=1,Rt=2,Ot=4,zt=8,Mt=16,Nt=Rt|Ot,Xt=zt|Mt,Yt=Nt|Xt,Ft=["x","y"],Wt=["clientX","clientY"];_.prototype={handler:function(){},init:function(){this.evEl&amp;&amp;p(this.element,this.evEl,this.domHandler),this.evTarget&amp;&amp;p(this.target,this.evTarget,this.domHandler),this.evWin&amp;&amp;p(A(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&amp;&amp;f(this.element,this.evEl,this.domHandler),this.evTarget&amp;&amp;f(this.target,this.evTarget,this.domHandler),this.evWin&amp;&amp;f(A(this.element),this.evWin,this.domHandler)}};var qt={mousedown:bt,mousemove:St,mouseup:Pt},kt="mousedown",Ht="mousemove mouseup";h(Y,_,{handler:function(t){var e=qt[t.type];e&amp;bt&amp;&amp;0===t.button&amp;&amp;(this.pressed=!0),e&amp;St&amp;&amp;1!==t.which&amp;&amp;(e=Pt),this.pressed&amp;&amp;this.allow&amp;&amp;(e&amp;Pt&amp;&amp;(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:_t,srcEvent:t}))}});var Lt={pointerdown:bt,pointermove:St,pointerup:Pt,pointercancel:Ct,pointerout:Ct},Ut={2:It,3:At,4:_t,5:wt},Vt="pointerdown",jt="pointermove pointerup pointercancel";t.MSPointerEvent&amp;&amp;!t.PointerEvent&amp;&amp;(Vt="MSPointerDown",jt="MSPointerMove MSPointerUp MSPointerCancel"),h(F,_,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=Lt[i],s=Ut[t.pointerType]||t.pointerType,o=s==It,a=g(e,t.pointerId,"pointerId");r&amp;bt&amp;&amp;(0===t.button||o)?a&lt;0&amp;&amp;(e.push(t),a=e.length-1):r&amp;(Pt|Ct)&amp;&amp;(n=!0),a&lt;0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),n&amp;&amp;e.splice(a,1))}});var Gt={touchstart:bt,touchmove:St,touchend:Pt,touchcancel:Ct},Zt="touchstart",Bt="touchstart touchmove touchend touchcancel";h(W,_,{handler:function(t){var e=Gt[t.type];if(e===bt&amp;&amp;(this.started=!0),this.started){var n=q.call(this,t,e);e&amp;(Pt|Ct)&amp;&amp;n[0].length-n[1].length===0&amp;&amp;(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:It,srcEvent:t})}}});var $t={touchstart:bt,touchmove:St,touchend:Pt,touchcancel:Ct},Jt="touchstart touchmove touchend touchcancel";h(k,_,{handler:function(t){var e=$t[t.type],n=H.call(this,t,e);n&amp;&amp;this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:It,srcEvent:t})}}),h(L,_,{handler:function(t,e,n){var i=n.pointerType==It,r=n.pointerType==_t;if(i)this.mouse.allow=!1;else if(r&amp;&amp;!this.mouse.allow)return;e&amp;(Pt|Ct)&amp;&amp;(this.mouse.allow=!0),this.callback(t,e,n)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Kt=E(ut.style,"touchAction"),Qt=Kt!==i,te="compute",ee="auto",ne="manipulation",ie="none",re="pan-x",se="pan-y";U.prototype={set:function(t){t==te&amp;&amp;(t=this.compute()),Qt&amp;&amp;this.manager.element.style&amp;&amp;(this.manager.element.style[Kt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return o(this.manager.recognizers,function(e){c(e.options.enable,[e])&amp;&amp;(t=t.concat(e.getTouchAction()))}),V(t.join(" "))},preventDefaults:function(t){if(!Qt){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var i=this.actions,r=v(i,ie),s=v(i,se),o=v(i,re);if(r){var a=1===t.pointers.length,h=t.distance&lt;2,u=t.deltaTime&lt;250;if(a&amp;&amp;h&amp;&amp;u)return}if(!o||!s)return r||s&amp;&amp;n&amp;Nt||o&amp;&amp;n&amp;Xt?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var oe=1,ae=2,he=4,ue=8,ce=ue,le=16,pe=32;j.prototype={defaults:{},set:function(t){return at(this.options,t),this.manager&amp;&amp;this.manager.touchAction.update(),this},recognizeWith:function(t){if(s(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=B(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return s(t,"dropRecognizeWith",this)?this:(t=B(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(s(t,"requireFailure",this))return this;var e=this.requireFail;return t=B(t,this),g(e,t)===-1&amp;&amp;(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(s(t,"dropRequireFailure",this))return this;t=B(t,this);var e=g(this.requireFail,t);return e&gt;-1&amp;&amp;this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length&gt;0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(e,t)}var n=this,i=this.state;i&lt;ue&amp;&amp;e(n.options.event+G(i)),e(n.options.event),t.additionalEvent&amp;&amp;e(t.additionalEvent),i&gt;=ue&amp;&amp;e(n.options.event+G(i))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=pe)},canEmit:function(){for(var t=0;t&lt;this.requireFail.length;){if(!(this.requireFail[t].state&amp;(pe|oe)))return!1;t++}return!0},recognize:function(t){var e=at({},t);return c(this.options.enable,[this,e])?(this.state&amp;(ce|le|pe)&amp;&amp;(this.state=oe),this.state=this.process(e),void(this.state&amp;(ae|he|ue|le)&amp;&amp;this.tryEmit(e))):(this.reset(),void(this.state=pe))},process:function(t){},getTouchAction:function(){},reset:function(){}},h($,j,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&amp;(ae|he),r=this.attrTest(t);return i&amp;&amp;(n&amp;Ct||!r)?e|le:i||r?n&amp;Pt?e|ue:e&amp;ae?e|he:ae:pe}}),h(J,$,{defaults:{event:"pan",threshold:10,pointers:1,direction:Yt},getTouchAction:function(){var t=this.options.direction,e=[];return t&amp;Nt&amp;&amp;e.push(se),t&amp;Xt&amp;&amp;e.push(re),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,s=t.deltaX,o=t.deltaY;return r&amp;e.direction||(e.direction&amp;Nt?(r=0===s?xt:s&lt;0?Rt:Ot,n=s!=this.pX,i=Math.abs(t.deltaX)):(r=0===o?xt:o&lt;0?zt:Mt,n=o!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&amp;&amp;i&gt;e.threshold&amp;&amp;r&amp;e.direction},attrTest:function(t){return $.prototype.attrTest.call(this,t)&amp;&amp;(this.state&amp;ae||!(this.state&amp;ae)&amp;&amp;this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Z(t.direction);e&amp;&amp;(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),h(K,$,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ie]},attrTest:function(t){return this._super.attrTest.call(this,t)&amp;&amp;(Math.abs(t.scale-1)&gt;this.options.threshold||this.state&amp;ae)},emit:function(t){if(1!==t.scale){var e=t.scale&lt;1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),h(Q,j,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ee]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance&lt;e.threshold,s=t.deltaTime&gt;e.time;if(this._input=t,!i||!n||t.eventType&amp;(Pt|Ct)&amp;&amp;!s)this.reset();else if(t.eventType&amp;bt)this.reset(),this._timer=r(function(){this.state=ce,this.tryEmit()},e.time,this);else if(t.eventType&amp;Pt)return ce;return pe},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===ce&amp;&amp;(t&amp;&amp;t.eventType&amp;Pt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=ft(),this.manager.emit(this.options.event,this._input)))}}),h(tt,$,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ie]},attrTest:function(t){return this._super.attrTest.call(this,t)&amp;&amp;(Math.abs(t.rotation)&gt;this.options.threshold||this.state&amp;ae)}}),h(et,$,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Nt|Xt,pointers:1},getTouchAction:function(){return J.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&amp;(Nt|Xt)?e=t.overallVelocity:n&amp;Nt?e=t.overallVelocityX:n&amp;Xt&amp;&amp;(e=t.overallVelocityY),this._super.attrTest.call(this,t)&amp;&amp;n&amp;t.offsetDirection&amp;&amp;t.distance&gt;this.options.threshold&amp;&amp;t.maxPointers==this.options.pointers&amp;&amp;pt(e)&gt;this.options.velocity&amp;&amp;t.eventType&amp;Pt},emit:function(t){var e=Z(t.offsetDirection);e&amp;&amp;this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),h(nt,j,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ne]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance&lt;e.threshold,s=t.deltaTime&lt;e.time;if(this.reset(),t.eventType&amp;bt&amp;&amp;0===this.count)return this.failTimeout();if(i&amp;&amp;s&amp;&amp;n){if(t.eventType!=Pt)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime&lt;e.interval,a=!this.pCenter||z(this.pCenter,t.center)&lt;e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&amp;&amp;o?this.count+=1:this.count=1,this._input=t;var h=this.count%e.taps;if(0===h)return this.hasRequireFailures()?(this._timer=r(function(){this.state=ce,this.tryEmit()},e.interval,this),ae):ce}return pe},failTimeout:function(){return this._timer=r(function(){this.state=pe},this.options.interval,this),pe},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ce&amp;&amp;(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),it.VERSION="2.0.6",it.defaults={domEvents:!1,touchAction:te,enable:!0,inputTarget:null,inputClass:null,preset:[[tt,{enable:!1}],[K,{enable:!1},["rotate"]],[et,{direction:Nt}],[J,{direction:Nt},["swipe"]],[nt],[nt,{event:"doubletap",taps:2},["tap"]],[Q]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var fe=1,de=2;rt.prototype={set:function(t){return at(this.options,t),t.touchAction&amp;&amp;this.touchAction.update(),t.inputTarget&amp;&amp;(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?de:fe},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,i=this.recognizers,r=e.curRecognizer;(!r||r&amp;&amp;r.state&amp;ce)&amp;&amp;(r=e.curRecognizer=null);for(var s=0;s&lt;i.length;)n=i[s],e.stopped===de||r&amp;&amp;n!=r&amp;&amp;!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&amp;&amp;n.state&amp;(ae|he|ue)&amp;&amp;(r=e.curRecognizer=n),s++}},get:function(t){if(t instanceof j)return t;for(var e=this.recognizers,n=0;n&lt;e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(s(t,"add",this))return this;var e=this.get(t.options.event);return e&amp;&amp;this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(s(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=g(e,t);n!==-1&amp;&amp;(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){var n=this.handlers;return o(m(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this},off:function(t,e){var n=this.handlers;return o(m(t),function(t){e?n[t]&amp;&amp;n[t].splice(g(n[t],e),1):delete n[t]}),this},emit:function(t,e){this.options.domEvents&amp;&amp;ot(t,e);var n=this.handlers[t]&amp;&amp;this.handlers[t].slice();if(n&amp;&amp;n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i&lt;n.length;)n[i](e),i++}},destroy:function(){this.element&amp;&amp;st(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},at(it,{INPUT_START:bt,INPUT_MOVE:St,INPUT_END:Pt,INPUT_CANCEL:Ct,STATE_POSSIBLE:oe,STATE_BEGAN:ae,STATE_CHANGED:he,STATE_ENDED:ue,STATE_RECOGNIZED:ce,STATE_CANCELLED:le,STATE_FAILED:pe,DIRECTION_NONE:xt,DIRECTION_LEFT:Rt,DIRECTION_RIGHT:Ot,DIRECTION_UP:zt,DIRECTION_DOWN:Mt,DIRECTION_HORIZONTAL:Nt,DIRECTION_VERTICAL:Xt,DIRECTION_ALL:Yt,Manager:rt,Input:_,TouchAction:U,TouchInput:k,MouseInput:Y,PointerEventInput:F,TouchMouseInput:L,SingleTouchInput:W,Recognizer:j,AttrRecognizer:$,Tap:nt,Pan:J,Swipe:et,Pinch:K,Rotate:tt,Press:Q,on:p,off:f,each:o,merge:vt,extend:dt,assign:at,inherit:h,bindFn:u,prefixed:E});var ve="undefined"!=typeof t?t:"undefined"!=typeof self?self:{};ve.Hammer=it,"function"==typeof define&amp;&amp;define.amd?define(function(){return it}):"undefined"!=typeof module&amp;&amp;module.exports?module.exports=it:t[n]=it}(window,document,"Hammer");
var User=function(){function e(t){this.is_logged_in=!1!==t,this.username=t,this.isLoggedIn()?(this.refreshData(),this.refreshAvatar(),this.handlePremium()):this.fillLoginForms(),"undefined"!=typeof store&amp;&amp;store.get("username")&amp;&amp;e.getLoginFromCookie()!=store.get("username")&amp;&amp;store.clear()}return e.prototype.isLoggedIn=function(){return this.is_logged_in},e.prototype.getUsername=function(){return!!this.is_logged_in&amp;&amp;this.username},e.prototype.setUsername=function(e){this.is_logged_in=!1!==e,this.username=e},e.prototype.isContentPartner=function(){return!!store.get("content_partner")},e.prototype.logout=function(){"undefined"!=typeof favorites&amp;&amp;favorites&amp;&amp;favorites.clear(),store.clear()},e.prototype.getLocalDataAsString=function(){return"undefined"==typeof JSON||"undefined"==typeof store?"":JSON.stringify({favorites:store.get("favorites")})},e.prototype.fillLoginForms=function(){this.isLoggedIn()&amp;&amp;this.getUsername()!=store.get("username")||$("input[name='login[local_data]'], input[name='registration[local_data]']").val(this.getLocalDataAsString())},e.prototype.refreshData=function(){if(!store.enabled)return!1;var t=store.get("username");this.isLoggedIn()&amp;&amp;t&amp;&amp;(this.getUsername()!=t||e.getLoginFromCookie()!=t)&amp;&amp;store.clear();var r=+new Date,n=store.get("ttl")||0;if(n&lt;r){var o=this;return $.ajax({cache:!1,url:"/change/user/data.json",dataType:"json",success:function(e){$.each(e,function(e,t){store.set(e,t)}),store.set("ttl",r+3e5),o.isContentPartner()&amp;&amp;$("body").addClass("content-partner"),o.refreshAvatar(),o.handlePremium()}}),!0}return!1},e.getLoginFromCookie=function(e){e=e||"login";var t=$.cookie(e);return!!t&amp;&amp;(t=t.split("|")[0],"ph"==t.split("-")[0]&amp;&amp;(t=t.substring(3)),"ypp"==t.split("-")[0]&amp;&amp;(t=t.substring(4)),t)},e.prototype.refreshAvatar=function(){var e=store.get("avatar");e&amp;&amp;""!=e&amp;&amp;$(".js_userAvatar").attr("src",e)},e.prototype.handlePremium=function(){var e=store.get("is_premium");e&amp;&amp;(this.is_premium=e,$(".js_userName").html(this.username).append('&lt;span class="premiumUserStar"&gt;&lt;/span&gt;'))},e}(),current_user=new User(!1);$(document).ready(function(){$(".js_avatarImg").append($("#userAvatarTpl").html()),current_user=new User(User.getLoginFromCookie())}),$(function(e){current_user.isLoggedIn()?($(".logged-in").show(),$(".logged-out").hide(),$(".logout a").click(function(){current_user.logout()}),$(".headMenuTitle .menu-title-username .js_userName").html(current_user.getUsername())):($(".logged-in").hide(),$(".logged-out").show())});
function setNewCookie(e,t,n){"undefined"!=typeof n&amp;&amp;""!==n&amp;&amp;null!==n||(n=365);var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);var i=o.toUTCString();document.cookie=e+"="+t+"; expires="+i+"; path=/"}function getNewCookie(e,t){for(var t=t||"",n=e+"=",o=document.cookie.split(";"),i=0;i&lt;o.length;i++){for(var r=o[i];" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(n))return r.substring(n.length,r.length)}return t}function decode(e){return decodeURIComponent(e)}
function setCookiesDefaults(){"undefined"!=typeof $.cookie.defaults&amp;&amp;($.cookie.defaults.path="/",$.cookie.defaults.domain=$cookieDomain)}function getAndroidVersion(){var e=navigator.userAgent,o=e.match(/Android\s([0-9\.]*)/i);return!!o&amp;&amp;o[1]}function showHideOverlay(){var e=$("#menu-overlay");e.height($(document).height()),e.off("click"),e.data("active")?(e.data("active",!1),e.hide()):(e.data("active",!0),e.show())}function listGrid(e,o){var i=e;i.hasClass("selected")||($("#content #listGridWrapper div").removeClass("selected"),i.addClass("selected"),i.hasClass("list")?$(".categories_list").addClass("list").removeClass("grid"):$(o).addClass("grid").removeClass("list"))}function processScroll(){var e=$(".topHeader"),o="header-fixed";window.pageYOffset&gt;screen.height&amp;&amp;e.addClass(o),previousScrollPosition&gt;window.pageYOffset&amp;&amp;e.removeClass(o),previousScrollPosition=window.pageYOffset}function showHideMenu(){headerContainer.hasClass("complete")?($overlay.fadeOut(),$("#slideMenuItems").css("z-index","0"),headerContainer.stop(!0).animate({left:"0"},10,function(){headerContainer.removeClass("complete"),$body.removeClass("bodyRelative"),$("#slideMenuItems").css("height","100%"),$body.css("height","auto").css("margin",bodyMargin),$("#pageWrapper").css("height","auto").css("overflow","auto"),$("#mainWrapper").css("height","auto").css("overflow","auto"),$("#mobileContainer").css("height","auto").css("overflow","auto")})):($overlay.animate({top:"40"},10),$overlay.fadeIn(),headerContainer.stop(!0).animate({left:"85%"},10,function(){$slideMenuItems.animate({left:"0",opacity:"show"},10),headerContainer.addClass("complete"),$body.addClass("bodyRelative"),$slideMenuItems.css("height","auto").css("min-height",$(window).height()-41+"px"),$headerMenu.css("height","auto").css("min-height",$(window).height()-41+"px"),$slideMenuItems.css("z-index","150"),$body.css("height",$slideMenuItems.height()+350+"px").css("margin","0px"),$("#pageWrapper").css("height","100%").css("overflow","hidden"),$("#mainWrapper").css("height",$headerMenu.height()+40+"px").css("overflow","hidden"),$("#mobileContainer").css("height",$headerMenu.height()+"px").css("overflow","hidden"),$overlay.css("height",$body.height())}))}function signUpConfiramtionButton(){$("#signUpConfirmationButton").on("click",function(){$("#registrationConfirmed").hide(),$("#paidSites").css("padding","1px 0 7px")})}function GetQueryString(e,o,i){"undefined"!=typeof o&amp;&amp;null!=o||(o=window.location.href),"undefined"!=typeof i&amp;&amp;null!=i||(i=""),e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&amp;]"+e+"=([^&amp;#]*)"),n=t.exec(o);return null==n?i:n[1]}function UpdateQueryString(e,o,i){i||(i=window.location.href);var t,n=new RegExp("([?&amp;])"+e+"=.*?(&amp;|#|$)(.*)","gi");if(n.test(i))return"undefined"!=typeof o&amp;&amp;null!==o?i.replace(n,"$1"+e+"="+o+"$2$3"):(t=i.split("#"),i=t[0].replace(n,"$1$3").replace(/(&amp;|\?)$/,""),"undefined"!=typeof t[1]&amp;&amp;null!==t[1]&amp;&amp;(i+="#"+t[1]),i);if("undefined"!=typeof o&amp;&amp;null!==o){var s=i.indexOf("?")!==-1?"&amp;":"?";return t=i.split("#"),i=t[0]+s+e+"="+o,"undefined"!=typeof t[1]&amp;&amp;null!==t[1]&amp;&amp;(i+="#"+t[1]),i}return i}if(setCookiesDefaults(),$(function(e){var o=$.cookie("view");"grid"==o?($(".leftGrid").toggleClass("selected"),$("body").removeClass("list")):$(".leftList").toggleClass("selected")}),$(".leftList, .leftGrid").on("click",function(e){var o="";o=$(this).hasClass("leftList")?"list":"grid",$(this).hasClass("selected")||(e.preventDefault(),$.cookie("view",o,{expiry:0,path:"/"}),$(this).parent().find("div").removeClass("selected"),$(this).addClass("selected"),$(this).hasClass("leftList")?$("body").removeClass("grid").addClass("list"):$("body").removeClass("list").addClass("grid"))}),String.prototype.endsWith=function(e){return this.indexOf(e,this.length-e.length)!==-1},page_params.is_site_gay){var $nextDayExpiry=new Date,$floatingBanner=$("#floatingBanner, #floatingBanner .close");$nextDayExpiry.setHours(0,0,0,0),$nextDayExpiry.setDate($nextDayExpiry.getDate()+1),$.cookie("floatingBanner")?($("body").css("margin-bottom","0px"),$floatingBanner.css("display","none")):($floatingBanner.css("display","block"),$("#floatingBanner").find(".close").on("click",function(){$floatingBanner.css("display","none"),$("body").css("margin-bottom","0px"),$.cookie("floatingBanner","1",{expires:$nextDayExpiry,path:"/"})}))}window.addEventListener("resize",function(){var e=$(".modalBox:visible");$(".modalBox").is(":visible")&amp;&amp;e.css({left:($(window).width()-e.width())/2})}),$(".LeftMenuItem").children("div").click(function(e){var o=$(this).parent();e.preventDefault(),o.hasClass("active")?(o.removeClass("active"),o.children(".sub-menu-navigation").addClass("is-hidden")):($(".menu-navigation .menu-item").removeClass("active"),o.addClass("active"),o.children(".sub-menu-navigation").removeClass("is-hidden"))}),$(document).ready(function(){var e=$(".dropdownMenu").not(".dropdownComments").find("select");e.on("change",function(){location.href=this.value}),$(".videoBox a").click(function(e){for(var o=window.location.search.substring(1),i=o.split("&amp;"),t=1,n=0;n&lt;i.length;n++){var s=i[n].split("=");if("page"==s[0])var t=s[1]}"browse"==$(body).data("current-action")&amp;&amp;1==t&amp;&amp;"true"===$.cookie("bsGeoCategoryVideos")&amp;&amp;ga("send","event","HomePage","click","Click from personalized homepage")}),"undefined"!=typeof current_user&amp;&amp;current_user.isLoggedIn()?$("body").addClass("logged-in"):$("body").addClass("logged-out")}),$("document").ready(function(){function e(){var e=navigator.userAgent.toLowerCase();return e}var o=$(".tj_ad a");document.getElementById("signUpConfirmationButton")&amp;&amp;signUpConfiramtionButton(),$.cookie("puCook")||""===$puUrl||""===$puUrlAndy||$("a").on("click",function(e){if(!(o.is($(this))||$(this).hasClass("removeAdLink")||$(this).parents().hasClass("removeAdLink"))&amp;&amp;(e.preventDefault(),$(this).attr("href"))){var i=new Date;i.setHours(i.getHours()+8),$.cookie("puCook","1",{expires:i,path:"/",domain:$cookieDomain});var t=$(this).attr("href"),n=/chrome\/([4][9-9]|[5-9][0-9]|[1-9][0-9][0-9])\./.test(navigator.userAgent.toLowerCase()),s=/crios/.test(navigator.userAgent.toLowerCase()),a=/firefox/.test(navigator.userAgent.toLowerCase()),r=/fxios/.test(navigator.userAgent.toLowerCase()),l=getAndroidVersion()&amp;&amp;100*Math.random()&lt;30?$puUrlAndy:$puUrl;if(n||s||a||r)isLocalStorage()&amp;&amp;localStorage.setItem("puTargetURL",t),window.location.href=l,window.open(document.location.href,"_blank");else if(MG_Utils.browser.isWindowsPhone())window.location.href=l,window.open(t,"_blank");else{var d=window.open("about:blank");try{d.history.replaceState({previous:window.location.href},null,window.location.href),d.addEventListener("popstate",function(e){d.location=e.state.previous}),d.location=t,window.location.href=l.replace(/&amp;amp;/g,"&amp;")}catch(e){try{d.close(),window.location.href=l,window.open(document.location.href,"_blank")}catch(e){}}}}});var i=e();/android/i.test(i)?($("#android_app_top_banner_container").fadeIn(),$("div.app").parents(".LeftMenuItem").fadeIn()):($("div.app").parents(".LeftMenuItem").hide(),$("#android_app_top_banner_container").hide());var t=$("#android_app_top_banner_container");$.cookie("android-app")?t.css("display","none"):($("#androidCloseBtn").on("click",function(){var e=6048e5,o=new Date((new Date).valueOf()+e);t.slideUp(100),$.cookie("android-app","true",{expiry:o})}),$(".app_wrapper .info a").on("click",function(){var e=5184e6,o=new Date((new Date).valueOf()+e);t.slideUp(100),$.cookie("android-app","true",{expiry:o})}))}),$(function(e){var o=$.cookie("listGrid");"grid"==o?($(".grid").toggleClass("selected"),$(".js-ab-test-list-view").removeClass("list").addClass("grid")):($(".list").toggleClass("selected"),$(".js-ab-test-list-view").removeClass("grid").addClass("list"))}),$(".listGrid").on("click",function(e){var o="";o=$(this).hasClass("list")?"list":"grid",$(this).hasClass("selected")||(e.preventDefault(),$.cookie("listGrid",o,{expiry:0,path:"/"}),$(this).addClass("selected").parent().siblings().find("i").removeClass("selected")),$(this).hasClass("list")?$(".porn-categories").removeClass("grid").addClass("list"):$(".porn-categories").removeClass("list").addClass("grid")}),Array.prototype.remove=function(e,o){var i=this.slice((o||e)+1||this.length);return this.length=e&lt;0?this.length+e:e,this.push.apply(this,i)};var scrollTimer,lastScrollPos,lastScrollFireTime=0,minScrollTime=100;$(window).on("scroll",function(){var e=(new Date).getTime();scrollTimer||(e-lastScrollFireTime&gt;3*minScrollTime&amp;&amp;(processScroll(),lastScrollFireTime=e,lastScrollPos=$(window).scrollTop()),scrollTimer=setTimeout(function(){scrollTimer=null,lastScrollFireTime=(new Date).getTime();var e=$(window).scrollTop();e!==lastScrollPos&amp;&amp;processScroll(),lastScrollPos=e},minScrollTime))});var previousScrollPosition=0,headerContainer=$("#mainWrapper, #floatingBanner"),$overlay=$("#menu-overlay"),$body=$("body"),$slideMenuItems=$("#slideMenuItems"),$headerMenu=$(".headerMenu"),bodyMargin=$body.css("margin");$(".topHeader &gt; li:first, .menuBtn, #leftNavigation a.information").on("click",function(){window.scrollTo(0,0),showHideMenu()}),$overlay.on("click",function(e){$body.hasClass("bodyRelative")&amp;&amp;showHideMenu()});var isIEMobile={Windows:function(){return navigator.userAgent.match(/IEMobile/i)}};isIEMobile.Windows()&amp;&amp;$("#user_registration_form").addClass("windowsPhone"),$(document).on("focus",'input[type="text"], input[type="password"]',function(){$("html").addClass("keyboard-open"),$(this).trigger("keyboard.shown")}),$(document).on("blur",'input[type="text"], input[type="password"]',function(){$("html").removeClass("keyboard-open"),$(this).trigger("keyboard.hidden")}),$(document).on("click",".iconAddTo",function(e){e.preventDefault(),loadModalBox("#add_to_modal")}),$(".close").on("click",function(){closeModalBox("#add_to_modal")});var isFirefox=/firefox/.test(navigator.userAgent.toLowerCase());isFirefox&amp;&amp;"search"===page_params.pageName&amp;&amp;setTimeout(function(){$("#pagination").on("touchend","a",function(e){e.preventDefault(),window.location.href=$(this).attr("href")})},0),$("#footerLinks .information").on("click",function(){window.scrollTo(0,0)});
eval(function(a,x,b,e,c,n){if(c=function(a){return(a&lt;x?"":c(parseInt(a/x)))+((a%=x)&gt;35?String.fromCharCode(a+29):a.toString(36))},!"".replace(/^/,String)){for(;b--;)n[c(b)]=e[b]||c(b);e=[function(a){return n[a]}],c=function(){return"\\w+"},b=1}for(;b--;)e[b]&amp;&amp;(a=a.replace(new RegExp("\\b"+c(b)+"\\b","g"),e[b]));return a}('s a=["\\u\\b\\n\\r\\g\\o\\m","\\u\\O","\\j\\l\\v","\\1B\\E","\\k\\o\\t\\n\\j\\I\\L","\\g\\m\\g\\d","\\v\\n\\o\\d\\o\\d\\I\\v\\b","\\k\\o\\1A","\\J","\\V\\t\\g\\j\\z\\1z\\b\\r\\t\\j\\d","\\O\\G\\C\\r","\\V","\\e\\b\\d\\p\\k\\l\\j\\j\\b\\m\\e\\b\\n\\g","\\C\\k","\\e\\b\\d\\p\\k\\l\\j\\j\\b\\m\\e\\b\\n\\g\\g","\\J\\r","\\e\\b\\d\\p\\k\\l\\j\\j\\b\\m\\e\\b\\n\\g\\g\\g","\\Y","\\e\\b\\d\\p\\k\\l\\j\\j\\b\\m\\e\\b\\n\\g\\u","\\b\\t\\n","\\e\\b\\d\\p\\k\\l\\j\\j\\b\\m\\e\\b\\n\\u","\\E","\\e\\b\\d\\p\\k\\l\\j\\j\\b\\m\\e\\b\\n\\u\\g","\\v","\\e\\b\\d\\p\\k\\l\\j\\j\\b\\m\\e\\b\\n","\\e\\b\\d\\A\\k\\o\\g","\\m\\E","\\e\\b\\d\\A\\k\\o\\g\\g","\\d","\\e\\b\\d\\A\\k\\o\\g\\g\\g","\\k","\\e\\b\\d\\A\\k\\o\\g\\u","\\G","\\e\\b\\d\\A\\k\\o","\\m\\e","\\e\\b\\d\\1x\\u\\b\\m\\d","\\W\\J\\C","\\e\\b\\d\\p\\l\\d\\b\\e\\o\\n\\I","\\C\\O\\G\\X","\\W","\\e\\b\\d\\p\\o\\X\\v\\b\\d\\g\\d\\g\\o\\m","\\Y\\b\\t\\n\\E\\v\\G","","\\n\\b\\v\\j\\l\\1H\\b","\\e\\b\\d\\1G\\m\\r\\d\\l\\m\\d\\P\\l\\d\\b","\\z\\l\\d\\b","\\e\\b\\d\\F\\D\\p\\1a\\o\\m\\d\\k","\\l\\z\\z\\1w\\b\\l\\z\\g\\m\\e\\1E\\b\\n\\o\\r","\\e\\b\\d\\F\\D\\p\\P\\l\\d\\b","\\e\\b\\d\\F\\D\\p\\L\\o\\t\\n\\r","\\e\\b\\d\\F\\D\\p\\1a\\g\\m\\t\\d\\b\\r","\\e\\b\\d\\1s\\t\\j\\j\\1J\\b\\l\\n","\\1R","\\1U","\\e\\b\\d\\L\\l\\r\\k"];s h=(i(){i h(K){B(!K){f M};c[a[0]]=a[1];c[a[2]]=a[3];c[a[4]]=K;c[a[5]]()};h[a[6]][a[5]]=i(){c[a[7]]=a[8]};h[a[6]][a[9]]=i(){s T=a[10];f a[11]+T};h[a[6]][a[12]]=i(){f a[13]};h[a[6]][a[14]]=i(){f a[15]};h[a[6]][a[16]]=i(){f a[17]};h[a[6]][a[18]]=i(){f a[19]};h[a[6]][a[Q]]=i(){f a[1e]};h[a[6]][a[1b]]=i(){f a[1O]};h[a[6]][a[1o]]=i(){f c[a[12]]()+c[a[14]]()+c[a[16]]()+c[a[18]]()+c[a[Q]]()+c[a[1b]]()};h[a[6]][a[R]]=i(){f a[1M]};h[a[6]][a[U]]=i(){f a[1K]};h[a[6]][a[S]]=i(){f a[1L]};h[a[6]][a[Z]]=i(){f a[1h]};h[a[6]][a[1g]]=i(){f c[a[R]]()+c[a[U]]()+c[a[S]]()+c[a[Z]]()+a[1T]};h[a[6]][a[1k]]=i(){f c[a[2]]+c[a[0]]+a[1Q]};h[a[6]][a[1n]]=i(){f a[1N]+a[w]+c[a[7]]+a[w]+c[a[1k]]()};h[a[6]][a[1p]]=i(){s 1d=c[a[1o]]()+a[1h];f c[a[1g]]()+a[w]+c[a[9]]()+a[w]+1d[a[1P]](a[1S],a[H])};h[a[6]][a[1q]]=i(){B(!c[a[q]]1W N){c[a[q]]=1l N()};s 1r=c[a[y]](c[a[q]][a[1V]]()+1);s 1c=c[a[y]](c[a[q]][a[1F]]());s 1i=c[a[y]](c[a[q]][a[1t]]());s 1j=c[a[y]](c[a[q]][a[1u]]());f c[a[q]][a[1v]]()+a[1f]+1r+a[1f]+1c+a[w]+1i+a[1I]+1j};h[a[6]][a[y]]=i(x){B(1D(x)||x&lt;=0){f M};f x&lt;10?a[1e]+x:x+a[H]};h[a[6]][a[1C]]=i(){c[a[q]]=1l N();B(!1m){f M};f 1m.1y(c[a[4]]+c[a[1q]](c[a[q]])+c[a[1p]]()+a[w]+c[a[1n]]())+a[H]};f h})();',62,121,"||||||||||_0x174a|x65|this|x74|x67|return|x69|Hashing|function|x6C|x68|x61|x6E|x72|x6F|x43|45|x73|var|x75|x76|x70|39|_0x959bx9|47|x64|x57|if|x37|x54|x30|x55|x34|42|x79|x21|_0x959bx2|x48|false|Date|x33|x44|20|25|29|_0x959bx3|27|x62|x20|x6D|x5F|31|||||||||||x4D|22|_0x959bx6|_0x959bx4|21|52|33|32|_0x959bx7|_0x959bx8|35|new|CryptoJS|37|24|40|44|_0x959bx5|x46|49|50|51|x4C|x45|MD5|x52|x77|x31|54|isNaN|x5A|48|x49|x63|53|x59|28|30|26|38|23|43|36|x2D|41|34|x3A|46|instanceof".split("|"),0,{}));var hashing=!1;hashing=new Hashing(hash);
function toggleSubscription(s,t){var i=t.data("key"),n=parseInt(t.data("value"));s.isSubscribed(i,n)?removeSubscriptions(s,i,n):s.add(i,n,function(s,t,e){$(".subscription_button.button_"+i+"_"+n).each(function(s,t){$(t).removeClass(i+"_subscription_button").addClass(i+"_unsubscription_button").addClass("unsubscribe"),$(t).find("span").html("Subscribed")})})}function removeSubscriptions(s,t,i){s.remove(t,i,function(s,n,e){$(".subscription_button.button_"+t+"_"+i).each(function(s,i){$(i).removeClass(t+"_unsubscription_button").addClass(t+"_subscription_button").removeClass("unsubscribe"),$(i).find("span").html("Subscribe")})})}var Subscriptions=function(){function s(s){this.current_user=s,"undefined"!=typeof store?this.subscriptions=store.get("subscriptions")||t:this.subscriptions=t,this.url_subscribe="/subscriptions/subscribe/{key}/{value}/",this.url_unsubscribe="/subscriptions/unsubscribe/{key}/{value}/",this.url_save_all="/subscriptions/save_all/",this.reload()}var t={channels:[],users:[],pornstars:[]},i="subscriptions";return s.prototype.add=function(s,t,i){var n=this.pluralize(s);"undefined"==typeof this.subscriptions[n]&amp;&amp;(this.subscriptions[n]=[]),this.subscriptions[n].push(t),this.send_add_request(s,t,i)},s.prototype.remove=function(s,t,i){var n=this.pluralize(s),e=this.subscriptions[n].indexOf(t);this.subscriptions[n].remove(e),this.send_remove_request(s,t,i)},s.prototype.isSubscribed=function(s,t){var i=this.pluralize(s);return this.subscriptions[i]&amp;&amp;0&lt;=this.subscriptions[i].indexOf(t)},s.prototype.reload=function(){"undefined"!=typeof store?this.subscriptions=store.get(i)||t:this.subscriptions=t},s.prototype.load=function(s){this.subscriptions=s},s.prototype.clear=function(){this.subscriptions=t,"undefined"!=typeof store&amp;&amp;store.remove(i)},s.prototype.saveAll=function(s){this.current_user.isLoggedIn()&amp;&amp;$.post(this.url_save_all,{subscriptions:this.all()},function(t,i,n){s(t,i,n)})},s.prototype.send_add_request=function(s,t,i){var n=this;if(this.current_user.isLoggedIn()){var e={key:s,value:t};this.hashing&amp;&amp;(e.instantH=this.hashing.getHash(),e.hourlyH=this.hashing.hourlyH),$.post(this.url_subscribe.replace("{key}",s).replace("{value}",t),e,function(s,t,e){n.store(),i(s,t,e)},"json")}else this.store(),i(null)},s.prototype.count=function(){var s,t=0;for(s in this.subscriptions)t+=this.subscriptions[s].length;return t},s.prototype.send_remove_request=function(s,t,i){var n=this;if(this.current_user.isLoggedIn()){var e={key:s,value:t};this.hashing&amp;&amp;(e.instantH=this.hashing.getHash(),e.hourlyH=this.hashing.hourlyH),$.post(this.url_unsubscribe.replace("{key}",s).replace("{value}",t),e,function(s,t,e){n.store(),i(s,t,e)},"json")}else this.store(),i(null)},s.prototype.store=function(){"undefined"!=typeof store&amp;&amp;store.set("subscriptions",this.all())},s.prototype.all=function(){return this.subscriptions},String.prototype.endsWith=function(s){return this.indexOf(s,this.length-s.length)!==-1},s.prototype.pluralize=function(s){return s.endsWith("s")?s:s+"s"},s.prototype.setHashing=function(s){this.hashing=s},s}(),subscriptions=!1;$(document).ready(function(){subscriptions=new Subscriptions(current_user),hashing instanceof Hashing&amp;&amp;subscriptions.setHashing(hashing),$(".subscription_button").each(function(s,t){var i=$(this),n=i.data("key"),e=parseInt(i.data("value"));subscriptions.isSubscribed(n,e)&amp;&amp;($(t).removeClass(n+"_subscription_button").addClass(n+"_unsubscription_button").addClass("unsubscribe"),$(t).find("span").html("Subscribed"))}),$(".subscription_button").each(function(s,t){var i=$(this),n=i.data("key"),e=parseInt(i.data("value"));subscriptions.isSubscribed(n,e)&amp;&amp;($(t).removeClass(n+"_subscription_button").addClass(n+"_unsubscription_button").addClass("unsubscribe"),$(t).find("span").html("Subscribed"))}),$(document).on("click",".subscription_button",function(){current_user.isLoggedIn()?toggleSubscription(subscriptions,$(this)):window.location.href="/register/#previous="+window.location.pathname})});
function hideOverlay(){var e=$("#menu-overlay");e.data("active")&amp;&amp;(e.data("active",!1),e.hide())}function showResponse(e){var a,t=$(appendMainSearch).find("ul.autocomplete");if(0==t.length&amp;&amp;(t=$('&lt;ul class="autocomplete"&gt;&lt;/ul&gt;').appendTo(appendMainSearch)),"undefined"!=typeof e){var r=$.trim($("#header").find('.search input[type="text"]').val().toLowerCase());a=[],$.each(e,function(e,t){var i=new RegExp(r,"i"),l=0,s=0,n=0,o="";o=t.label,$.each(t.value,function(e,t){var c=t.name;if("undefined"!=typeof c){var h="";"channels"===o?(h=c.replace(i,"&lt;span class='ui-autocomplete-highlight'&gt;"+r+"&lt;/span&gt;"),n&lt;4&amp;&amp;(a.unshift('&lt;li class="channel"&gt;&lt;i class="icon-tv"&gt;&lt;/i&gt;&lt;a href="/channel/'+t.id+"/"+t.slug+'/" data-search-term="'+r+'"&gt;'+h+'&lt;span class="channelCounts"&gt;&amp;nbsp;('+t.videos_count+" videos)&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;"),n++)):"pornstars"===o&amp;&amp;(h=c.replace(i,"&lt;span class='ui-autocomplete-highlight'&gt;"+r+"&lt;/span&gt;"),s&lt;4&amp;&amp;(a.unshift('&lt;li class="pornstar"&gt;&lt;i class="icon-pornstar"&gt;&lt;/i&gt;&lt;a href="/pornstar/'+t.id+"/"+t.slug+'/" data-search-term="'+r+'"&gt;'+h+'&lt;span class="channelCounts"&gt;&amp;nbsp;('+t.videos_count+" videos)&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;"),s++))}else h=t.replace(i,"&lt;span class='ui-autocomplete-highlight'&gt;"+r+"&lt;/span&gt;"),l&lt;10&amp;&amp;(a.unshift('&lt;li&gt;&lt;i class="icon-menu-videos"&gt;&lt;/i&gt;&lt;a href="" data-search-term="'+t+'"&gt;'+h+"&lt;/a&gt;&lt;/li&gt;"),l++)})}),t.empty(),t.append(a.join(""))}else a=t.children("li").get();destroySlimscroll();var i=$("#header .autocomplete");i.css("height","0px"),i.show();var l=41,s=$("html").hasClass("keyboard-open")?.55:1,n=Math.max(3,Math.floor(($(window).height()*s-i.offset().top)/l)),o=a.length,c=o*l,h=o&lt;=n?c:n*l;i.css("height","auto"),o&gt;n&amp;&amp;(i.slimScroll({color:"#EE577C",height:h+"px",width:"100%",start:"top",railVisible:!0,alwaysVisible:!0}),$("#header .slimScrollDiv").show()),$("#menu-overlay").is(":visible")||showHideOverlay(),$("#menu-overlay").on("click",function(e){hideSearchResults(),$("#mainSearch").hide(),$query.val(""),hideOverlay()})}function destroySlimscroll(){if($("#header .slimScrollDiv").length){var e=$("#header .autocomplete");e.slimScroll({destroy:!0});var a=jQuery._data(e,"events");a&amp;&amp;jQuery._removeData(e,"events")}}function hideSearchResults(){$("#menu-overlay").is(":visible")&amp;&amp;"0"==$("#slideMenuItems").css("z-index")&amp;&amp;showHideOverlay(),$("ul.autocomplete").empty(),$("ul.autocomplete").hide(),$("#header .slimScrollDiv").hide(),destroySlimscroll()}function validateSearch(e){var a=/[\&gt;\]\[\%\/\&lt;\\$^]|http/i;return""==$query.val()?($query.attr("placeholder","Please enter a query"),e.preventDefault(),!1):$query.val().match(a)?($query.val("").attr("placeholder","Query contains invalid characters"),e.preventDefault(),!1):($query.attr("placeholder",""),!0)}var $query=$("#query");$("#search, #close_search").on("click",function(e){var a=$("#mainSearch"),t=a.find("input");a.is(":visible")?($("#mainSearch").hide(),$("#query").val(""),hideSearchResults(),t.removeAttr("autofocus","autofocus"),hideOverlay()):(t.attr("autofocus","autofocus"),$("#mainSearch").show(),t.select()),t.is(":visible")&amp;&amp;setTimeout(function(){$query.focus(),$query.select()},1e3)}),$("#clearSearch").on("click",function(){hideSearchResults(),$query.val(""),$query.focus(),hideOverlay()});var autocomplete={cache:{},xhr:{}},appendMainSearch="#mainSearch";$query.keyup(function(){var e=2,a=$(this).val();if(a.length&gt;=e){var t=a,r=/[&gt;\]\[%\/&lt;\\$^]|http/g;return t=t.replace(r,""),$.getJSON("/search/autocomplete/"+t+"/",function(e,a,t){showResponse($.map(e,function(e,a){return{label:a,value:e}}))}),!0}hideSearchResults()}),$query.on("keyboard.shown keyboard.hidden",function(){setTimeout(function(){var e=$("#header .slimScrollDiv");e.length&amp;&amp;e.is(":visible")&amp;&amp;showResponse()},100)}),$(document).ready(function(){$query.focus(function(){$query.attr("placeholder","")}),$("#btnSearch").on("click",function(e){return validateSearch(e)})}),$(document).on("click",".autocomplete a",function(e){$(this).parent().hasClass("channel")||$(this).parent().hasClass("pornstar")||(e.preventDefault(),$query.val($(this).attr("data-search-term")),$("#btnSearch").trigger("click"))});
var CommentsCollection=function(){function t(t){this.type=t,this.local_data_key="comments_"+t}return t.prototype.add=function(t){var e=this.all();e.push(parseInt(t)),store.set(this.local_data_key,e)},t.prototype.remove=function(t){var e=this.all(),o=e.indexOf(parseInt(t));e.remove(o),store.set(this.local_data_key,e)},t.prototype.includes=function(t){return 0&lt;=this.all().indexOf(parseInt(t))},t.prototype.clear=function(){store.remove(this.local_data_key)},t.prototype.store=function(){store.set(this.local_data_key,this.all())},t.prototype.all=function(){return store.get(this.local_data_key)||[]},t.prototype.count=function(){return this.all().length},t}();
function getVideoId(){return $addTo_wrapper.attr("data-video-id")}function getVideoIdEncrypted(){return $addTo_wrapper.attr("data-video-id-encrypted")}function checkIfFavorited(){var e=getVideoId(),o=getNewCookie("newfavorites"),t=[],i=[];if(t=t.concat(i),""!=o){var n=JSON.parse(o);"[object Array]"===Object.prototype.toString.call(n)&amp;&amp;n.length&gt;0&amp;&amp;(t=t.concat(n))}return t.indexOf(e)&gt;-1}function createCollectionItem(e,o,t,i){var n=$addToCollection_itemTemplate.clone().removeClass("template").removeClass("is-hidden").attr("data-list-id",e).attr("data-added",i);return n.find(".featureOptionDescription").text(o),n.find(".featureOptionQuantity").text(t),i&amp;&amp;n.find(".featureOptionCTA .icon-checkmark").removeClass("is-hidden"),n}function myCollectionList(e){var o=getVideoId();getVideoIdEncrypted();e="undefined"!=typeof e?e:null,collectionList=[],$addToCollection_ajaxLoader.removeClass("is-hidden"),$.ajax({cache:!1,url:"/mycollections.json",dataType:"json",success:function(e){var t=getNewCookie("newCollections");if(""!=t){var l=new Array,d=JSON.parse(t);"[object Array]"===Object.prototype.toString.call(d)&amp;&amp;d.length&gt;0&amp;&amp;($.each(d,function(o,t){var i=d[o].collectiondId;e.some(function(e,o,t){return e.list_id==i})||(e.unshift({list_id:i,title:d[o].title,total_items:0,items:null}),l.push({collectiondId:d[o].collectiondId,title:d[o].title}))}),setNewCookie("newCollections",JSON.stringify(l)))}var a=getNewCookie("collection_count"),r=""!=a?JSON.parse(getNewCookie("collection_count")):null;$.each(e,function(t,l){var d=null==e[t].total_items?0:e[t].total_items,a=!1;if("undefined"!=typeof e[t].items&amp;&amp;e[t].items&amp;&amp;e[t].items.length&amp;&amp;e[t].items.some(function(e,t,i){return e.video_id==o}))a=!0;else if("[object Array]"===Object.prototype.toString.call(r)&amp;&amp;r.length&gt;0)for(i=0;i&lt;r.length;i++){var c=r[i];if("[object Array]"===Object.prototype.toString.call(c)&amp;&amp;2==c.length){var s=c[0],C=c[1];if(s==e[t].list_id&amp;&amp;"[object Array]"===Object.prototype.toString.call(C)&amp;&amp;C.length&gt;0)for(n=0;n&lt;C.length;n++){var p=C[n];if(p==o){a=!0,d++;break}}}}$addToCollection_collectionList.append(createCollectionItem(e[t].list_id,e[t].title,d,a))})},error:function(e){},complete:function(){$addToCollection_ajaxLoader.addClass("is-hidden"),null!=e&amp;&amp;e()}})}function scrollCheck(){$addToCollection_collectionList.children().length&amp;&amp;$addToCollection_collectionList.children().length&gt;=5&amp;&amp;$addToCollection_collectionList.slimScroll({height:"145px",railVisible:!0,alwaysVisible:!0,color:"#ec567c",railColor:"#fff",railOpacity:1,distance:"3px",size:"3px"})}function showErrorBox(){var e=$addTo_wrapper.find(".js_errorMessage");e.removeClass("is-hidden")}var collectionList=[],removedVideos=[],removedLists=[],$addTo_wrapper=$(".watch-collections-container"),$addToFavorite_trigger=$addTo_wrapper.find(".addToFavorites"),$addToCollection_loginMessage=$addTo_wrapper.siblings(".login-message"),$addToCollection_itemTemplate=$addTo_wrapper.find(".featureOption.template"),$addToCollection_collectionList=$addTo_wrapper.find(".featureGroup"),$addToCollection_newCollectionTrigger=$addTo_wrapper.find(".createCollectionTrigger"),$addToCollection_newCollectionForm=$addTo_wrapper.find(".createCollectionForm"),$addToCollection_newCollectionInput=$addToCollection_newCollectionForm.find(".createCollectionInput"),$addToCollection_newCollectionErrorRequired=$addToCollection_newCollectionForm.find(".js_errorRequired"),$addToCollection_newCollectionErrorInvalid=$addToCollection_newCollectionForm.find(".js_errorInvalid"),$addToCollection_btnCreateCollection=$addToCollection_newCollectionForm.find("button"),$addToCollection_ajaxLoader=$addTo_wrapper.find(".ajax-loading-small.loader-for-list");$(document).on("click",".iconAddTo",function(){var e=$(this),o=$addTo_wrapper.find(".js_errorMessage");return o.hasClass("is-hidden")||o.addClass("is-hidden"),$addTo_wrapper.attr("data-video-id",e.closest("[data-video-id]").attr("data-video-id")),$addTo_wrapper.attr("data-video-id-encrypted",e.closest("[data-video-id-encrypted]").attr("data-video-id-encrypted")),$addToFavorite_trigger.attr("data-added",checkIfFavorited()),$addToCollection_collectionList.empty(),$addToCollection_collectionList.parent(".slimScrollDiv").length&amp;&amp;$addToCollection_collectionList.slimScroll({destroy:!0}).attr("style",""),$addToCollection_newCollectionInput.text(""),setTimeout(function(){$addTo_wrapper.is(":visible")&amp;&amp;myCollectionList(function(){scrollCheck()})},100),!1}),$addToFavorite_trigger.on("click",function(){var e,o,t=$(this),i=getVideoId(),n={video_id:i};return hashing instanceof Hashing&amp;&amp;(n.instantH=hashing.getHash(),n.hourlyH=hashing.hourlyH),"undefined"==typeof i||"undefined"==i?(showErrorBox(),!1):("true"==t.attr("data-added")?(e="REMOVE",o="/change/videos/"+i+"/remove_favorites/"):(e="ADD",o="/change/videos/"+i+"/add_favorites/"),void $.ajax({type:"post",url:o,data:n,success:function(){"ADD"==e?t.attr("data-added",!0):"REMOVE"==e&amp;&amp;t.attr("data-added",!1);var o=getNewCookie("newfavorites"),n=[];if(""!=o){var l=JSON.parse(o);"[object Array]"===Object.prototype.toString.call(l)&amp;&amp;l.length&gt;0&amp;&amp;(n=n.concat(l))}var d=n.indexOf(i);d&gt;-1?"REMOVE"==e&amp;&amp;n.splice(d,1):"ADD"==e&amp;&amp;n.unshift(i),setNewCookie("newfavorites",JSON.stringify(n))}}))}),$addTo_wrapper.on("click",".featureOption",function(e){e.preventDefault();var o=$(this),t=o.attr("data-list-id"),l=getVideoId(),d=getVideoIdEncrypted(),a="true"===$(this).attr("data-added")?"REMOVE":"ADD";o.find(".ajax-loading-small").removeClass("is-hidden"),$.ajax({url:"/change/collection/",data:{list_id:t,action:"ADD"==a?"add":"remove",item_type:"video",item_id:d},type:"POST",success:function(e){if(e.Success===!0){if("ADD"==a)var d=[[t,[l]]];var r=getNewCookie("collection_count"),c=""!==r?JSON.parse(getNewCookie("collection_count")):null;if("ADD"==a)var s;if("[object Array]"===Object.prototype.toString.call(c)&amp;&amp;c.length&gt;0){for(i=0;i&lt;c.length;i++){var C=c[i];if("[object Array]"===Object.prototype.toString.call(C)&amp;&amp;2==C.length){var p=C[0],f=C[1];if(p==t){if("[object Array]"===Object.prototype.toString.call(f)&amp;&amp;f.length&gt;0)for(n=0;n&lt;f.length;n++){var u=f[n];if(u==l){"ADD"==a?s=1:"REMOVE"==a&amp;&amp;(c[i][1].splice(n,1),0==c[i][1].length&amp;&amp;(c.splice(i,1),0==c.length&amp;&amp;(c="")));break}}"ADD"==a&amp;&amp;(s||(c[i][1]=c[i][1].concat(d[0][1]),s=1));break}}}"ADD"==a&amp;&amp;(s||(c=c.concat(d))),setNewCookie("collection_count",JSON.stringify(c))}else"ADD"==a&amp;&amp;setNewCookie("collection_count",JSON.stringify(d));o.find(".ajax-loading-small").addClass("is-hidden");var g=parseInt(o.find(".featureOptionQuantity").text());"ADD"==a?(o.attr("data-added",!0),o.find(".icon-checkmark").removeClass("is-hidden"),o.find(".featureOptionQuantity").text(g+1)):"REMOVE"==a&amp;&amp;(o.attr("data-added",!1),o.find(".icon-checkmark").addClass("is-hidden"),o.find(".featureOptionQuantity").text(g-1))}else o.find(".ajax-loading-small").addClass("is-hidden")},error:function(e){o.find(".ajax-loading-small").addClass("is-hidden")}})}),$addToCollection_newCollectionTrigger.on("click",function(){$addToCollection_newCollectionTrigger.addClass("is-hidden"),$addToCollection_newCollectionForm.removeClass("is-hidden"),$addToCollection_newCollectionInput.trigger("focus")}),$addToCollection_btnCreateCollection.on("click",function(){var e=$addToCollection_newCollectionInput.val().trim(),o=(getVideoId(),getVideoIdEncrypted());return""===e?($addToCollection_newCollectionErrorRequired.removeClass("is-hidden"),!1):($addToCollection_newCollectionErrorRequired.addClass("is-hidden"),$addToCollection_btnCreateCollection.prop("disabled","disabled"),$addToCollection_newCollectionInput.prop("disabled","disabled"),void $.ajax({type:"POST",url:"/collections/create/",data:{"list[title]":e,video_id:o},dataType:"json",success:function(o){if("true"==o.success){var t=new Array,i=getNewCookie("newCollections");if(""!==i){var n=JSON.parse(i);"[object Array]"===Object.prototype.toString.call(n)&amp;&amp;n.length&gt;0&amp;&amp;(t=n)}t.push({collectiondId:o.list_id,title:e}),setNewCookie("newCollections",JSON.stringify(t)),$addToCollection_newCollectionInput.val(""),$addToCollection_newCollectionForm.addClass("is-hidden"),$addToCollection_newCollectionTrigger.removeClass("is-hidden");var l=createCollectionItem(o.list_id,e,0,!1);$addToCollection_collectionList.scrollTop(0),$addToCollection_collectionList.prepend(l),l.trigger("click"),l.find(".featureOptionHighlight").fadeIn(1e3).fadeOut(1e3),scrollCheck()}else"false"==o.success&amp;&amp;$addToCollection_newCollectionErrorInvalid.html(o.reasons.title).removeClass("is-hidden")},error:function(e){},complete:function(){$addToCollection_btnCreateCollection.removeAttr("disabled"),$addToCollection_newCollectionInput.removeAttr("disabled")}}))}),$addToCollection_newCollectionInput.on("keydown",function(e){13===e.which&amp;&amp;$addToCollection_btnCreateCollection.trigger("click")}),$addToCollection_newCollectionInput.on("keyup",function(e){$addToCollection_newCollectionErrorRequired.addClass("is-hidden"),$addToCollection_newCollectionErrorInvalid.addClass("is-hidden")}),$addToCollection_collectionList.on("mouseenter",function(){$addToCollection_collectionList.trigger("focus")}),$addToCollection_collectionList.on("mouseleave",function(){$addToCollection_collectionList.trigger("blur")});
!function(e){e([],function(e){function n(e){if(!Cookies)throw new Error("Could not load the required cookie library.");Cookies.json=!0,this._key=e,this.update=function(e){Cookies.set(this._key,e)},this.clear=function(){Cookies.remove(this._key)},this.get=function(){return Cookies.get(this._key)}}function t(e){this._key=e,this.update=function(e){sessionStorage.setItem(this._key,JSON.stringify(e))},this.clear=function(){sessionStorage.removeItem(this._key)},this.get=function(){var e={};try{e=JSON.parse(sessionStorage.getItem(this._key))}catch(e){this.clear()}return e}}function r(e){var n=typeof e,t="",r=!1;switch(n){case"string":t="s";break;case"number":t="n";break;case"boolean":t="b";break;default:r=!0}return{prefix:t,err:r}}function o(e,n,t){var r,o,i=n.split("."),a=e;for(r=i.length,o=0;o&lt;r;o++)"undefined"==typeof a[i[o]]&amp;&amp;(o==r-1&amp;&amp;t?a[i[o]]=t:a[i[o]]={}),a=a[i[o]];return a}function i(e,n,t){if(null==e)return e;if(d.forEach&amp;&amp;e.forEach===d.forEach)e.forEach(n,t);else if(e.length===+e.length){for(var r=0,o=e.length;r&lt;o;r++)if(n.call(t,e[r],r,e)==={})return}else for(var i=f.keys(e),r=0,o=i.length;r&lt;o;r++)if(n.call(t,e[i[r]],i[r],e)==={})return;return e}function a(e,n,t){return function(){function r(t,r){setTimeout(function(){var i=e.apply(n,o);i&amp;&amp;i.then(t).catch(r)},10)}var o=arguments,i=t?new t.Promise(r):null|r(f.noop,f.noop);return i}}function s(e){var n=e;return n=/^(http:\/\/|https:\/\/)/.test(n)?n.replace(/^(http:\/\/|https:\/\/)/,u()):u()+n}function u(){return"https:"==document.location.protocol?"https://":"http://"}Function.prototype.bind=Function.prototype.bind||function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var n=Array.prototype.slice,t=n.call(arguments,1),r=this,o=function(){},i=function(){return r.apply(this instanceof o?this:e||window,t.concat(n.call(arguments)))};return o.prototype=this.prototype,i.prototype=new o,i},Array.prototype.indexOf=function(e){var n=this.length&gt;&gt;&gt;0,t=Number(arguments[1])||0;for(t=t&lt;0?Math.ceil(t):Math.floor(t),t&lt;0&amp;&amp;(t+=n);t&lt;n;t++)if(t in this&amp;&amp;this[t]===e)return t;return-1};var c={rbracket:/\[\]$/,r20:/%20/g,class2type:{},hasOwn:Object.prototype.hasOwnProperty,noop:function(){},type:function(e){if(null==e)return e+"";var n={}.toString,t="object"==typeof e||"function"==typeof e?c.class2type[n.call(e)]||"object":typeof e;return t},isFunction:function(e){return"function"===c.type(e)},isPlainObject:function(e){return"object"===c.type(e)&amp;&amp;!e.nodeType&amp;&amp;!c.isWindow(e)&amp;&amp;!(e.constructor&amp;&amp;!c.hasOwn.call(e.constructor.prototype,"isPrototypeOf"))},isWindow:function(e){return null!=e&amp;&amp;e===e.window},isArray:Array.isArray||function(e){return"array"===c.type(e)},forEach:function(e,n,t){return i(e,function(e,t,r){n(t,e,r)},t)}.bind(c),buildParams:function(e,n,t,r){var o;if(t=!1,c.isArray(n))c.forEach(n,function(n,o){t||c.rbracket.test(e)?r(e,o):c.buildParams(e+"["+("object"==typeof o?n:"")+"]",o,t,r)});else if(t||"object"!==c.type(n))r(e,n);else for(o in n)c.buildParams(e+"["+o+"]",n[o],t,r)},extend:function(){var n,t,r,o,i,a,s=arguments[0]||{},u=1,d=arguments.length,f=!1;for("boolean"==typeof s&amp;&amp;(f=s,s=arguments[u]||{},u++),"object"==typeof s||c.isFunction(s)||(s={}),u===d&amp;&amp;(s=this,u--);u&lt;d;u++)if(null!=(n=arguments[u]))for(t in n)r=s[t],o=n[t],s!==o&amp;&amp;(f&amp;&amp;o&amp;&amp;(c.isPlainObject(o)||(i=c.isArray(o)))?(i?(i=!1,a=r&amp;&amp;c.isArray(r)?r:[]):a=r&amp;&amp;c.isPlainObject(r)?r:{},s[t]=c.extend(f,a,o)):o!==e&amp;&amp;(s[t]=o));return s}.bind(c),param:function(e){var n,t=!1,r=[],o=function(e,n){n=c.isFunction(n)?n():null==n?"":n,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(n)};if(c.isArray(e)||e.jFn&amp;&amp;!c.isPlainObject(e))c.forEach(e,function(){o(this.name,this.value)});else for(n in e)c.buildParams(n,e[n],t,o);return r.join("&amp;").replace(c.r20,"+")}.bind(c),exportPublic:function(){var e={},n=this;return c.forEach(["param","noop","extend"],function(t,r){e[r]=n[r]}),e},init:function(){for(var e="Boolean Number String Function Array Date RegExp Object Error".split(" "),n=e.length;n--;){var t=e[n];c.class2type["[object "+t+"]"]=t.toLowerCase()}return this}};c.init();var d=Array.prototype,f={nativeKeys:Object.keys,nativeMap:d.map,nativeReduce:d.reduce,has:function(e,n){return null!=e&amp;&amp;Object.prototype.hasOwnProperty.call(e,n)},isObject:function(e){var n=typeof e;return"function"===n||"object"===n&amp;&amp;!!e},keys:function(e){if(!f.isObject(e))return[];if(this.nativeKeys)return this.nativeKeys(e);var n=[];for(var t in e)f.has(e,t)&amp;&amp;n.push(t);return n}.bind(f),foldl:function(e,n,t,r){var o=arguments.length&gt;2;if(null===e&amp;&amp;(e=[]),this.nativeReduce&amp;&amp;e.reduce===this.nativeReduce)return r&amp;&amp;(n=_.bind(n,r)),o?e.reduce(n,t):e.reduce(n);if(i(e,function(e,i,a){o?t=n.call(r,t,e,i,a):(t=e,o=!0)}),!o)throw new TypeError(reduceError);return t},map:function(e,n,t){var r=[];return null===e?r:this.nativeMap&amp;&amp;e.map===this.nativeMap?e.map(n,t):(i(e,function(e,o,i){r.push(n.call(t,e,o,i))}),r)}};f.each=f.forEach=i;var l={format:function(){for(var e=arguments[0],n=arguments.length;n-- &gt;0;)e=e.replace(new RegExp("\\{"+(n-1)+"\\}","gm"),arguments[n]);return e}},p={extendNamespace:o,str:l,keys:f.keys,foldl:f.foldl,each:f.each,map:f.map,getDeferredFunc:a,determineTypePrefix:r,httpScheme:u,ensureProperUrlScheme:s,sessionStorageClass:t,cookieStorageClass:n};return c.extend(p,c.exportPublic()),p})}("function"==typeof define&amp;&amp;define.amd?define:function(e,n){var t="BES.ProTrack.Vortex.Modules.Utils",r=n();r.extendNamespace(window,t,r)}),function(e){e(["./utils"],function(e,n){function t(e){a.keys(i).indexOf(e)==-1&amp;&amp;(i[e]=[]);var n=i[e];return{writeLine:function(e){n.push(e)},getLines:function(){return[].concat(n)}}}function r(){return a.keys(i)}function o(e){var n=i[e];return n?[].concat(n):[]}var i={},a=e;return{getLog:t,getExistingLogs:r,getLogLines:o}})}("function"==typeof define&amp;&amp;define.amd?define:function(e,n){var t=BES.ProTrack.Vortex.Modules.Utils,r=n(t),o="BES.ProTrack.Vortex.Modules.Log";t.extendNamespace(window,o,r)}),function(e){e(["./utils","./log.js"],function(e,n,t){function r(e){return{process:function(e,n){return l.each(N,function(e,t){var r=l.determineTypePrefix(e);r.err?errs[100]=!0:n["_"+r.prefix+t]=e}),n}}}var o,i,a,s,u,c,d,f="AgentInfo",l=e,p=n?n.getLog("pl_agentinfo.js"):{writeLine:l.noop},h="";try{var w="-";screen.width&amp;&amp;(width=screen.width?screen.width:"",height=screen.height?screen.height:"",h+=""+width+" x "+height);var g=navigator.appVersion,v=navigator.userAgent;o=navigator.appName,i=""+parseFloat(navigator.appVersion);var x,y,m,b=parseInt(navigator.appVersion,10);(y=v.indexOf("Opera"))!=-1?(o="Opera",i=v.substring(y+6),(y=v.indexOf("Version"))!=-1&amp;&amp;(i=v.substring(y+8))):(y=v.indexOf("OPR"))!=-1?(o="Opera",i=v.substring(y+4),(y=v.indexOf("Version"))!=-1&amp;&amp;(i=v.substring(y+8))):(y=v.indexOf("MSIE"))!=-1?(o="Microsoft Internet Explorer",i=v.substring(y+5)):(y=v.indexOf("Chrome"))!=-1?(o="Chrome",i=v.substring(y+7)):(y=v.indexOf("Safari"))!=-1?(o="Safari",i=v.substring(y+7),(y=v.indexOf("Version"))!=-1&amp;&amp;(i=v.substring(y+8))):(y=v.indexOf("Firefox"))!=-1?(o="Firefox",i=v.substring(y+8)):v.indexOf("Trident/")!=-1?(o="Microsoft Internet Explorer",i=v.substring(v.indexOf("rv:")+3)):(x=v.lastIndexOf(" ")+1)&lt;(y=v.lastIndexOf("/"))&amp;&amp;(o=v.substring(x,y),i=v.substring(y+1),o.toLowerCase()==o.toUpperCase()&amp;&amp;(o=navigator.appName)),(m=i.indexOf(";"))!=-1&amp;&amp;(i=i.substring(0,m)),(m=i.indexOf(" "))!=-1&amp;&amp;(i=i.substring(0,m)),(m=i.indexOf(")"))!=-1&amp;&amp;(i=i.substring(0,m)),b=parseInt(""+i,10),isNaN(b)&amp;&amp;(i=""+parseFloat(navigator.appVersion),b=parseInt(navigator.appVersion,10)),a=/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(g),c=!!navigator.cookieEnabled,"undefined"!=typeof navigator.cookieEnabled||c||(document.cookie="testcookie",c=document.cookie.indexOf("testcookie")!=-1),s=w;var E=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows Phone",r:/(Windows Phone)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows ME",r:/Windows ME/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var S in E){var P=E[S];if(P.r.test(v)){s=P.s;break}}switch(u=w,/Windows Phone/.test(s)?u=/Windows Phone (.*?);/.exec(v)[1]:/Windows/.test(s)&amp;&amp;(u=/Windows (.*)/.exec(s)[1]),s){case"Mac OS X":u=/Mac OS X (10[\.\_\d]+)/.exec(v)[1];break;case"Android":var k=/Android ([\.\_\d]+)/.exec(v);if(k)u=k[1];else{var O=/Firefox\//.exec(v);O&amp;&amp;(u=w+"(Firefox does not report)")}break;case"iOS":u=/OS (\d+)_(\d+)_?(\d+)?/.exec(g),u=u[1]+"."+u[2]+"."+(0|u[3])}if(d="no check","undefined"!=typeof swfobject){var T=swfobject.getFlashPlayerVersion();d=T.major&gt;0?T.major+"."+T.minor+" r"+T.release:w}}catch(e){p.writeLine("Error running agent detection: "+e.toString())}var N={screen:h,browser:o,browserVersion:i,mobile:a,os:s,osVersion:u,cookies:c,flashVersion:d,languages:navigator.languages?navigator.languages.join(","):navigator.language||navigator.userLanguage,plugins:l.map(navigator.plugins,function(e){return e.name}).join(",")};return r.getName=function(){return f},r})}("function"==typeof define&amp;&amp;define.amd?define:function(e,n){var t=BES.ProTrack.Vortex.Modules.Utils,r=BES.ProTrack.Vortex.Modules.Log,o=n(t,r),i="BES.ProTrack.Vortex.Plugins."+o.getName();t.extendNamespace(window,i,o)}),function(e){e(["./utils"],function(e){function n(e){try{var n=new XMLHttpRequest;return"withCredentials"in n||(n=new XDomainRequest),n}catch(e){}return null}function t(e,t,o,i,a,s){"use strict";var u,c,d,f,l,p,h={app_id:t.app_id,eventName:t.eventName},w=r.extend({},t);if(delete t.app_id,delete t.eventName,d=r.param(h),f=r.param(t),l=d.length+f.length,p=l&lt;1250?"GET":"POST","[object OperaMini]"===Object.prototype.toString.call(window.operamini)||null==(c=n(window)))return void function(){var n=document.createElement("script");n.type="text/javascript",n.src=e+"?"+d+"&amp;"+f+"&amp;"+Math.ceil((new Date).getTime()/1e3),document.body.appendChild(n)}();if(s){var g=new Image;return g.src=e+"?"+d+"&amp;"+f+"&amp;"+Math.ceil((new Date).getTime()/1e3),g.style.height="1px",g.style.width="1px",g.style.visibility="hidden",void document.body.appendChild(g)}if(c=n(window),"string"!=typeof p&amp;&amp;("POST"!==p||"GET"!==p))throw"method request must be 'POST' or 'GET'";if(o&amp;&amp;"function"!=typeof o||i&amp;&amp;"function"!=typeof i)throw"callbacks must be a function";var v=function(e){return function(){"error"===e?i({status:c.status,statusText:c.statusText,eventdata:r.extend({},w)}):o({status:c.status,statusText:c.statusText,eventdata:r.extend({},w),text:"string"==typeof c.responseText?{text:c.responseText}:void 0,headers:c.getAllResponseHeaders?c.getAllResponseHeaders():""})}};if(o&amp;&amp;"function"==typeof o&amp;&amp;(c.onload=v()),i&amp;&amp;"function"==typeof i&amp;&amp;(c.onerror=v("error")),e+="?"+d,"GET"===p&amp;&amp;(e+="&amp;"+f),c.open(p,e,!0),c.withCredentials=!0,void 0!=c.setRequestHeader&amp;&amp;a)for(u=0;u&lt;a.length;u++)c.setRequestHeader(a[u].name,a[u].value);c.send("POST"==p?f:void 0)}if(!JSON)throw new Error("BES.ProTrack.Vortex.Modules.Ajax depends on JSON support.");if(!e)throw new Error("BES.ProTrack.Vortex.Modules.Ajax depends on Utils module.");var r=e;return r.extendNamespace(window,"BES.ProTrack.Vortex.Modules"),{sendRequest:t}})}("function"==typeof define&amp;&amp;define.amd?define:function(e,n){var t=BES.ProTrack.Vortex.Modules.Utils,r=n(t),o="BES.ProTrack.Vortex.Modules.Ajax";t.extendNamespace(window,o,r)}),function(e){e(["./utils","./log","./ajax","./pl_ns"],function(e,n,t,r){function o(e,n){function t(e,n,t,r){if(!t||"object"!=typeof t){var o="You cannot pass non-object as container for generic attributes.";throw u.writeLine(o),new Error(o)}this.asQueryObject=function(){var o={app_id:e,eventName:n},a={};i.each(t,function(e,n){var t=n+"";if(/^[A-Za-z0-9_-]{0,30}$/.test(t)){var r=i.determineTypePrefix(e);if(r.err)a[100]=!0;else{var s=r.prefix;o[s+n]=e}}else a[101]=!0}),p.uniqueId&amp;&amp;(o._suniqueId=p.uniqueId),i.each(r,function(e){e(o)});var s=i.keys(a);return s.length&amp;&amp;(o._errors=s.concat(",")),o}}function r(e,n,t){i.each({appId:e,eventName:n},function(e,n){if(!e){var t=i.str.format("validateEvent: Parameter '{0}' cannot be empty, undefined, or null.",n);throw u.writeLine(t),new Error(t)}})}function o(e,n){function t(e,n){a.sendRequest(l.url,o,e,n,r,l.sendPixel)}var r=[{name:"Content-Type",value:"application/x-www-form-urlencoded"}],o=e.asQueryObject();u.writeLine(i.str.format("sendEvent: sent event {0}.",JSON.stringify(e))),n=n||i.noop,t(function(e){n(null,e)},function(e){n(e,null)})}function c(e,n,a,s){var d=i.noop,l={};s=s||{};var p=[].slice.call(arguments,c.length);switch(p.length){case 0:break;case 1:"object"==typeof p[0]?l=p[0]:"function"==typeof p[0]&amp;&amp;(d=p[0]);break;default:"object"==typeof p[0]&amp;&amp;(l=p[0]),"function"==typeof p[1]&amp;&amp;(d=p[1])}var h=i.extend(n,l);u.writeLine("sendEventModern: sending a generic event "),r(e,a,s?s.value:void 0);var w=i.foldl(f,function(e,n){var t=n.instance,r=n.constructor;return"all"!==h.activatePlugins&amp;&amp;h.activatePlugins.indexOf(r.getName())===-1||h.skipActivatePlugins.indexOf(r.getName())!=-1||e.push(t.process.bind(n,h)),e},[]),g=new t(e,a,s,w);return o(g,d)}var d={url:i.httpScheme()+"etahub.com/events",sendPixel:!1,activatePlugins:"all",skipActivatePlugins:[],plugins:{}},f=[],l=i.extend({},d,n),p={uniqueId:null};return f=i.foldl(s,function(e,n){return e[n.getName()]={constructor:n,instance:n(l)},e},{}),{unique:function(e){return e?void(p.uniqueId=e):p.uniqueId},pl:i.foldl(f,function(e,n){return e[n.constructor.getName()]=n.instance,e},{}),sendEventGeneric:i.getDeferredFunc(c.bind(this,e,l),this)}}if(!JSON)throw new Error("BES.ProTrack.Vortex depends on JSON support.");if(!e)throw new Error("BES.ProTrack.Vortex depends on Utils module.");if(!t)throw new Error("BES.ProTrack.Vortex depends on Ajax module.");var i=e,a=t,s=[],u=n?n.getLog("send.interface.modern.js"):{writeLine:i.noop};return s=i.foldl(r,function(e,n,t){return u.writeLine("Plugin "+n.getName()+" loaded"),e.push(n),e},[]),function(e,n){var t=this;if(!e||"number"!=typeof e)throw new Error("You must specify an application id.");var r=o(e,n);t.pl=r.pl,t.unique=r.unique,t.sendEvent=r.sendEventGeneric}})}("function"==typeof define&amp;&amp;define.amd?define:function(e,n){if(!BES.ProTrack.Vortex.Modules)throw new Error("Could not load any modules!");var t=n(BES.ProTrack.Vortex.Modules.Utils,BES.ProTrack.Vortex.Modules.Log,BES.ProTrack.Vortex.Modules.Ajax,BES.ProTrack.Vortex.Plugins||[]),r=BES.ProTrack.Vortex.Modules.Utils,o="BES.ProTrack.Vortex.Modules.SendInterface";r.extendNamespace(window,o,t)}),function(e){e(["./utils","./log","./ajax","./agentinfo","./send.interface"],function(e,n,t,r,o){if(!JSON)throw new Error("BES.ProTrack.Vortex depends on JSON support.");if(!e)throw new Error("BES.ProTrack.Vortex depends on Utils module.");if(!t)throw new Error("BES.ProTrack.Vortex depends on Ajax module.");var i=e,a=r,s=n?n.getLog("core.js"):{writeLine:i.noop},u={};if(!o){var c="Cannot find the SendInterface implementation.";throw s.writeLine(c),new Error(c)}return a&amp;&amp;s.writeLine("Found AgentInfo module, enabling Agent detection!"),function(){var e,n,t=i.extend({},u),r=arguments[0];return"object"==typeof r?e=r:(n=r,e=arguments[1]),i.extend(t,e||{}),t.url&amp;&amp;(t.url=i.ensureProperUrlScheme(t.url)),new o(n,t)}})}("function"==typeof define&amp;&amp;define.amd?define:function(e,n){if(!BES.ProTrack.Vortex.Modules)throw new Error("Could not load any modules!");var t=n(BES.ProTrack.Vortex.Modules.Utils,BES.ProTrack.Vortex.Modules.Log,BES.ProTrack.Vortex.Modules.Ajax,BES.ProTrack.Vortex.Modules.AgentInfo,BES.ProTrack.Vortex.Modules.SendInterface),r=BES.ProTrack.Vortex.Modules.Utils,o="BES.ProTrack.Vortex.Class";r.extendNamespace(window,o,t)});
function Flipbook(){this.localStorageAvailable=null,this.showOverlay=!0,this.firstItemOnPage=null,this.overlayText=page_params.flipbookOverlayMessage.split(" "),this.overlayTemplate='&lt;div class="flipbookContainer"&gt;&lt;span class="premiumUi overlayIcon"&gt;&lt;/span&gt;&lt;div class="overlayText"&gt;&lt;span&gt;'+this.overlayText[0]+"&lt;/span&gt; "+this.overlayText[1]+" &lt;span&gt;"+this.overlayText[2]+"&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;",this.activeFlipbookVideo=function(e){return this.thumbIndex=0,this.element=null,this.path=null,this.firstThumb=null,this.thumbs=0,{updateVideo:function(e){this.element=e,this.firstThumb=parseInt(e.getAttribute("data-firstThumbnail")),this.thumbIndex=this.firstThumb,this.path=e.getAttribute("data-path"),this.thumbs=parseInt(e.getAttribute("data-max"))},changeThumbnail:function(t){"swipeleft"==t?this.thumbIndex++:"swiperight"==t&amp;&amp;this.thumbIndex--,this.thumbIndex&gt;this.thumbs?e.loopThumbnails?this.thumbIndex=1:this.thumbIndex=this.thumbs:this.thumbIndex&lt;1&amp;&amp;(e.loopThumbnails?this.thumbIndex=this.thumbs:this.thumbIndex=1),this.updateThumbnail()},updateThumbnail:function(){var e=new RegExp("\\{index\\}","gi");this.element.src=this.path.replace(e,this.thumbIndex)},rewindThumbs:function(){var e=new RegExp("\\{index\\}","gi");"undefined"!=typeof this.element&amp;&amp;(this.element.src=this.path.replace(e,this.firstThumb))}}}}function _initHammer(){var e=this,t=document.getElementById("relatedVideos"),i=[];if(null==t){t=document.querySelectorAll(".videoList, .js-flipbookOn");for(var o=0;o&lt;t.length;++o)i[o]=new Hammer(t[o])}else i[0]=new Hammer(t);for(var o=0;o&lt;i.length;++o)i[o].on("swipeleft swiperight",function(t){var i=_getElement.call(e,t);return!!i&amp;&amp;void(MG_Utils.hasClass(i.parentNode,e.options.containerClassName)&amp;&amp;(i!==e.activeFlipbookVideo.element&amp;&amp;(e.options.rewindThumbs&amp;&amp;e.activeFlipbookVideo.rewindThumbs(),e.activeFlipbookVideo.updateVideo(i)),_displayThumbnail.apply(e,[t,t.type])))})}function _showOverlay(){var e=this;this.overlayTemplate&amp;&amp;this.firstItemOnPage&amp;&amp;(overlayContainer=document.createElement("div"),overlayContainer.id=this.options.overlayId,overlayContainer.innerHTML=this.overlayTemplate,this.firstItemOnPage.appendChild(overlayContainer),setTimeout(function(){_hideOverlay.call(e)},this.options.overlayTimeout))}function _hideOverlay(){var e=document.getElementById(this.options.overlayId);e&amp;&amp;e.parentNode.removeChild(e),this.showOverlay=!1,this.localStorageAvailable?localStorage.setItem("mobileFlipbookOverlayShown",1):$.cookie("mobileFlipbookOverlayShown",1,{expires:1e4})}function _getElement(e){e=e||window.event;var t=e.target||e.srcElement,i=null;if("img"===t.nodeName.toLowerCase()&amp;&amp;MG_Utils.hasClass(t,this.options.videothumbClassName))i=t;else{for(i=t;(i=i.parentElement)&amp;&amp;!MG_Utils.hasClass(i,this.options.containerClassName););i&amp;&amp;(i=i.querySelector("."+this.options.videothumbClassName))}return i}function _displayThumbnail(e,t){return!!e&amp;&amp;(this.activeFlipbookVideo.changeThumbnail(t),void(this.showOverlay&amp;&amp;_hideOverlay.call(this)))}Flipbook.prototype.init=function(){MG_Utils.browser.isWindowsPhone()||(defaults={loopThumbnails:!0,overlayTimeout:8e3,overlayId:"js-swipeOverlayHint",rewindThumbs:!0,containerClassName:"js-flipbookOn",videothumbClassName:"videoThumb"},arguments[0]&amp;&amp;"object"==typeof arguments[0]?this.options=MG_Utils.extendDefaults(defaults,arguments[0]):this.options=defaults,this.activeFlipbookVideo=new this.activeFlipbookVideo(this.options),this.firstItemOnPage=document.querySelector("."+this.options.containerClassName),MG_Utils.hasStorage()?(this.localStorageAvailable=!0,localStorage.getItem("mobileFlipbookOverlayShown")&amp;&amp;(this.showOverlay=!1)):MG_Utils.areCookiesEnabled()&amp;&amp;$.cookie("mobileFlipbookOverlayShown")&amp;&amp;(this.showOverlay=!1),this.showOverlay&amp;&amp;_showOverlay.call(this),_initHammer.call(this))};try{var flipbook=new Flipbook;flipbook.init()}catch(e){}</pre></body></html>