<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <head> 
  <meta http-equiv="Content-Type" content="text/html; charset=gb2312" /> 
  <title>多图详解Spring框架的设计理念与设计模式 - 51CTO.COM</title> 
  <meta name="description" content="Spring作为现在最优秀的框架之一，已被广泛的使用，51CTO也曾经针对Spring框架中的JDBC应用做过报道。本文将从另外一个视角试图剖析出Spring框架的作者设计Spring框架的骨骼架构的设计理念。" /> 
  <meta name="keywords" content="Spring框架,Beans组件,Java框架" /> 
  <base target="_blank" /> 
  <link href="http://images.51cto.com/images/art1105/css/grid.css" rel="stylesheet" type="text/css" /> 
  <link type="text/css" rel="stylesheet" href="http://images.51cto.com/images/art/css/art_master_top.css" /> 
  <link href="http://book.51cto.com/images/bookspec/css/css3.css" rel="stylesheet" type="text/css" /> 
  <script language="javaScript" src="http://www.51cto.com/php/base_art.js"></script> 
  <script src="http://www.51cto.com/images/homepage/index_1_down.js"></script> 
  <style type="text/css">
.bds_tools a{ padding:0; margin:0;}
</style> 
 </head> 
 <body> 
  <!-- 导航 开始--> 
  <script id="allmobilize" charset="utf-8" src="http://a.yunshipei.com/a3b9823c927173ada250e3f2f84f4703/allmobilize.min.js"></script>
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <link rel="alternate" media="handheld" href="#" /> 
  <div id="home_top"> 
   <div class="top_nav"> 
    <div class="left" style="width:400px">
     <div class="logo_51cto" title="51CTO.COM - 技术成就梦想 -  中国领先的IT技术网站"></div>
     <a href="http://www.51cto.com/">首页</a>
     <img width="16" height="25" align="absmiddle" src="http://home.51cto.com/public/themes/blue/images/top_bg_xian.gif" style="padding-top: 2px;" />
     <a onmouseover="show(1,this);" onmouseout="popupClose();" href="http://www.51cto.com/col/35/" target="_blank">技术频道<img align="absmiddle" src="http://images.51cto.com/images/art/top_images/nav_ico1.gif" style="padding-left: 4px;" /></a>
     <img width="16" height="25" align="absmiddle" src="http://home.51cto.com/public/themes/blue/images/top_bg_xian.gif" />
     <a onmouseover="show(2,this);" onmouseout="popupClose();" href="http://www.51cto.com" target="_blank">51CTO旗下网站<img align="absmiddle" src="http://images.51cto.com/images/art/top_images/nav_ico1.gif" style="padding-left: 4px;" /></a>
     <img width="16" height="25" align="absmiddle" src="http://home.51cto.com/public/themes/blue/images/top_bg_xian.gif" />
     <a href="http://www.51cto.com/about/map.htm" target="_blank">地图</a> 
     <a href="http://www.51cto.com/about/rss.html" target="_blank"><img src="http://images.51cto.com/files/uploadimg/20110922/143749870.gif" style="vertical-align:middle; margin-bottom: 5px; margin-left:5px;" /></a> 
    </div> 
    <div class="right"> 
     <div class="more">
      <img width="27" height="16" align="absmiddle" src="http://home.51cto.com/public/themes/blue/images/top_shequ.gif" />
      <a href="http://wot.51cto.com/" target="_blank" style="color:#CC0000">WOT</a>
      <a href="http://edu.51cto.com/" target="_blank" style="color:#CC0000">学院</a>
      <a href="http://down.51cto.com" target="_blank">下载</a>
      <a href="http://bbs.51cto.com" target="_blank">论坛</a>
      <a href="http://blog.51cto.com" target="_blank">博客</a>
      <a onmouseover="show(3,this)" onmouseout="popupClose()" href="javascript:viod(0);">更多<img align="absmiddle" src="http://images.51cto.com/images/art/top_images/nav_ico1.gif" style="padding-left: 4px;" /></a> 
     </div> 
     <span id="login_status">
      <div class="login" id="login_status"></div> </span> 
    </div> 
   </div>
  </div> 
  <div class="subMenu1" id="s1" onmouseover="popupNoClose();" onmouseout="popupClose();"> 
   <ul> 
    <li><a href="http://network.51cto.com" target="_blank">网络</a></li> 
    <li><a href="http://netsecurity.51cto.com" target="_blank">安全</a></li> 
    <li><a href="http://developer.51cto.com" target="_blank">开发</a></li> 
    <li><a href="http://database.51cto.com" target="_blank">数据库</a></li> 
    <li><a href="http://server.51cto.com" target="_blank">服务器</a></li> 
    <li><a href="http://os.51cto.com" target="_blank">系统</a></li> 
    <li><a href="http://virtual.51cto.com" target="_blank">虚拟化</a></li> 
    <li><a href="http://cloud.51cto.com" target="_blank">云计算</a></li> 
    <li><a href="http://developer.51cto.com/embed/" target="_blank">嵌入式</a></li> 
    <li><a href="http://mobile.51cto.com/" target="_blank">移动开发</a></li> 
   </ul> 
  </div> 
  <div class="subMenu2" id="s2" onmouseover="popupNoClose()" onmouseout="popupClose()"> 
   <ul> 
    <li><a href="http://www.51cto.com" target="_blank" title="中国领先的IT技术网站">51CTO.COM</a></li> 
    <li><a href="http://cio.51cto.com" target="_blank" title="中国首个专门服务于CIO的专业网站">CIOage.com</a></li> 
    <li><a href="http://www.watchstor.com/" target="_blank" title="领先的中文存储网络媒体">WatchStor.com</a></li> 
    <li><a href="http://www.hc3i.cn/" target="_blank" title="中国首家专注于数字医疗及医疗信息化的专业网站">HC3i.cn</a></li> 
   </ul> 
  </div> 
  <script src="http://www.51cto.com/js/jquery-1.8.3.min.js"></script> 
  <script>
$(function(){
	$(".bann").height(265);	 
	$(".bann").css("background-color","white");
	var s=window.location.toString();
	var s1=s.substr(7,s.length);
	var s2=s1.indexOf(".");
	s=s.substr(7,s2);
	if (s == 'cloud') {
	     $(".hot").css("top","1200px");
		$(".g_13").find(".focus").css("height","1390px");
	}else{
		$(".hot").css("top","450px");

	}
	//$(".fixfloat").css("height","640px");
	$(".g_13").find(".focus").css("height","640px");
	var url = window.location.host;
	if (url.indexOf('developer.51cto.com/col')) {
		$('.banner_r').css('position', 'relative');
		$('.banner_r').children().append('<div style="right: 0px; width: 24px; height: 14px; z-index: 12; position: absolute; background: transparent url(http://s5.51cto.com/wyfs02/M00/86/BB/wKiom1fI4nWStYqXAAAEoZQn6vs942.png) repeat scroll 0% 0%; bottom: 2px;"></div>');
	}
});
var edunum=2;
$(function(){
	$("#change").click(function(){
		$("#edu > ul").css("display","none");
		var eduid='edu'+edunum;
		$("#" + eduid).css("display","block");	
		if(edunum<4){
			edunum++;	
		}else{
			edunum=1;	
		}							
	});  
});
</script> 
  <script src="http://www.51cto.com/head_art_more1.js"></script> 
  <!-- 登陆信息 --> 
  <!-- 导航 结束--> 
  <div class="g_39 mb10"> 
   <div id="tonglanad" class="fl"></div> 
   <div id="list4" class="fr"> 
    <ul> 
     <li id="wordlinkad1"></li> 
     <li id="wordlinkad2"></li> 
     <li id="wordlinkad3"></li> 
     <li id="wordlinkad4"></li> 
    </ul> 
   </div> 
   <br class="dle" /> 
  </div> 
  <div class="g_39 menu"> 
   <div class="subNav_logo">
    <img src="http://www.51cto.com/images/sunbanner/kaifa_logo.gif" />
   </div> 
   <div class="subNav_l">
    <a href="http://developer.51cto.com/">首页</a> | 
    <a href="http://developer.51cto.com/java/">Java</a> | 
    <a href="http://developer.51cto.com/net/">.NET</a> | 
    <a href="http://developer.51cto.com/web/">Web</a> | 
    <a href="http://developer.51cto.com/col/585/">语言工具</a> | 
    <a href="http://developer.51cto.com/col/1312/">测试</a> | 
    <a href="http://developer.51cto.com/col/583/" target="_blank">移动</a> | 
    <a href="http://developer.51cto.com/col/1308/">架构</a> | 
    <a href="http://developer.51cto.com/col/586/">项目管理</a> | 
    <a href="http://developer.51cto.com/col/577/ ">大数据</a> | 
    <a href="http://publish.51cto.com/list/460/">全部文章</a>
   </div> 
   <div class="search fr"> 
    <dl> 
     <form name="searchform" action="http://www.51cto.com/php/search.php" target="_blank" method="post" style="margin:0px; padding:0px;"> 
      <dt class="fl">
       <input name="keyword" type="text" class="searchInput f14 input" value="请输入关键字" onfocus="doempty(this, '请输入关键字');" onblur="doempty(this, '请输入关键字');" />
      </dt> 
      <dd class="fl">
       <input type="image" src="http://images.51cto.com/images/art/newart1012/images/search.gif" />
      </dd>
     </form> 
    </dl> 
   </div> 
   <br class="dle" /> 
  </div> 
  <div class="g_39 b3-s-4273B3 rel"> 
   <!--width : 26*25 - 15 = 635px--> 
   <div class="g_26 fl m_l"> 
    <div class="brief bgF8F8F8"> 
     <p class="crumb ">您所在的位置：<a href="http://developer.51cto.com">开发</a> &gt; <a href="http://developer.51cto.com/java/">Java</a> &gt; <a href="http://developer.51cto.com/col/1004/">Java框架</a> &gt; <b>多图详解Spring框架的设计理念与设计模式</b> </p> 
     <h1>多图详解Spring框架的设计理念与设计模式</h1> 
     <div class="msg"> 
      <div>
       2010-06-11 14:55 许令波 developerWorks 中国  字号：
       <span class="f14-b"><a href="javascript:setfont(12);" target="_self">T</a></span> | 
       <span class="f16-b"><a href="javascript:setfont(16);" target="_self">T</a></span>
      </div> 
      <div class="artHd" id="books" style="padding:5px 25px;display:none;"></div> 
      <div class="fav">
       <a href="javascript:favorBox('open');" title="一键收藏，随时查看，分享好友！" target="_self"><img src="http://images.51cto.com/images/art/newart1012/images/Fav.gif" alt="一键收藏，随时查看，分享好友！" border="0" /></a>
      </div> 
     </div> 
     <div class="brieftext"> 
      <p class="f14 green">Spring作为现在最优秀的框架之一，已被广泛的使用，51CTO也曾经针对Spring框架中的JDBC应用做过报道。本文将从另外一个视角试图剖析出Spring框架的作者设计Spring框架的骨骼架构的设计理念。</p> 
      <p class="ad">AD：<script src="http://www.51cto.com/js/article/keywords_ad_new.js"></script> </p> 
     </div> 
     <!--  <div style="border-left:5px solid #4065aa;height:25px; line-height:25px;margin-top:10px;background:#eef7ff;padding-left:10px;">
<a style="text-decoration: none;color:red" target="_blank" href="http://server.51cto.com/exp/OpenPower/">IBM POWER8通过一年充分融入了“开放”基因，现在有哪些成效？快来注册观看直播，一起拥抱开源的力量。</a>
</div> --> 
    </div> 
    <div class="tag bgF8F8F8" id="indexlist" style="display:none;"> 
     <ul id="indexliststr"> 
     </ul> 
     <br class="dle" /> 
    </div> 
    <div class="content bgF8F8F8 f14"> 
     <div id="content"> 
      <p></p>
      <p>Spring作为现在最优秀的框架之一，已被广泛的使用，51CTO也曾经针对<a target="_blank" onmousedown="return clk(0,'','','','1','','0CBkQFjAA')" href="http://developer.51cto.com/art/200906/132325.htm">Spring框架中的JDBC应用</a>做过报道。本文将从另外一个视角试图剖析出Spring框架的作者设计Spring框架的骨骼架构的设计理念，有那几个核心组件？为什么需要这些组件？它们又是如何结合在一起构成Spring的骨骼架构？Spring的AOP特性又是如何利用这些基础的骨骼架构来工作的？Spring中又使用了那些设计模式来完成它的这种设计的？它的这种 设计理念对对我们以后的软件设计有何启示？本文将详细解答这些问题。</p> 
      <p><strong>Spring的骨骼架构</strong></p> 
      <p>Spring总共有十几个组件，但是真正核心的组件只有几个，下面是Spring框架的总体架构图：</p> 
      <p style="text-align: center"><a target="_blank" href="http://images.51cto.com/files/uploadimg/20100611/1508520.gif"><img class="fit-image" onload="javascript:if(this.width&gt;498)this.width=498;" onmousewheel="javascript:return big(this)" border="0" alt="Spring框架的总体架构图" src="http://images.51cto.com/files/uploadimg/20100611/1508520.gif" width="512" height="354" /></a><br /> <strong><span style="font-size: smaller">图1.Spring框架的总体架构图</span></strong></p> 
      <p>从上图中可以看出Spring框架中的核心组件只有三个：<strong><a href="http://developer.51cto.com/art/200906/129814.htm">Core</a></strong>、Context和Beans。它们构建起了整个Spring的骨骼架构。没有它们就不可能有<strong><a href="http://developer.51cto.com/art/200906/130204.htm">AOP</a></strong>、Web等上层的特性功能。下面也将主要从这三个组件入手分析Spring。</p> 
      <p><strong>Spring的设计理念</strong></p> 
      <p>前面介绍了Spring的三个核心组件，如果再在它们三个中选出核心的话，那就非Beans组件莫属了，为何这样说，其实Spring就是面向Bean的编程（BOP,Bean Oriented Programming），Bean在Spring 中才是真正的主角。</p> 
      <p>Bean在Spring中作用就像Object对OOP的意义一样，没有对象的概念就像没有面向对象编程，Spring中没有Bean也就没有Spring存在的意义。就像一次演出舞台都准备好了但是却没有演员一样。为什 么要Bean这种角色Bean或者为何在Spring如此重要，这由Spring框架的设计目标决定，Spring为何如此流行，我们用Spring的原因是什么，想想你会发现原来Spring解决了一个非常关键的问题他可以让 你把对象之间的依赖关系转而用配置文件来管理，也就是他的依赖注入机制。而这个注入关系在一个叫Ioc容器中管理，那Ioc容器中有又是什么就是被Bean包裹的对象。Spring正是通过把对象包装在 Bean中而达到对这些对象管理以及一些列额外操作的目的。</p> 
      <p>它这种设计策略完全类似于Java实现OOP的设计理念，当然了Java本身的设计要比Spring复杂太多太多，但是都是构建一个数据结构，然后根据这个数据结构设计他的生存环境，并让它在这个环境中 按照一定的规律在不停的运动，在它们的不停运动中设计一系列与环境或者与其他个体完成信息交换。这样想来回过头想想我们用到的其他框架都是大慨类似的设计理念。</p> 
      <p><strong>核心组件如何协同工作</strong></p> 
      <p>前面说Bean是Spring中关键因素，那Context和Core又有何作用呢？前面吧Bean比作一场演出中的演员的话，那Context就是这场演出的舞台背景，而Core应该就是演出的道具了。只有他们在一起才能 具备能演出一场好戏的最基本的条件。当然有最基本的条件还不能使这场演出脱颖而出，还要他表演的节目足够的精彩，这些节目就是Spring能提供的特色功能了。</p> 
      <p>我们知道Bean包装的是Object，而Object必然有数据，如何给这些数据提供生存环境就是Context要解决的问题，对Context来说他就是要发现每个Bean之间的关系，为它们建立这种关系并且要维护好 这种关系。所以Context就是一个Bean关系的集合，这个关系集合又叫Ioc容器，一旦建立起这个Ioc容器后Spring就可以为你工作了。那Core组件又有什么用武之地呢？其实Core就是发现、建立和维护每 个Bean之间的关系所需要的一些列的工具，从这个角度看来，Core这个组件叫Util更能让你理解。</p> 
      <p></p> 
      <p>它们之间可以用下图来表示：</p> 
      <p style="text-align: center"><a target="_blank" href="http://images.51cto.com/files/uploadimg/20100611/1508521.gif"><img class="fit-image" onload="javascript:if(this.width&gt;498)this.width=498;" onmousewheel="javascript:return big(this)" border="0" alt="三个组件关系" width="435" height="230" src="http://images.51cto.com/files/uploadimg/20100611/1508521.gif" /></a><br /> <span style="font-size: smaller"><strong>图2.三个组件关系</strong></span></p> 
      <p><strong>核心组件详解</strong></p> 
      <p>这里将详细介绍每个组件内部类的层次关系，以及它们在运行时的时序顺序。我们在使用Spring是应该注意的地方。</p> 
      <p><strong>Bean组件</strong></p> 
      <p>前面已经说明了Bean组件对Spring的重要性，下面看看Bean这个组件式怎么设计的。Bean组件在Spring的org.springframework.beans包下。这个包下的所有类主要解决了三件事：Bean的定义、Bean 的创建以及对Bean的解析。对Spring的使用者来说唯一需要关心的就是Bean的创建，其他两个由Spring在内部帮你完成了，对你来说是透明的。</p> 
      <p>SpringBean的创建时典型的工厂模式，他的顶级接口是BeanFactory，下图是这个工厂的继承层次关系：</p> 
      <p style="text-align: center"><a target="_blank" href="http://images.51cto.com/files/uploadimg/20100611/1508522.png"><img class="fit-image" onload="javascript:if(this.width&gt;498)this.width=498;" onmousewheel="javascript:return big(this)" border="0" alt="Bean工厂的继承关系" width="572" height="252" src="http://images.51cto.com/files/uploadimg/20100611/1508522.png" /></a>&nbsp;<br /> <span style="font-size: smaller"><strong>图4.Bean工厂的继承关系</strong></span></p> 
      <p>BeanFactory有三个子类：ListableBeanFactory、HierarchicalBeanFactory和Autowire Capable Bean Factory。但是从上图中我们可以发现最终的默认实现类是DefaultListableBeanFactory，他实 现了所有的接口。那为何要定义这么多层次的接口呢？查阅这些接口的源码和说明发现，每个接口都有他使用的场合，它主要是为了区分在Spring内部在操作过程中对象的传递和转化过程中，对对象的 数据访问所做的限制。例如ListableBeanFactory接口表示这些Bean是可列表的，而HierarchicalBeanFactory表示的是这些Bean是有继承关系的，也就是每个Bean有可能有父Bean。 AutowireCapableBeanFactory接口定义Bean的自动装配规则。这四个接口共同定义了Bean的集合、Bean之间的关系、以及Bean行为。</p> 
      <p></p> 
      <p>Bean的定义主要有BeanDefinition描述，如下图说明了这些类的层次关系：</p> 
      <p style="text-align: center"><a target="_blank" href="http://images.51cto.com/files/uploadimg/20100611/1508523.png"><img class="fit-image" onload="javascript:if(this.width&gt;498)this.width=498;" onmousewheel="javascript:return big(this)" border="0" alt="Bean定义的类层次关系图" width="497" height="336" src="http://images.51cto.com/files/uploadimg/20100611/1508523.png" /></a><br /> <span style="font-size: smaller"><strong>图5.Bean定义的类层次关系图</strong></span></p> 
      <p>Bean的定义就是完整的描述了在Spring的配置文件中你定义的
       <bean></bean>节点中所有的信息，包括各种子节点。当Spring成功解析你定义的一个
       <bean></bean>节点后，在Spring的内部他就被转化 成BeanDefinition对象。以后所有的操作都是对这个对象完成的。</p> 
      <p>Bean的解析过程非常复杂，功能被分的很细，因为这里需要被扩展的地方很多，必须保证有足够的灵活性，以应对可能的变化。Bean的解析主要就是对Spring配置文件的解析。这个解析过程主要通过 下图中的类完成：</p> 
      <p style="text-align: center"><a target="_blank" href="http://images.51cto.com/files/uploadimg/20100611/1508524.png"><img class="fit-image" onload="javascript:if(this.width&gt;498)this.width=498;" onmousewheel="javascript:return big(this)" border="0" alt="Bean的解析类" width="572" height="192" src="http://images.51cto.com/files/uploadimg/20100611/1508524.png" /></a><br /> <span style="font-size: smaller"><strong>图6.Bean的解析类</strong></span></p> 
      <p>当然还有具体对tag的解析这里并没有列出。</p> 
      <p><strong>Context组件</strong></p> 
      <p>Context在Spring的org.springframework.context包下，前面已经讲解了Context组件在Spring中的作用，他实际上就是给Spring提供一个运行时的环境，用以保存各个对象的状态。下面看一下这个 环境是如何构建的。</p> 
      <p>ApplicationContext是Context的顶级父类，他除了能标识一个应用环境的基本信息外，他还继承了五个接口，这五个接口主要是扩展了Context的功能。下面是Context的类结构图：</p> 
      <p style="text-align: center"><a target="_blank" href="http://images.51cto.com/files/uploadimg/20100611/1508525.png"><img class="fit-image" onload="javascript:if(this.width&gt;498)this.width=498;" onmousewheel="javascript:return big(this)" border="0" alt="Context相关的类结构图" width="572" height="234" src="http://images.51cto.com/files/uploadimg/20100611/1508525.png" /></a><br /> <span style="font-size: smaller"><strong>图7.Context相关的类结构图</strong></span></p> 
      <p>从上图中可以看出ApplicationContext继承了BeanFactory，这也说明了Spring容器中运行的主体对象是Bean，另外ApplicationContext继承了ResourceLoader接口，使得ApplicationContext可以访 问到任何外部资源，这将在Core中详细说明。</p> 
      <p><strong>ApplicationContext的子类主要包含两个方面：</strong></p> 
      <p>ConfigurableApplicationContext表示该Context是可修改的，也就是在构建Context中用户可以动态添加或修改已有的配置信息，它下面又有多个子类，其中最经常使用的是可更新的Context，即 AbstractRefreshableApplicationContext类。</p> 
      <p>WebApplicationContext顾名思义，就是为web准备的Context他可以直接访问到ServletContext，通常情况下，这个接口使用的少。</p> 
      <p>再往下分就是按照构建Context的文件类型，接着就是访问Context的方式。这样一级一级构成了完整的Context等级层次。</p> 
      <p>总体来说ApplicationContext必须要完成以下几件事：</p> 
      <p>◆标识一个应用环境</p> 
      <p>◆利用BeanFactory创建Bean对象</p> 
      <p>◆保存对象关系表</p> 
      <p>◆能够捕获各种事件</p> 
      <p>Context作为Spring的Ioc容器，基本上整合了Spring的大部分功能，或者说是大部分功能的基础。</p> 
      <p></p> 
      <p><strong>Core组件</strong></p> 
      <p>Core组件作为Spring的核心组件，他其中包含了很多的关键类，其中一个重要组成部分就是定义了资源的访问方式。这种把所有资源都抽象成一个接口的方式很值得在以后的设计中拿来学习。下面就 重要看一下这个部分在Spring的作用。</p> 
      <p>下图是Resource相关的类结构图：</p> 
      <p style="text-align: center"><a target="_blank" href="http://images.51cto.com/files/uploadimg/20100611/1508526.png"><img class="fit-image" onload="javascript:if(this.width&gt;498)this.width=498;" onmousewheel="javascript:return big(this)" border="0" alt="Resource相关的类结构图" width="572" height="235" src="http://images.51cto.com/files/uploadimg/20100611/1508526.png" /></a><br /> <span style="font-size: smaller"><strong>图8.Resource相关的类结构图</strong></span></p> 
      <p>从上图可以看出Resource接口封装了各种可能的资源类型，也就是对使用者来说屏蔽了文件类型的不同。对资源的提供者来说，如何把资源包装起来交给其他人用这也是一个问题，我们看到Resource 接口继承了InputStreamSource接口，这个接口中有个getInputStream方法，返回的是InputStream类。这样所有的资源都被可以通过InputStream这个类来获取，所以也屏蔽了资源的提供者。另外还有一 个问题就是加载资源的问题，也就是资源的加载者要统一，从上图中可以看出这个任务是由ResourceLoader接口完成，他屏蔽了所有的资源加载者的差异，只需要实现这个接口就可以加载所有的资源， 他的默认实现是DefaultResourceLoader。</p> 
      <p>下面看一下Context和Resource是如何建立关系的？首先看一下他们的类关系图：</p> 
      <p style="text-align: center"><a target="_blank" href="http://images.51cto.com/files/uploadimg/20100611/1508527.png"><img class="fit-image" onload="javascript:if(this.width&gt;498)this.width=498;" onmousewheel="javascript:return big(this)" border="0" alt="Context和Resource的类关系图" width="572" height="359" src="http://images.51cto.com/files/uploadimg/20100611/1508527.png" /></a><br /> <span style="font-size: smaller"><strong>图9.Context和Resource的类关系图</strong></span></p> 
      <p>从上图可以看出，Context是把资源的加载、解析和描述工作委托给了ResourcePatternResolver类来完成，他相当于一个接头人，他把资源的加载、解析和资源的定义整合在一起便于其他组件使用。 Core组件中还有很多类似的方式。</p> 
      <p><strong>Ioc容器如何工作</strong></p> 
      <p>前面介绍了Core组件、Bean组件和Context组件的结构与相互关系，下面这里从使用者角度看一下他们是如何运行的，以及我们如何让Spring完成各种功能，Spring到底能有那些功能，这些功能是如 何得来的，下面介绍。</p> 
      <p></p> 
      <p><strong>如何创建BeanFactory工厂</strong></p> 
      <p>正如图2描述的那样，Ioc容器实际上就是Context组件结合其他两个组件共同构建了一个Bean关系网，如何构建这个关系网？构建的入口就在AbstractApplicationContext类的refresh方法中。这个方 法的代码如下：</p> 
      <p><strong>清单1.AbstractApplicationContext.refresh</strong></p> 
      <pre>
       <ol class="dp-xml">
        <li class="alt"><span><span>public&nbsp;void&nbsp;refresh()&nbsp;throws&nbsp;BeansException,&nbsp;IllegalStateException&nbsp;{ &nbsp;</span></span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;synchronized&nbsp;(this.startupShutdownMonitor)&nbsp;{ &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Prepare&nbsp;this&nbsp;context&nbsp;for&nbsp;refreshing. &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prepareRefresh(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Tell&nbsp;the&nbsp;subclass&nbsp;to&nbsp;refresh&nbsp;the&nbsp;internal&nbsp;bean&nbsp;factory. &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ConfigurableListableBeanFactory&nbsp;</span><span class="attribute">beanFactory</span><span>&nbsp;=&nbsp;</span><span class="attribute-value">obtainFreshBeanFactory</span><span>(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Prepare&nbsp;the&nbsp;bean&nbsp;factory&nbsp;for&nbsp;use&nbsp;in&nbsp;this&nbsp;context. &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prepareBeanFactory(beanFactory); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;{ &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Allows&nbsp;post- processing&nbsp;of&nbsp;the&nbsp;bean&nbsp;factory&nbsp;in&nbsp;context&nbsp;subclasses. &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;postProcessBeanFactory(beanFactory); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Invoke&nbsp;factory&nbsp;processors&nbsp;registered&nbsp;as&nbsp;beans&nbsp;in&amp; nbsp;the&nbsp;context. &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;invokeBeanFactoryPostProcessors(beanFactory); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Register&nbsp;bean&nbsp;processors&nbsp;that&nbsp;intercept&nbsp;bean&nbsp;crea tion. &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;registerBeanPostProcessors (beanFactory); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Initialize&nbsp;message&nbsp;source&nbsp;for&nbsp;this&nbsp;context. &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initMessageSource(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Initialize&nbsp;event&nbsp;multicaster&nbsp;for&nbsp;this&nbsp;context. &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initApplicationEventMulticaster(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Initialize&nbsp;other&nbsp;special&nbsp;beans&nbsp;in&nbsp;specific&nbsp;contex t&nbsp;subclasses. &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;onRefresh(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Check&nbsp;for&nbsp;listener&nbsp;beans&nbsp;and&nbsp;register&nbsp;them. &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;registerListeners(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Instantiate&nbsp;all&nbsp;remaining&nbsp;(non-lazy-init)&nbsp;singletons. &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;finishBeanFactoryInitialization (beanFactory); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Last&nbsp;step:&nbsp;publish&nbsp;corresponding&nbsp;event. &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;finishRefresh(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;catch&nbsp;(BeansException&nbsp;ex)&nbsp;{ &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Destroy&nbsp;already&nbsp;created&nbsp;singletons&nbsp;to&nbsp;avoid&nbsp;dangl ing&nbsp;resources. &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destroyBeans(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Reset&nbsp;'active'&nbsp;flag. &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cancelRefresh(ex); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Propagate&nbsp;exception&nbsp;to&nbsp;caller. &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;ex; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>} &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
       </ol></pre> 
      <p>这个方法就是构建整个Ioc容器过程的完整的代码，了解了里面的每一行代码基本上就了解大部分Spring的原理和功能了。</p> 
      <p></p> 
      <p>这段代码主要包含这样几个步骤：</p> 
      <p>◆构建BeanFactory，以便于产生所需的“演员”</p> 
      <p>◆注册可能感兴趣的事件</p> 
      <p>◆创建Bean实例对象</p> 
      <p>◆触发被监听的事件</p> 
      <p>下面就结合代码分析这几个过程。</p> 
      <p>第二三句就是在创建和配置BeanFactory。这里是refresh也就是刷新配置，前面介绍了Context有可更新的子类，这里正是实现这个功能，当BeanFactory已存在是就更新，如果没有就新创建。下面是 更新BeanFactory的方法代码：</p> 
      <p><strong>清单2. AbstractRefreshableApplicationContext. refreshBeanFactory</strong></p> 
      <pre>
       <ol class="dp-xml">
        <li class="alt"><span><span>protected&nbsp;final&nbsp;void&nbsp;refreshBeanFactory()&nbsp;throws&nbsp;BeansException&nbsp;{ &nbsp;</span></span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(hasBeanFactory())&nbsp;{ &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destroyBeans(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closeBeanFactory(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;{ &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DefaultListableBeanFactory&nbsp;</span><span class="attribute">beanFactory</span><span>&nbsp;=&nbsp;</span><span class="attribute-value">createBeanFactory</span><span>(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;beanFactory.setSerializationId(getId()); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;customizeBeanFactory(beanFactory); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;loadBeanDefinitions(beanFactory); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;synchronized&nbsp;(this.beanFactoryMonitor)&nbsp;{ &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="attribute">this.beanFactory</span><span>&nbsp;=&nbsp;beanFactory; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;catch&nbsp;(IOException&nbsp;ex)&nbsp;{ &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;ApplicationContextException( &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;I/O&nbsp;error&amp; nbsp;parsing&nbsp;bean&nbsp;definition&nbsp;source&nbsp;for&nbsp;&quot; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;getDisplayName (),&nbsp;ex); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>} &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
       </ol></pre> 
      <p style="text-align: left">这个方法实现了AbstractApplicationContext的抽象方法refreshBeanFactory，这段代码清楚的说明了BeanFactory的创建过程。注意BeanFactory对象的类型的变化，前 面介绍了他有很多子类，在什么情况下使用不同的子类这非常关键。BeanFactory的原始对象是DefaultListableBeanFactory，这个非常关键，因为他设计到后面对这个对象的多种操作，下面看一下这个 类的继承层次类图：</p> 
      <p style="text-align: center"><a target="_blank" href="http://images.51cto.com/files/uploadimg/20100611/1508528.png"><img class="fit-image" onload="javascript:if(this.width&gt;498)this.width=498;" onmousewheel="javascript:return big(this)" border="0" alt="DefaultListableBeanFactory类继承关系
图" src="http://images.51cto.com/files/uploadimg/20100611/1508528.png" width="572" height="253" /></a><br /> <span style="font-size: smaller"><strong>图10.DefaultListableBeanFactory类继承关系图</strong></span></p> 
      <p>从这个图中发现除了BeanFactory相关的类外，还发现了与Bean的register相关。这在refreshBeanFactory方法中有一行loadBeanDefinitions(beanFactory)将找到答案，这个方法将开始加载、解析 Bean的定义，也就是把用户定义的数据结构转化为Ioc容器中的特定数据结构。</p> 
      <p></p> 
      <p>这个过程可以用下面时序图解释：</p> 
      <p style="text-align: center"><a target="_blank" href="http://images.51cto.com/files/uploadimg/20100611/1508529.png"><img class="fit-image" onload="javascript:if(this.width&gt;498)this.width=498;" onmousewheel="javascript:return big(this)" border="0" alt="创建BeanFactory时序图" width="572" height="250" src="http://images.51cto.com/files/uploadimg/20100611/1508529.png" /></a><br /> <span style="font-size: smaller"><strong>图11.创建BeanFactory时序图</strong></span></p> 
      <p>Bean的解析和登记流程时序图如下：</p> 
      <p style="text-align: center"><a target="_blank" href="http://images.51cto.com/files/uploadimg/20100611/15085210.png"><img class="fit-image" onload="javascript:if(this.width&gt;498)this.width=498;" onmousewheel="javascript:return big(this)" border="0" alt="解析和登记Bean对象时序图" width="572" height="368" src="http://images.51cto.com/files/uploadimg/20100611/15085210.png" /></a><br /> <span style="font-size: smaller"><strong>图12.解析和登记Bean对象时序图</strong></span></p> 
      <p>创建好BeanFactory后，接下去添加一些Spring本身需要的一些工具类，这个操作在AbstractApplicationContext的prepareBeanFactory方法完成。</p> 
      <p>AbstractApplicationContext中接下来的三行代码对Spring的功能扩展性起了至关重要的作用。前两行主要是让你现在可以对已经构建的BeanFactory的配置做修改，后面一行就是让你可以对以后再 创建Bean的实例对象时添加一些自定义的操作。所以他们都是扩展了Spring的功能，所以我们要学习使用Spring必须对这一部分搞清楚。</p> 
      <p>其中在invokeBeanFactoryPostProcessors方法中主要是获取实现BeanFactoryPostProcessor接口的子类。并执行它的postProcessBeanFactory方法，这个方法的声明如下：</p> 
      <p><strong>清单3.BeanFactoryPostProcessor.postProcessBeanFactory</strong></p> 
      <pre>
       <ol class="dp-xml">
        <li class="alt"><span><span>void&nbsp;postProcessBeanFactory(ConfigurableListableBeanFactory&nbsp;beanFactory) &nbsp;</span></span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;throws&nbsp;BeansException; &nbsp;</span></li>
       </ol></pre> 
      <p>它的参数是beanFactory，说明可以对beanFactory做修改，这里注意这个beanFactory是ConfigurableListableBeanFactory类型的，这也印证了前面介绍的不同BeanFactory所使用的场合不同，这里 只能是可配置的BeanFactory，防止一些数据被用户随意修改。</p> 
      <p>registerBeanPostProcessors方法也是可以获取用户定义的实现了BeanPostProcessor接口的子类，并执行把它们注册到BeanFactory对象中的beanPostProcessors变量中。BeanPostProcessor中声明 了两个方法：postProcessBeforeInitialization、postProcessAfterInitialization分别用于在Bean对象初始化时执行。可以执行用户自定义的操作。</p> 
      <p>后面的几行代码是初始化监听事件和对系统的其他监听者的注册，监听者必须是ApplicationListener的子类。</p> 
      <p><strong>如何创建Bean实例并构建Bean的关系网</strong></p> 
      <p>下面就是Bean的实例化代码，是从finishBeanFactoryInitialization方法开始的。</p> 
      <p></p> 
      <p><strong>清单4.AbstractApplicationContext.finishBeanFactoryInitialization</strong></p> 
      <pre>
       <ol class="dp-xml">
        <li class="alt"><span><span>protected&nbsp;void&nbsp;finishBeanFactoryInitialization( &nbsp;</span></span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ConfigurableListableBeanFactory&nbsp;beanFactory)&nbsp;{ &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Stop&nbsp;using&nbsp;the&nbsp;temporary&nbsp;ClassLoader&nbsp;for&nbsp;type&nbsp;matching. &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;beanFactory.setTempClassLoader(null); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Allow&nbsp;for&nbsp;caching&nbsp;all&nbsp;bean&nbsp;definition&nbsp;metadata,&nbsp;not&nbsp;expecting&nbsp;further&nbsp;changes . &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;beanFactory.freezeConfiguration(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Instantiate&nbsp;all&nbsp;remaining&nbsp;(non-lazy-init)&nbsp;singletons. &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;beanFactory.preInstantiateSingletons(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>} &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
       </ol></pre> 
      <p>从上面代码中可以发现Bean的实例化是在BeanFactory中发生的。preInstantiateSingletons方法的代码如下：</p> 
      <p><strong>清单5.DefaultListableBeanFactory.preInstantiateSingletons</strong></p> 
      <pre>
       <ol class="dp-xml">
        <li class="alt"><span><span>public&nbsp;void&nbsp;preInstantiateSingletons()&nbsp;throws&nbsp;BeansException&nbsp;{ &nbsp;</span></span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(this.logger.isInfoEnabled())&nbsp;{ &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.logger.info(&quot;Pre- instantiating&nbsp;singletons&nbsp;in&nbsp;&quot;&nbsp;+&nbsp;this); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;synchronized&nbsp;(this.beanDefinitionMap)&nbsp;{ &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp; (String&nbsp;beanName&nbsp;:&nbsp;this.beanDefinitionNames)&nbsp;{ &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RootBeanDefinition&nbsp;</span><span class="attribute">bd</span><span>&nbsp;=&nbsp;</span><span class="attribute-value">getMergedLocalBeanDefinition</span><span>(beanName); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!bd.isAbstract() &nbsp;&amp;&amp;&nbsp;bd.isSingleton() &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp;&nbsp;!bd.isLazyInit())&nbsp;{ &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp; (isFactoryBean(beanName))&nbsp;{ &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;FactoryBean&nbsp;</span>
         <spa class="attribute" n=""></spa>factory<span>&nbsp;= &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(FactoryBean) &nbsp;getBean(FACTORY_BEAN_PREFIX+&nbsp;beanName); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;boolean&nbsp;isEagerInit; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(System.getSecurityManager() &nbsp;!=&nbsp;null &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp;&nbsp; ;factory&nbsp;instanceof&nbsp;SmartFactoryBean)&nbsp;{ &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="attribute">isEagerInit</span><span>&nbsp;=&nbsp;</span><span class="attribute-value">AccessController</span><span>.doPrivileged( &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;nb sp;&nbsp;new&nbsp;PrivilegedAction</span><span class="tag">&lt;</span><span class="tag-name">Boolean</span><span class="tag">&gt;</span><span>()&nbsp;{ &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;nb sp;&nbsp;public&nbsp;Boolean&nbsp;run()&nbsp;{ &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;return&nbsp;((SmartFactoryBean) &nbsp;factory).isEagerInit(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;nb sp;&nbsp;} &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;getAcce ssControlContext()); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;{ &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="attribute">isEagerInit</span><span>&nbsp;=&nbsp;</span><span class="attribute-value">factory</span><span>&nbsp;instanceof&nbsp;SmartFactoryBean &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;nb sp;&nbsp;&amp;&amp;&nbsp;((SmartFactoryBean)&nbsp;factory).isEagerInit(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(isEagerInit)&nbsp;{ &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getBean (beanName); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;{ &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getBean(beanName); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>} &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
       </ol></pre> 
      <p></p> 
      <p>这里出现了一个非常重要的Bean&#x2014;&#x2014;FactoryBean，可以说Spring一大半的扩展的功能都与这个Bean有关，这是个特殊的Bean他是个工厂Bean，可以产生Bean的Bean，这里的产生Bean是指 Bean的实例，如果一个类继承FactoryBean用户可以自己定义产生实例对象的方法只要实现他的getObject方法。然而在Spring内部这个Bean的实例对象是FactoryBean，通过调用这个对象的getObject方 法就能获取用户自定义产生的对象，从而为Spring提供了很好的扩展性。Spring获取FactoryBean本身的对象是在前面加上&amp;来完成的。</p> 
      <p>如何创建Bean的实例对象以及如何构建Bean实例对象之间的关联关系式Spring中的一个核心关键，下面是这个过程的流程图。</p> 
      <p style="text-align: center"><a target="_blank" href="http://images.51cto.com/files/uploadimg/20100611/15085211.gif"><img class="fit-image" onload="javascript:if(this.width&gt;498)this.width=498;" onmousewheel="javascript:return big(this)" border="0" alt="Bean实例创建流程图" width="572" height="842" src="http://images.51cto.com/files/uploadimg/20100611/15085211.gif" /></a><br /> <span style="font-size: smaller"><strong>图13.Bean实例创建流程图</strong></span></p> 
      <p>如果是普通的Bean就直接创建他的实例，是通过调用getBean方法。下面是创建Bean实例的时序图：</p> 
      <p style="text-align: center"><a target="_blank" href="http://images.51cto.com/files/uploadimg/20100611/15085212.png"><img class="fit-image" onload="javascript:if(this.width&gt;498)this.width=498;" onmousewheel="javascript:return big(this)" border="0" alt="Bean实例创建时序图" width="572" height="490" src="http://images.51cto.com/files/uploadimg/20100611/15085212.png" /></a><br /> <span style="font-size: smaller"><strong>图14.Bean实例创建时序图</strong></span></p> 
      <p style="text-align: left"></p> 
      <p>还有一个非常重要的部分就是建立Bean对象实例之间的关系，这也是Spring框架的核心竞争力，何时、如何建立他们之间的关系请看下面的时序图：</p> 
      <p style="text-align: center"><a target="_blank" href="http://images.51cto.com/files/uploadimg/20100611/15085213.png"><img class="fit-image" onload="javascript:if(this.width&gt;498)this.width=498;" onmousewheel="javascript:return big(this)" border="0" alt="Bean对象关系建立" width="572" height="453" src="http://images.51cto.com/files/uploadimg/20100611/15085213.png" /></a><br /> <span style="font-size: smaller"><strong>图15.Bean对象关系建立</strong></span></p> 
      <p><strong>Ioc容器的扩展点</strong></p> 
      <p>现在还有一个问题就是如何让这些Bean对象有一定的扩展性，就是可以加入用户的一些操作。那么有哪些扩展点呢？Spring又是如何调用到这些扩展点的？</p> 
      <p>对Spring的Ioc容器来说，主要有这么几个。BeanFactoryPostProcessor，BeanPostProcessor。他们分别是在构建BeanFactory和构建Bean对象时调用。还有就是InitializingBean和DisposableBean 他们分别是在Bean实例创建和销毁时被调用。用户可以实现这些接口中定义的方法，Spring就会在适当的时候调用他们。还有一个是FactoryBean他是个特殊的Bean，这个Bean可以被用户更多的控制。</p> 
      <p>这些扩展点通常也是我们使用Spring来完成我们特定任务的地方，如何精通Spring就看你有没有掌握好Spring有哪些扩展点，并且如何使用他们，要知道如何使用他们就必须了解他们内在的机理。可 以用下面一个比喻来解释。</p> 
      <p>我们把Ioc容器比作一个箱子，这个箱子里有若干个球的模子，可以用这些模子来造很多种不同的球，还有一个造这些球模的机器，这个机器可以产生球模。那么他们的对应关系就是BeanFactory就是 那个造球模的机器，球模就是Bean，而球模造出来的球就是Bean的实例。那前面所说的几个扩展点又在什么地方呢？BeanFactoryPostProcessor对应到当造球模被造出来时，你将有机会可以对其做出设 当的修正，也就是他可以帮你修改球模。而InitializingBean和DisposableBean是在球模造球的开始和结束阶段，你可以完成一些预备和扫尾工作。BeanPostProcessor就可以让你对球模造出来的球做出 适当的修正。最后还有一个FactoryBean，它可是一个神奇的球模。这个球模不是预先就定型了，而是由你来给他确定它的形状，既然你可以确定这个球模型的形状，当然他造出来的球肯定就是你想要的 球了，这样在这个箱子里尼可以发现所有你想要的球</p> 
      <p><strong>Ioc容器如何为我所用</strong></p> 
      <p>前面的介绍了Spring容器的构建过程，那Spring能为我们做什么，Spring的Ioc容器又能做什么呢？我们使用Spring必须要首先构建Ioc容器，没有它Spring无法工作，ApplicatonContext.xml就是Ioc 容器的默认配置文件，Spring的所有特性功能都是基于这个Ioc容器工作的，比如后面要介绍的AOP。</p> 
      <p>Ioc它实际上就是为你构建了一个魔方，Spring为你搭好了骨骼架构，这个魔方到底能变出什么好的东西出来，这必须要有你的参与。那我们怎么参与？这就是前面说的要了解Spring中那有些扩展点 ，我们通过实现那些扩展点来改变Spring的通用行为。至于如何实现扩展点来得到我们想要的个性结果，Spring中有很多例子，其中AOP的实现就是Spring本身实现了其扩展点来达到了它想要的特性功能 ，可以拿来参考。</p> 
      <p></p> 
      <p><strong>Spring中AOP特性详解</strong></p> 
      <p><strong>动态代理的实现原理</strong></p> 
      <p>要了解Spring的AOP就必须先了解的动态代理的原理，因为AOP就是基于动态代理实现的。动态代理还要从JDK本身说起。</p> 
      <p>在Jdk的java.lang.reflect包下有个Proxy类，它正是构造代理类的入口。这个类的结构入下：</p> 
      <p style="text-align: center"><a target="_blank" href="http://images.51cto.com/files/uploadimg/20100611/15085214.png"><img class="fit-image" onload="javascript:if(this.width&gt;498)this.width=498;" onmousewheel="javascript:return big(this)" border="0" alt="Proxy类结构" width="472" height="363" src="http://images.51cto.com/files/uploadimg/20100611/15085214.png" /></a><br /> <span style="font-size: smaller"><strong>图16.Proxy类结构</strong></span></p> 
      <p>从上图发现最后面四个是公有方法。而最后一个方法newProxyInstance就是创建代理对象的方法。这个方法的源码如下：</p> 
      <p><strong>清单6.Proxy.newProxyInstance</strong></p> 
      <pre>
       <ol class="dp-xml">
        <li class="alt"><span><span>public&nbsp;static&nbsp;Object&nbsp;newProxyInstance(ClassLoader&nbsp;loader, &nbsp;</span></span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;Class</span><span class="tag"><span class="tag">&gt;</span><span> []&nbsp;interfaces, &nbsp;</span></span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;InvocationHandler&nbsp;h) &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;throws&nbsp;IllegalArgumentException&nbsp;{ &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span class="attribute">h</span><span>&nbsp;==&nbsp;null)&nbsp;{ &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;NullPointerException(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;Class&nbsp;</span><span class="attribute">cl</span><span>&nbsp;=&nbsp;</span><span class="attribute-value">getProxyClass</span><span> (loader,&nbsp;interfaces); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;{ &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructor&nbsp;</span><span class="attribute">cons</span><span>&nbsp;=&nbsp;</span><span class="attribute-value">cl</span><span>.getConstructor(constructorParams); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(Object)&nbsp;cons.newInstance(new&nbsp;Object[] &nbsp;{&nbsp;h&nbsp;}); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;catch&nbsp;(NoSuchMethodException&nbsp;e)&nbsp;{ &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;InternalError(e.toString()); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;catch&nbsp;(IllegalAccessException&nbsp;e)&nbsp;{ &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;InternalError(e.toString()); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;catch&nbsp;(InstantiationException&nbsp;e)&nbsp;{ &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;InternalError(e.toString()); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;catch&nbsp;(InvocationTargetException&nbsp;e)&nbsp;{ &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;InternalError(e.toString()); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>} &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
       </ol></pre> 
      <p>这个方法需要三个参数：ClassLoader，用于加载代理类的Loader类，通常这个Loader和被代理的类是同一个Loader类。Interfaces，是要被代理的那些那些接口。InvocationHandler，就是用于执行 除了被代理接口中方法之外的用户自定义的操作，他也是用户需要代理的最终目的。用户调用目标方法都被代理到InvocationHandler类中定义的唯一方法invoke中。这在后面再详解。</p> 
      <p></p> 
      <p>下面还是看看Proxy如何产生代理类的过程，他构造出来的代理类到底是什么样子？下面揭晓啦。</p> 
      <p style="text-align: center"><a target="_blank" href="http://images.51cto.com/files/uploadimg/20100611/15085215.png"><img class="fit-image" onload="javascript:if(this.width&gt;498)this.width=498;" onmousewheel="javascript:return big(this)" border="0" alt="创建代理对象时序图" width="534" height="470" src="http://images.51cto.com/files/uploadimg/20100611/15085215.png" /></a><br /> <span style="font-size: smaller"><strong>图17.创建代理对象时序图</strong></span></p> 
      <p>其实从上图中可以发现正在构造代理类的是在ProxyGenerator的generateProxyClass的方法中。ProxyGenerator类在sun.misc包下，感兴趣的话可以看看他的源码。</p> 
      <p>假如有这样一个接口，如下：</p> 
      <p><strong>清单7.SimpleProxy类</strong></p> 
      <pre>
       <ol class="dp-xml">
        <li class="alt"><span><span>public&nbsp;interface&nbsp;SimpleProxy&nbsp;{ &nbsp;</span></span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;simpleMethod1(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;simpleMethod2(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>} &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
       </ol></pre> 
      <p></p> 
      <p>代理来生成的类结构如下：</p> 
      <p><strong>清单 8.$Proxy2类</strong></p> 
      <pre>
       <ol class="dp-xml">
        <li class="alt"><span><span>public&nbsp;class&nbsp;$Proxy2&nbsp;extends&nbsp;java.lang.reflect.Proxy&nbsp;implements&nbsp;SimpleProxy{ &nbsp;</span></span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.reflect.Method&nbsp;m0; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.reflect.Method&nbsp;m1; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.reflect.Method&nbsp;m2; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.reflect.Method&nbsp;m3; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.reflect.Method&nbsp;m4; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;hashCode(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;boolean&nbsp;equals(java.lang.Object); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.String&nbsp;toString(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;simpleMethod1(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;simpleMethod2(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>} &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
       </ol></pre> 
      <p>这个类中的方法里面将会是调用InvocationHandler的invoke方法，而每个方法也将对应一个属性变量，这个属性变量m也将传给invoke方法中的Method参数。整个代理就是这样实现的。</p> 
      <p></p> 
      <p><strong>SpringAOP如何实现</strong></p> 
      <p>从前面代理的原理我们知道，代理的目的是调用目标方法时我们可以转而执行InvocationHandler类的invoke方法，所以如何在InvocationHandler上做文章就是Spring实现Aop的关键所在。</p> 
      <p>Spring的Aop实现是遵守Aop联盟的约定。同时Spring又扩展了它，增加了如Pointcut、Advisor等一些接口使得更加灵活。</p> 
      <p>下面是Jdk动态代理的类图：</p> 
      <p style="text-align: center"><a target="_blank" href="http://images.51cto.com/files/uploadimg/20100611/15085216.png"><img class="fit-image" onload="javascript:if(this.width&gt;498)this.width=498;" onmousewheel="javascript:return big(this)" border="0" alt="Jdk动态代理的类图" width="572" height="276" src="http://images.51cto.com/files/uploadimg/20100611/15085216.png" /></a><br /> <span style="font-size: smaller"><strong>图18.Jdk动态代理的类图</strong></span></p> 
      <p>上图清楚的显示了Spring引用了Aop Alliance定义的接口。姑且不讨论Spring如何扩展Aop Alliance，先看看Spring如何实现代理类的，要实现代理类在Spring的配置文件中通常是这样定一个Bean的 ，如下：</p> 
      <p><strong>清单9.配置代理类Bean</strong></p> 
      <pre>
       <ol class="dp-xml">
        <li class="alt"><span><span class="tag">&lt;</span><span class="tag-name">bean</span><span>&nbsp;</span><span class="attribute">id</span><span>=</span><span class="attribute-value">&quot;testBeanSingleton&quot;</span><span>&nbsp;</span></span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="attribute">class</span><span>=</span><span class="attribute-

value">&quot;org.springframework.aop.framework.ProxyFactoryBean&quot;</span><span class="tag">&gt;</span><span>&nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="tag">&lt;</span><span class="tag-name">property</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">&quot;proxyInterfaces&quot;</span><span class="tag">&gt;</span><span>&nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="tag">&lt;</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;org.springframework.aop.framework.PrototypeTargetTests$TestBean &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="tag-

name">value</span><span class="tag">&gt;</span><span>&nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="tag-name">property</span><span class="tag">&gt;</span><span>&nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="tag">&lt;</span><span class="tag-name">property</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">&quot;target&quot;</span><span class="tag">&gt;</span><span class="tag">&lt;</span><span class="tag-

name">ref</span><span>&nbsp;</span><span class="attribute">local</span><span>=</span><span class="attribute-value">&quot;testBeanTarget&quot;</span><span class="tag">&gt;</span><span class="tag-name">ref</span><span class="tag">&gt;</span><span>&nbsp;</span><span class="tag-name">property</span><span class="tag">&gt;</span><span>&nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="tag">&lt;</span><span class="tag-name">property</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-

value">&quot;singleton&quot;</span><span class="tag">&gt;</span><span class="tag">&lt;</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>true</span><span class="tag-name">value</span><span class="tag">&gt;</span><span class="tag-name">property</span><span class="tag">&gt;</span><span>&nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="tag">&lt;</span><span class="tag-name">property</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-

value">&quot;interceptorNames&quot;</span><span class="tag">&gt;</span><span>&nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="tag">&lt;</span><span class="tag-name">list</span><span class="tag">&gt;</span><span>&nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="tag">&lt;</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>testInterceptor</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="tag">&lt;</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>testInterceptor2</span><span class="tag-name">value</span><span class="tag">&gt;</span><span>&nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="tag-name">list</span><span class="tag">&gt;</span><span>&nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="tag-name">property</span><span class="tag">&gt;</span><span>&nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span class="tag-name">bean</span><span class="tag">&gt;</span><span>&nbsp;</span></li>
        <li><span>&nbsp;</span></li>
       </ol></pre> 
      <p>配置上看到要设置被代理的接口，和接口的实现类也就是目标类，以及拦截器也就在执行目标方法之前被调用，这里Spring中定义的各种各样的拦截器，可以选择使用。</p> 
      <p>下面看看Spring如何完成了代理以及是如何调用拦截器的。</p> 
      <p>前面提到Spring Aop也是实现其自身的扩展点来完成这个特性的，从这个代理类可以看出它正是继承了Factory Bean的ProxyFactoryBean，FactoryBean之所以特别就在它可以让你自定义对象的创建 方法。当然代理对象要通过Proxy类来动态生成。</p> 
      <p></p> 
      <p>下面是Spring创建的代理对象的时序图：</p> 
      <p style="text-align: center"><a target="_blank" href="http://images.51cto.com/files/uploadimg/20100611/15085217.png"><img class="fit-image" onload="javascript:if(this.width&gt;498)this.width=498;" onmousewheel="javascript:return big(this)" border="0" alt="Spring代理对象的产生" width="572" height="355" src="http://images.51cto.com/files/uploadimg/20100611/15085217.png" /></a><br /> <span style="font-size: smaller"><strong>图19.Spring代理对象的产生</strong></span></p> 
      <p>Spring创建了代理对象后，当你调用目标对象上的方法时，将都会被代理到InvocationHandler类的invoke方法中执行，这在前面已经解释。在这里JdkDynamicAopProxy类实现了InvocationHandler接 口。</p> 
      <p>下面再看看Spring是如何调用拦截器的，下面是这个过程的时序图：</p> 
      <p style="text-align: center"><a target="_blank" href="http://images.51cto.com/files/uploadimg/20100611/15085218.png"><img class="fit-image" onload="javascript:if(this.width&gt;498)this.width=498;" onmousewheel="javascript:return big(this)" border="0" alt="Spring调用拦截器" width="572" height="581" src="http://images.51cto.com/files/uploadimg/20100611/15085218.png" /></a><br /> <span style="font-size: smaller"><strong>图20.Spring调用拦截器</strong></span></p> 
      <p>以上所说的都是Jdk动态代理，Spring还支持一种CGLIB类代理，感兴趣自己看吧。</p> 
      <p></p> 
      <p><strong>Spring中设计模式分析</strong></p> 
      <p>Spring中使用的设计模式也很多，比如工厂模式、单例模式、模版模式等，在《Webx框架的系统架构与设计模式》、《Tomcat的系统架构与模式设计分析》已经有介绍，这里就不赘述了。这里主要介 绍代理模式和策略模式。</p> 
      <p><strong>代理模式</strong></p> 
      <p><strong>代理模式原理</strong></p> 
      <p>代理模式就是给某一个对象创建一个代理对象，而由这个代理对象控制对原对象的引用，而创建这个代理对象就是可以在调用原对象是可以增加一些额外的操作。下面是代理模式的结构：</p> 
      <p style="text-align: center"><a target="_blank" href="http://images.51cto.com/files/uploadimg/20100611/15085219.png"><img class="fit-image" onload="javascript:if(this.width&gt;498)this.width=498;" onmousewheel="javascript:return big(this)" border="0" alt="代理模式的结构" width="398" height="245" src="http://images.51cto.com/files/uploadimg/20100611/15085219.png" /></a><br /> <span style="font-size: smaller"><strong>图21.代理模式的结构</strong></span></p> 
      <p>Subject：抽象主题，它是代理对象的真实对象要实现的接口，当然这可以是多个接口组成。</p> 
      <p>ProxySubject：代理类除了实现抽象主题定义的接口外，还必须持有所代理对象的引用</p> 
      <p>RealSubject：被代理的类，是目标对象。</p> 
      <p><strong>Spring中如何实现代理模式</strong></p> 
      <p>Spring Aop中Jdk动态代理就是利用代理模式技术实现的。在Spring中除了实现被代理对象的接口外，还会有org.springframework.aop.SpringProxy和org.springframework.aop.framework.Advised 两个接口。Spring中使用代理模式的结构图如下：</p> 
      <p style="text-align: center"><a target="_blank" href="http://images.51cto.com/files/uploadimg/20100611/15085220.gif"><img class="fit-image" onload="javascript:if(this.width&gt;498)this.width=498;" onmousewheel="javascript:return big(this)" border="0" alt="Spring中使用代理模式的结构图" width="441" height="260" src="http://images.51cto.com/files/uploadimg/20100611/15085220.gif" /></a><br /> <span style="font-size: smaller"><strong>图22.Spring中使用代理模式的结构图</strong></span></p> 
      <p>$Proxy就是创建的代理对象，而Subject是抽象主题，代理对象是通过InvocationHandler来持有对目标对象的引用的。</p> 
      <p></p> 
      <p>Spring中一个真实的代理对象结构如下：</p> 
      <p><strong>清单10代理对象$Proxy4</strong></p> 
      <pre>
       <ol class="dp-xml">
        <li class="alt"><span><span>public&nbsp;class&nbsp;$Proxy4&nbsp;extends&nbsp;java.lang.reflect.Proxy&nbsp;implements &nbsp;</span></span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;org.springframework.aop.framework.PrototypeTargetTests$TestBean &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;org.springframework.aop.SpringProxy &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;org.springframework.aop.framework.Advised &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>{ &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.reflect.Method&nbsp;m16; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.reflect.Method&nbsp;m9; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.reflect.Method&nbsp;m25; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.reflect.Method&nbsp;m5; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.reflect.Method&nbsp;m2; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.reflect.Method&nbsp;m23; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.reflect.Method&nbsp;m18; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.reflect.Method&nbsp;m26; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.reflect.Method&nbsp;m6; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.reflect.Method&nbsp;m28; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.reflect.Method&nbsp;m14; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.reflect.Method&nbsp;m12; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.reflect.Method&nbsp;m27; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.reflect.Method&nbsp;m11; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.reflect.Method&nbsp;m22; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.reflect.Method&nbsp;m3; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.reflect.Method&nbsp;m8; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.reflect.Method&nbsp;m4; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.reflect.Method&nbsp;m19; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.reflect.Method&nbsp;m7; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.reflect.Method&nbsp;m15; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.reflect.Method&nbsp;m20; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.reflect.Method&nbsp;m10; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.reflect.Method&nbsp;m1; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.reflect.Method&nbsp;m17; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.reflect.Method&nbsp;m21; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.reflect.Method&nbsp;m0; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.reflect.Method&nbsp;m13; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.reflect.Method&nbsp;m24; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;hashCode(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;indexOf(org.springframework.aop.Advisor); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;indexOf(org.aopalliance.aop.Advice); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;boolean&nbsp;equals(java.lang.Object); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.String&nbsp;toString(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;sayhello(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;doSomething(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;doSomething2(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.Class&nbsp;getProxiedInterfaces(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.Class&nbsp;getTargetClass(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;boolean&nbsp;isProxyTargetClass(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;org.springframework.aop.Advisor;&nbsp;getAdvisors(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;addAdvisor(int,&nbsp;org.springframework.aop.Advisor) &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throws&nbsp;org.springframework.aop.framework.AopConfigException; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;addAdvisor(org.springframework.aop.Advisor) &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throws&nbsp;org.springframework.aop.framework.AopConfigException; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;setTargetSource(org.springframework.aop.TargetSource); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;org.springframework.aop.TargetSource&nbsp;getTargetSource(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;setPreFiltered(boolean); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;boolean&nbsp;isPreFiltered(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;boolean&nbsp;isInterfaceProxied(java.lang.Class); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;boolean&nbsp;removeAdvisor(org.springframework.aop.Advisor); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;removeAdvisor(int)throws&nbsp;org.springframework.aop.framework.AopConfigException; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;boolean&nbsp;replaceAdvisor(org.springframework.aop.Advisor, &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;org.springframework.aop.Advisor) &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throws&nbsp;org.springframework.aop.framework.AopConfigException; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;addAdvice(org.aopalliance.aop.Advice) &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throws&nbsp;org.springframework.aop.framework.AopConfigException; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;addAdvice(int,&nbsp;org.aopalliance.aop.Advice) &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throws&nbsp;org.springframework.aop.framework.AopConfigException; &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;boolean&nbsp;removeAdvice(org.aopalliance.aop.Advice); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;java.lang.String&nbsp;toProxyConfigString(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;boolean&nbsp;isFrozen(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;setExposeProxy(boolean); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;boolean&nbsp;isExposeProxy(); &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
        <li class="alt"><span>} &nbsp;</span></li>
        <li><span>&nbsp;</span></li>
       </ol></pre> 
      <p></p> 
      <p><strong>策略模式</strong></p> 
      <p><strong>策略模式原理</strong></p> 
      <p>策略模式顾名思义就是做某事的策略，这在编程上通常是指完成某个操作可能有多种方法，这些方法各有千秋，可能有不同的适应的场合，然而这些操作方法都有可能用到。各一个操作方法都当作一 个实现策略，使用者可能根据需要选择合适的策略。</p> 
      <p>下面是策略模式的结构：</p> 
      <p style="text-align: center"><a target="_blank" href="http://images.51cto.com/files/uploadimg/20100611/15085221.png"><img class="fit-image" onload="javascript:if(this.width&gt;498)this.width=498;" onmousewheel="javascript:return big(this)" border="0" alt="策略模式的结构" width="458" height="223" src="http://images.51cto.com/files/uploadimg/20100611/15085221.png" /></a><br /> <span style="font-size: smaller"><strong>图23.策略模式的结构</strong></span></p> 
      <p>Context：使用不同策略的环境，它可以根据自身的条件选择不同的策略实现类来完成所要的操作。它持有一个策略实例的引用。创建具体策略对象的方法也可以由他完成。</p> 
      <p>◆Strategy：抽象策略，定义每个策略都要实现的策略方法</p> 
      <p>◆ConcreteStrategy：具体策略实现类，实现抽象策略中定义的策略方法</p> 
      <p>◆Spring中策略模式的实现</p> 
      <p>◆Spring中策略模式使用有多个地方，如Bean定义对象的创建以及代理对象的创建等。这里主要看一下代理对象创建的策略模式的实现。</p> 
      <p>前面已经了解Spring的代理方式有两个Jdk动态代理和CGLIB代理。这两个代理方式的使用正是使用了策略模式。它的结构图如下所示：</p> 
      <p style="text-align: center"><a target="_blank" href="http://images.51cto.com/files/uploadimg/20100611/15085222.png"><img class="fit-image" onload="javascript:if(this.width&gt;498)this.width=498;" onmousewheel="javascript:return big(this)" border="0" alt="Spring中策略模式结构图" width="572" height="345" src="http://images.51cto.com/files/uploadimg/20100611/15085222.png" /></a><br /> <span style="font-size: smaller"><strong>图24.Spring中策略模式结构图</strong></span></p> 
      <p>在上面结构图中与标准的策略模式结构稍微有点不同，这里抽象策略是AopProxy接口，Cglib2AopProxy和JdkDynamicAopProxy分别代表两种策略的实现方式，ProxyFactoryBean就是代表Context角色 ，它根据条件选择使用Jdk代理方式还是CGLIB方式，而另外三个类主要是来负责创建具体策略对象，ProxyFactoryBean是通过依赖的方法来关联具体策略对象的，它是通过调用策略对象的getProxy (ClassLoaderclassLoader)方法来完成操作。</p> 
      <p></p> 
      <p><strong>总结</strong></p> 
      <p>本文通过从Spring的几个核心组件入手，试图找出构建Spring框架的骨骼架构，进而分析Spring在设计的一些设计理念，是否从中找出一些好的设计思想，对我们以后程序设计能提供一些思路。接着 再详细分析了Spring中是如何实现这些理念的，以及在设计模式上是如何使用的。</p> 
      <p>通过分析Spring给我一个很大的启示就是其这套设计理念其实对我们有很强的借鉴意义，它通过抽象复杂多变的对象，进一步做规范，然后根据它定义的这套规范设计出一个容器，容器中构建它们的 复杂关系，其实现在有很多情况都可以用这种类似的处理方法。</p> 
      <p>虽然我很想把我对Spring的想法完全阐述清楚，但是所谓“书不尽言，言不尽意。”，有什么不对或者不清楚的地方大家还是看看其源码吧。</p> 
      <p>关于作者：</p> 
      <p><a name="author1"></a>许令波，现就职于淘宝网，是一名 Java 开发工程师。对大型互联网架构设计颇感兴趣，并对一些开源框架也有比较深入的研究。</p> 
      <p>【编辑推荐】</p> 
      <ol> 
       <li><a target="_blank" href="http://developer.51cto.com/art/201006/205055.htm">Java持久化框架 DataNucleus 2.1发布</a></li> 
       <li><a target="_blank" href="http://developer.51cto.com/art/200906/132325.htm">浅谈Spring框架中的JDBC应用</a></li> 
       <li><a target="_blank" href="http://developer.51cto.com/art/200906/130413.htm">Spring框架的7个模块</a></li> 
       <li><a target="_blank" href="http://developer.51cto.com/art/200906/130421.htm">详细介绍Spring框架</a></li> 
       <li><a target="_blank" href="http://developer.51cto.com/art/200805/75043.htm">将Flex与Spring框架集成</a></li> 
      </ol> 
      <div align="right">
       【责任编辑：
       <a class="ln" href="mailto:zhousn@51cto.com">立方</a> TEL：（010）68476606】
      </div>
      <br /> 
      <p class="blank10"></p> 
      <div class="f12"> 
       <span class="fl">原文：<a href="http://developer.51cto.com/art/201006/205212.htm" class="blue"><b>多图详解Spring框架的设计理念与设计模式</b></a></span> 
       <span class="fr"><a href="http://developer.51cto.com">返回开发首页</a></span> 
      </div> 
      <p class="blank1"></p> 
     </div> 
     <hr style="border-top: #555555 1px solid; height: 1px; border-right: medium none; border-bottom: medium none; border-left: medium none" /> 
     <div style="width: 600px; background: #ffffff">
      <img width="600" height="140" alt="" src="http://s3.51cto.com/wyfs02/M01/76/4A/wKioL1ZOwrbDjDqxAABJOr5GFjU021.png" border="0" />
     </div> 
     <hr style="border-top: #555555 1px solid; height: 1px; border-right: medium none; border-bottom: medium none; border-left: medium none" /> 
     <iframe width="600" height="239" src="http://widget.weibo.com/relationship/bulkfollow.php?language=zh_cn&amp;uids=1708729084,1706976420,3812432787,1422974343,1927494533,1734475394&amp;wide=0&amp;color=C2D9F2,FFFFFF,0082CB,666666&amp;showtitle=1&amp;showinfo=1&amp;sense=0&amp;verified=1&amp;count=6&amp;refer='+encodeURIComponent(location.href)+'&amp;dpc=1" frameborder="0" scrolling="no"></iframe> 
     <div class="tips"> 
      <div style="float:left;"> 
       <span style="float:left; margin-top:4px;">分享到：</span> 
       <!-- Baidu Button BEGIN --> 
       <div id="bdshare" class="bdshare_t bds_tools get-codes-bdshare" style="margin-right:5px; float:left;"> 
        <a class="bds_qzone"></a> 
        <a class="bds_tsina"></a> 
        <a class="bds_tqq"></a> 
        <a class="bds_renren"></a> 
        <a class="bds_t163"></a> 
        <span class="bds_more"></span> 
        <a class="shareCount"></a> 
       </div> 
       <!--<div class="fl"> 
    </div>
-->
       <script type="text/javascript" id="bdshare_js" data="type=tools&amp;uid=585532"></script> 
       <script type="text/javascript" id="bdshell_js"></script> 
       <script type="text/javascript">
	var bds_config = {'snsKey':{'tsina':'2378297317'}};
	document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?t=" + new Date().getHours();
</script> 
       <!-- Baidu Button END --> 
      </div>
      <div class="fr blue">
       <a href="javascript:AddFavorite(document.location.href,document.title);" target="_self">收藏</a>|
       <a href="javascript:window.print();" target="_self">打印</a>|
       <a id="msnqqcopy" title="分享本资源给好友" target="_self">复制</a>
      </div> 
     </div> 
    </div> 
    <!--内容 end--> 
    <p class="blank10"></p> 
    <div class="comment center"> 
     <div class="inner center" id="cmscmt_iframe"></div> 
    </div> 
    <script type="text/javascript" id="UYScript" src="http://comment.51cto.com/static/js/api_js/iframe_cmt.js" async=""></script> 
    <p class="blank10"></p> 
    <div class="bor"> 
     <div class="titbg pl15">
      关于
      <a href="http://www.51cto.com/php/search.php?keyword=Spring%BF%F2%BC%DC" target="_blank" class="underline">Spring框架</a>&nbsp;&nbsp;
      <a href="http://www.51cto.com/php/search.php?keyword=Beans%D7%E9%BC%FE" target="_blank" class="underline">Beans组件</a>&nbsp;&nbsp;
      <a href="http://www.51cto.com/php/search.php?keyword=Java%BF%F2%BC%DC" target="_blank" class="underline">Java框架</a>的更多文章
     </div> 
     <div class="reltag"> 
      <ul class="fl list02"> 
       <li><a href="http://developer.51cto.com/art/201511/496386.htm" title="Java Executor 框架学习总结">Java Executor 框架学习总结</a></li>
       <li><a href="http://developer.51cto.com/art/201510/495456.htm" title="P3-weixin-2.0.1版本发布，JAVA 微信插件框架">P3-weixin-2.0.1版本发布，JAVA 微信插件框</a></li>
       <li><a href="http://developer.51cto.com/art/201509/492330.htm" title="Java 动态代理机制分析及扩展">Java 动态代理机制分析及扩展</a></li>
       <li><a href="http://developer.51cto.com/art/201509/491123.htm" title="Java集合框架综述">Java集合框架综述</a></li>
       <li><a href="http://developer.51cto.com/art/201509/491119.htm" title="Java集合框架之 Java HashMap 源码解析">Java集合框架之 Java HashMap 源码解析</a></li> 
      </ul> 
      <div class="fr"> 
       <div class="h5 f12">
        <a href="http://developer.51cto.com/art/201104/258857.htm" title="走进Java框架SimpleFramework开发"><b>走进Java框架SimpleFramework开发</b></a>
       </div> 
       <a href="http://developer.51cto.com/art/201104/258857.htm" title="走进Java框架SimpleFramework开发"><img src="http://images.51cto.com/files/uploadimg/20110429/161321400.jpg" alt="走进Java框架SimpleFramework开发" width="100" height="80" border="0" /></a> 
       <p class="c666">51CTO开发频道专访Simpleframework框架团队核心成员陈侃先生，向<a class="blue" href="http://developer.51cto.com/art/201104/258857.htm" title="走进Java框架SimpleFramework开发">[详细]</a></p> 
      </div> 
     </div> 
     <!--reltag end--> 
    </div> 
    <p class="blank10"></p> 
    <div class="bor" style="width:633px;height:90px;"> 
     <script type="text/javascript">
    /*633*90 创建于 2015-11-05文章页广告（评论下方）*/
    var cpro_id = "u2386935";
</script> 
     <script src="http://cpro.baidustatic.com/cpro/ui/c.js" type="text/javascript"></script> 
    </div> 
    <!--box end--> 
    <p class="blank10"></p> 
    <div class="relart fl bor"> 
     <div class="titbg"> 
      <h3 class="fl t1">栏目热门</h3> 
      <a href="/click/1004" class="tmore">更多&gt;&gt;</a>
     </div> 
     <ul> 
      <li><a href="http://developer.51cto.com/art/201411/457423.htm" title="5个强大的Java分布式缓存框架推荐">5个强大的Java分布式缓存框架推荐</a></li> 
      <li><a href="http://developer.51cto.com/art/201504/474501.htm" title="你知道如何写一个框架吗？详细步骤放送">你知道如何写一个框架吗？详细步骤放送</a></li> 
      <li><a href="http://developer.51cto.com/art/201511/497611.htm" title="关于Java应用相关不同产品的架构">关于Java应用相关不同产品的架构</a></li> 
      <li><a href="http://developer.51cto.com/art/201505/475334.htm" title="java框架篇---spring aop两种配置方式">java框架篇---spring aop两种配置方式</a></li> 
      <li><a href="http://developer.51cto.com/art/201507/485396.htm" title="Java Mybatis 框架入门教程">Java Mybatis 框架入门教程</a></li> 
     </ul> 
    </div> 
    <div class="cathot fr bor"> 
     <div class="titbg"> 
      <h3 class="fl t1">同期最新</h3> 
      <a href="/col/1004" class="tmore">更多&gt;&gt;</a>
     </div> 
     <ul> 
      <li><a href="http://developer.51cto.com/art/201006/205055.htm" title="Java持久化框架 DataNucleus 2.1发布">Java持久化框架 DataNucleus 2.1发布</a></li> 
      <li><a href="http://developer.51cto.com/art/201005/201877.htm" title="基于角色模型的 Java 开发">基于角色模型的 Java 开发</a></li> 
      <li><a href="http://developer.51cto.com/art/201005/199639.htm" title="使用JBoss jBPM实现流程访问和执行的授权">使用JBoss jBPM实现流程访问和执行的授权</a></li> 
      <li><a href="http://developer.51cto.com/art/201004/195352.htm" title="开发最佳实践：在Web应用开发中优化Struts框架">开发最佳实践：在Web应用开发中优化Struts</a></li> 
      <li><a href="http://developer.51cto.com/art/201004/195051.htm" title="Hibernate框架中直接操作JDBC接口实例">Hibernate框架中直接操作JDBC接口实例</a></li> 
     </ul> 
    </div> 
    <p class="blank10"></p> 
    <div class="bor"> 
     <div class="titbg"> 
      <h3 class="fl t1"><a href="http://developer.51cto.com">开发</a></h3> 
      <span class="pl10">频道导航</span>
     </div> 
     <ul class="xtlist"> 
      <li><span class="tit">Java</span> 
       <div>
        <a href="http://developer.51cto.com/java/">Java开发</a>|
        <a href="http://developer.51cto.com/col/1005/">Java基础</a>|
        <a href="http://developer.51cto.com/col/1014/">Java EE开发</a>|
        <a href="http://developer.51cto.com/col/1004/">Java框架</a>|
        <a href="http://developer.51cto.com/col/1007/">设计模式</a>
       </div> </li> 
      <li><span class="tit">WEB开发</span> 
       <div>
        <a href="http://developer.51cto.com/col/1441/">PHP开发</a>|
        <a href="http://developer.51cto.com/col/1455/">Python</a>|
        <a href="http://developer.51cto.com/col/1552/">Ruby</a>|
        <a href="http://developer.51cto.com/col/1552/">JSP</a>|
        <a href="http://developer.51cto.com/art/200907/133407.htm">HTML 5</a>|
        <a href="http://developer.51cto.com/col/1450/">DIV+CSS</a>
       </div> </li> 
      <li class="last"><span class="tit">综合</span> 
       <div>
        <a href="http://developer.51cto.com/net/">.NET开发</a>|
        <a href="http://developer.51cto.com/embed/">嵌入式开发</a>|
        <a href="http://developer.51cto.com/col/586/">项目管理</a>|
        <a href="http://developer.51cto.com/col/1308/">架构设计</a>
       </div> </li> 
     </ul> 
    </div> 
    <p class="blank10"></p> 
    <p class="blank10"></p> 
    <div class="leftbotcon"> 
     <div class="bor jdlist"> 
      <div class="titbg"> 
       <h3 class="t2">热点推荐</h3>
      </div> 
      <ul> 
       <li><a onclick="javascript: _gaq.push(['_trackPageview', '/51cto/neirong/d-t-4']);" href="http://mobile.51cto.com/mobile-182392.htm"><img src="http://images.51cto.com/files/uploadimg/20100202/153546162.jpg" /></a> 
        <div class="name">
         <a onclick="javascript: _gaq.push(['_trackPageview', '/51cto/neirong/d-t-4']);" href="http://mobile.51cto.com/mobile-182392.htm">Android开发应用详解</a>
        </div></li> 
       <li><a onclick="javascript: _gaq.push(['_trackPageview', '/51cto/neirong/d-t-4']);" href="http://developer.51cto.com/art/201106/266369.htm"><img src="http://images.51cto.com/files/uploadimg/20110608/133620622.jpg" /></a> 
        <div class="name">
         <a onclick="javascript: _gaq.push(['_trackPageview', '/51cto/neirong/d-t-4']);" href="http://developer.51cto.com/art/201106/266369.htm">那些性感的让人尖叫的程序员</a>
        </div></li> 
       <li><a href="http://developer.51cto.com/art/200907/133407.htm"><img src="http://images.51cto.com/files/uploadimg/20090702/134217922.jpg" /></a> 
        <div class="name">
         <a href="http://developer.51cto.com/art/200907/133407.htm">HTML5 下一代Web开发标准详解</a>
        </div></li> 
       <li><a href="http://developer.51cto.com/art/201104/257581.htm"><img src="http://images.51cto.com/files/uploadimg/20110426/123123954.jpg" /></a> 
        <div class="name">
         <a href="http://developer.51cto.com/art/201104/257581.htm">高性能WEB开发应用指南</a>
        </div></li> 
       <li><a href="http://os.51cto.com/art/200706/49181.htm"><img src="http://images.51cto.com/files/uploadimg/20070613/195816929.jpg" /></a> 
        <div class="name">
         <a href="http://os.51cto.com/art/200706/49181.htm">Ubuntu开源技术交流频道</a>
        </div></li>
      </ul>
     </div> 
     <p class="blank10"></p> 
     <div class="bor hotTag">
      <strong>热门标签：</strong> 
      <a onclick="javascript: _gaq.push(['_trackPageview', '/51cto/neirong/d-2]);" href="http://os.51cto.com/windows/">windows频道</a>
      <a onclick="javascript: _gaq.push(['_trackPageview', '/51cto/neirong/d-w']);" href="http://mobile.51cto.com/">移动开发</a>
      <a onclick="javascript: _gaq.push(['_trackPageview', '/51cto/neirong/d-w']);" href="http://cloud.51cto.com/">云计算</a>
      <a onclick="javascript: _gaq.push(['_trackPageview', '/51cto/neirong/d-w']);" href="http://mobile.51cto.com/mobile/objc/">objective-c</a>
      <a onclick="javascript: _gaq.push(['_trackPageview', '/51cto/neirong/d-w']);" href="http://network.51cto.com/art/200909/151122.htm">tp-link路由器设置图解</a>
      <a onclick="javascript: _gaq.push(['_trackPageview', '/51cto/neirong/d-w']);" href="http://developer.51cto.com/art/200907/133407.htm">html5</a> 
     </div>
    </div> 
    <div class="leftbotbox"> 
    </div> 
   </div> 
   <!--left end--> 
   <div class="g_13 fr"> 
    <div class="focus fixfloat"> 
     <img width="298" style="border: 1px solid #CCCCCC; margin:5px 0px 5px;" src="http://www.51cto.com/images/weixin.jpg" />
     <div class="hot"> 
      <ul> 
       <li class="tit"><em>头条</em> <a href="http://mdsa.51cto.com/art/201703/535605.htm">【有奖讨论】挨踢部落话题交流活动</a> </li> 
       <li class="con">
        <dl>
         <dt>
          <a href="http://mdsa.51cto.com/art/201703/535605.htm"><img border="0" src="http://s3.51cto.com/wyfs02/M00/8C/32/wKiom1hkw27y9CC8AABuG3EQ9YE821.jpg" /></a>
         </dt> 
         <dd>
          随着云计算、物联网、大数据、移动互联网的大发展，你应该知道这些。
         </dd> 
        </dl></li>
      </ul>
      <ol class="hotlist">
       <li><a href="http://bigdata.51cto.com/art/201703/535196.htm">没有征信记录的人如何能享受金融服务？</a></li>
       <li><a href="http://mobile.51cto.com/iphone-535106.htm">iOS与Android设备到底是如何被入侵的？</a></li>
      </ol>
     </div> 
     <p> <script language="JavaScript" src="http://www.51cto.com/ad/art/hzh/ad.js" type="text/javascript"></script> </p> 
    </div> 
    <div class="bor vlist" style="width:305px;height:250px;padding-left:5px;"> 
     <script type="text/javascript">
    /*300*250 创建于 2015-12-16文章页右侧视频课程上方*/
    var cpro_id = "u2452179";
</script> 
     <script src="http://cpro.baidustatic.com/cpro/ui/c.js" type="text/javascript"></script> 
    </div> 
    <div class="bor vlist" id="edu"> 
     <div class="titbg"> 
      <h3 class="fl t1"><a href="http://edu.51cto.com/" target="_blank">视频课程</a></h3> 
      <a class="tmore" id="change" style="cursor:pointer">换一换</a> 
     </div> 
     <ul class="plist01" id="edu1">
      <li><a class="ico" href="http://edu.51cto.com/course/course_id-5327.html" target="_blank"></a><a href="http://edu.51cto.com/course/course_id-5327.html" target="_blank"><img title="水云南间-GNS3模拟器的安装和使用视频课程（0.8.6版本）" alt="水云南间-GNS3模拟器的安装和使用视频课程（0.8.6版本）" src="http://i1.51cto.com/images/201602/23166b992b3c85d2ade79199b5e6ccd70fb686.jpg" height="80" width="100" /></a><h5><a title="水云南间-GNS3模拟器的安装和使用视频课程（0.8.6版本）" href="http://edu.51cto.com/course/course_id-5327.html" target="_blank">水云南间-GNS3模拟器的安装和使用视频课程（0</a></h5>
       <div class="c666">
        <p>讲师：<a href="http://edu.51cto.com/lecturer/user_id-10752474.html" target="_blank">赵泽朴</a></p>
        <p> 39人学习过</p>
       </div></li>
      <li><a class="ico" href="http://edu.51cto.com/course/course_id-5326.html" target="_blank"></a><a href="http://edu.51cto.com/course/course_id-5326.html" target="_blank"><img title="2016软考信息系统监理师-下午案例分析视频培训视频课程" alt="2016软考信息系统监理师-下午案例分析视频培训视频课程" src="http://i1.51cto.com/images/201602/b21879379f3f8c8817a1542398b2252c847dac.jpg" height="80" width="100" /></a><h5><a title="2016软考信息系统监理师-下午案例分析视频培训视频课程" href="http://edu.51cto.com/course/course_id-5326.html" target="_blank">2016软考信息系统监理师-下午案例分析视频培</a></h5>
       <div class="c666">
        <p>讲师：<a href="http://edu.51cto.com/lecturer/user_id-8371666.html" target="_blank">小任老师</a></p>
        <p> 7人学习过</p>
       </div></li>
      <li><a class="ico" href="http://edu.51cto.com/course/course_id-5325.html" target="_blank"></a><a href="http://edu.51cto.com/course/course_id-5325.html" target="_blank"><img title="R语言入门基础实战培训视频课程" alt="R语言入门基础实战培训视频课程" src="http://i1.51cto.com/images/201602/93707820509b779c80b2743cc281463acc9733.jpg" height="80" width="100" /></a><h5><a title="R语言入门基础实战培训视频课程" href="http://edu.51cto.com/course/course_id-5325.html" target="_blank">R语言入门基础实战培训视频课程</a></h5>
       <div class="c666">
        <p>讲师：<a href="http://edu.51cto.com/lecturer/user_id-4431501.html" target="_blank">谢佳标</a></p>
        <p> 55人学习过</p>
       </div></li>
     </ul>
     <ul class="plist01" id="edu2" style="display:none">
      <li><a class="ico" href="http://edu.51cto.com/course/course_id-5324.html" target="_blank"></a><a href="http://edu.51cto.com/course/course_id-5324.html" target="_blank"><img title="JAVA企业级应用TOMCAT实战视频课程" alt="JAVA企业级应用TOMCAT实战视频课程" src="http://i1.51cto.com/images/201601/b4be314370515c8197b94428b0d6fb1e1dec92.jpg" height="80" width="100" /></a><h5><a title="JAVA企业级应用TOMCAT实战视频课程" href="http://edu.51cto.com/course/course_id-5324.html" target="_blank">JAVA企业级应用TOMCAT实战视频课程</a></h5>
       <div class="c666">
        <p>讲师：<a href="http://edu.51cto.com/lecturer/user_id-7550586.html" target="_blank">张耀</a></p>
        <p> 20人学习过</p>
       </div></li>
      <li><a class="ico" href="http://edu.51cto.com/course/course_id-5323.html" target="_blank"></a><a href="http://edu.51cto.com/course/course_id-5323.html" target="_blank"><img title="结合MPLS_VPN所有部署模式实战讲解视频课程" alt="结合MPLS_VPN所有部署模式实战讲解视频课程" src="http://i1.51cto.com/images/201602/0863486141c7973e9dc5319996c5c6e001d315.png" height="80" width="100" /></a><h5><a title="结合MPLS_VPN所有部署模式实战讲解视频课程" href="http://edu.51cto.com/course/course_id-5323.html" target="_blank">结合MPLS_VPN所有部署模式实战讲解视频课程</a></h5>
       <div class="c666">
        <p>讲师：<a href="http://edu.51cto.com/lecturer/user_id-1838229.html" target="_blank">丁忠延</a></p>
        <p> 73人学习过</p>
       </div></li>
      <li><a class="ico" href="http://edu.51cto.com/course/course_id-5321.html" target="_blank"></a><a href="http://edu.51cto.com/course/course_id-5321.html" target="_blank"><img title="识别各种安全设备及当今体现形态-区别UTM与NGFW视频课程" alt="识别各种安全设备及当今体现形态-区别UTM与NGFW视频课程" src="http://i1.51cto.com/images/201601/d1e7eba05f492bb862a028818f84a145335ef3.jpg" height="80" width="100" /></a><h5><a title="识别各种安全设备及当今体现形态-区别UTM与NGFW视频课程" href="http://edu.51cto.com/course/course_id-5321.html" target="_blank">识别各种安全设备及当今体现形态-区别UTM与NG</a></h5>
       <div class="c666">
        <p>讲师：<a href="http://edu.51cto.com/lecturer/user_id-7648423.html" target="_blank">谌玺</a></p>
        <p> 61人学习过</p>
       </div></li>
     </ul>
     <ul class="plist01" id="edu3" style="display:none">
      <li><a class="ico" href="http://edu.51cto.com/course/course_id-5319.html" target="_blank"></a><a href="http://edu.51cto.com/course/course_id-5319.html" target="_blank"><img title="小白时代：WEB技术实战视频课程（设计攻略）" alt="小白时代：WEB技术实战视频课程（设计攻略）" src="http://i1.51cto.com/images/201601/314e27475bffcdff91760252d3431cb6bd9827.jpg" height="80" width="100" /></a><h5><a title="小白时代：WEB技术实战视频课程（设计攻略）" href="http://edu.51cto.com/course/course_id-5319.html" target="_blank">小白时代：WEB技术实战视频课程（设计攻略）</a></h5>
       <div class="c666">
        <p>讲师：<a href="http://edu.51cto.com/lecturer/user_id-9946005.html" target="_blank">赵甲迪</a></p>
        <p> 41人学习过</p>
       </div></li>
      <li><a class="ico" href="http://edu.51cto.com/course/course_id-5317.html" target="_blank"></a><a href="http://edu.51cto.com/course/course_id-5317.html" target="_blank"><img title="2.17.从三星官方内核开始移植-uboot与系统移植第17部分视频课程" alt="2.17.从三星官方内核开始移植-uboot与系统移植第17部分视频课程" src="http://i1.51cto.com/images/201601/687b08272e145457ba35334e04f5da3068afed.jpg" height="80" width="100" /></a><h5><a title="2.17.从三星官方内核开始移植-uboot与系统移植第17部分视频课程" href="http://edu.51cto.com/course/course_id-5317.html" target="_blank">2.17.从三星官方内核开始移植-uboot与系统移</a></h5>
       <div class="c666">
        <p>讲师：<a href="http://edu.51cto.com/lecturer/user_id-9584512.html" target="_blank">朱有鹏</a></p>
        <p> 48人学习过</p>
       </div></li>
     </ul> 
    </div> 
    <div class="rank"> 
     <div class="tlt"> 
      <h3>文章排行</h3> 
      <a onmouseover="change_top10(3);" id="top_3">本月</a>
      <a onmouseover="change_top10(2);" id="top_2">本周</a>
      <a onmouseover="change_top10(1);" class="myon" id="top_1">24小时</a> 
     </div> 
     <div id="top10_1" style="display: block;" class="list">
      <ul> 
       <li><a href="http://developer.51cto.com/art/201607/514778.htm" target="_blank" title="为什么这么多技术专家为WOT2016移动互">为什么这么多技术专家为WOT2016移动互</a> </li>
       <li><a href="http://developer.51cto.com/art/201607/514009.htm" target="_blank" title="高能预警！各路大神正火速奔赴8月WOT20">高能预警！各路大神正火速奔赴8月WOT20</a> </li>
       <li><a href="http://developer.51cto.com/art/201604/509622.htm" target="_blank" title="阿里肖冰：如何实现分钟级别的HBase宕">阿里肖冰：如何实现分钟级别的HBase宕</a> </li>
       <li><a href="http://developer.51cto.com/art/201411/457423.htm" target="_blank" title="5个强大的Java分布式缓存框架推荐">5个强大的Java分布式缓存框架推荐</a> </li>
       <li><a href="http://developer.51cto.com/art/201203/321042.htm" target="_blank" title="Java中Runnable和Thread的区别">Java中Runnable和Thread的区别</a> </li>
       <li><a href="http://developer.51cto.com/art/201601/503403.htm" target="_blank" title="HTML5游戏开发5条建议及开发工具分享">HTML5游戏开发5条建议及开发工具分享</a> </li>
       <li><a href="http://developer.51cto.com/art/201604/509961.htm" target="_blank" title="圣剑游戏CEO袁健博：VR游戏与传统游戏">圣剑游戏CEO袁健博：VR游戏与传统游戏</a> </li>
       <li><a href="http://developer.51cto.com/art/201403/433999.htm" target="_blank" title="C#开发微信公众平台-就这么简单(附Demo">C#开发微信公众平台-就这么简单(附Demo</a> </li>
       <li><a href="http://developer.51cto.com/art/201607/514514.htm" target="_blank" title="2016年那些永远离我们而去的技术产品">2016年那些永远离我们而去的技术产品</a> </li>
       <li><a href="http://developer.51cto.com/art/201006/205212.htm" target="_blank" title="多图详解Spring框架的设计理念与设计模">多图详解Spring框架的设计理念与设计模</a> </li>
      </ul>
     </div> 
     <div id="top10_2" style="display: none;" class="list">
      <ul> 
       <li><a href="http://developer.51cto.com/art/201607/515086.htm" target="_blank" title="IEEE Spectrum公布编程语言最新排行：">IEEE Spectrum公布编程语言最新排行：</a> </li>
       <li><a href="http://developer.51cto.com/art/201607/514981.htm" target="_blank" title="出版商统计出最受欢迎的编程语言：Pyth">出版商统计出最受欢迎的编程语言：Pyth</a> </li>
       <li><a href="http://developer.51cto.com/art/201607/515070.htm" target="_blank" title="使用 Python 创建你自己的 Shell （上">使用 Python 创建你自己的 Shell （上</a> </li>
       <li><a href="http://developer.51cto.com/art/201607/514988.htm" target="_blank" title="菜鸟才需要GUI：Linux终端生存指南">菜鸟才需要GUI：Linux终端生存指南</a> </li>
       <li><a href="http://developer.51cto.com/art/201607/514983.htm" target="_blank" title="浅谈程序员的英语学习">浅谈程序员的英语学习</a> </li>
       <li><a href="http://developer.51cto.com/art/201607/514976.htm" target="_blank" title="R与TypeScript在RedMonk语言人气榜上迎">R与TypeScript在RedMonk语言人气榜上迎</a> </li>
       <li><a href="http://developer.51cto.com/art/201607/514959.htm" target="_blank" title="作为一个新手程序员该如何成长？">作为一个新手程序员该如何成长？</a> </li>
       <li><a href="http://developer.51cto.com/art/201608/515436.htm" target="_blank" title="ES6新式集合类解析DDMap、Set、WeakM">ES6新式集合类解析DDMap、Set、WeakM</a> </li>
       <li><a href="http://developer.51cto.com/art/201607/515100.htm" target="_blank" title="甲骨文设下的Java EE困局：我们要细节">甲骨文设下的Java EE困局：我们要细节</a> </li>
       <li><a href="http://developer.51cto.com/art/201608/515449.htm" target="_blank" title="微软向其它JavaScript引擎开放Node.js">微软向其它JavaScript引擎开放Node.js</a> </li>
      </ul>
     </div> 
     <div id="top10_3" style="display: none;" class="list">
      <ul> 
       <li><a href="http://developer.51cto.com/art/201607/514778.htm" target="_blank" title="为什么这么多技术专家为WOT2016移动互">为什么这么多技术专家为WOT2016移动互</a> </li>
       <li><a href="http://developer.51cto.com/art/201607/514009.htm" target="_blank" title="高能预警！各路大神正火速奔赴8月WOT20">高能预警！各路大神正火速奔赴8月WOT20</a> </li>
       <li><a href="http://developer.51cto.com/art/201607/514514.htm" target="_blank" title="2016年那些永远离我们而去的技术产品">2016年那些永远离我们而去的技术产品</a> </li>
       <li><a href="http://developer.51cto.com/art/201607/514464.htm" target="_blank" title="颠覆多因素验证技术的五大发展趋势">颠覆多因素验证技术的五大发展趋势</a> </li>
       <li><a href="http://developer.51cto.com/art/201607/514491.htm" target="_blank" title="达沃时代阳立堂：超融合的未来不只是改">达沃时代阳立堂：超融合的未来不只是改</a> </li>
       <li><a href="http://developer.51cto.com/art/201607/514383.htm" target="_blank" title="汇聚创新 共创未来---记2016华为开发者">汇聚创新 共创未来---记2016华为开发者</a> </li>
       <li><a href="http://developer.51cto.com/art/201607/514510.htm" target="_blank" title="无服务器计算的真正含义究竟是什么？">无服务器计算的真正含义究竟是什么？</a> </li>
       <li><a href="http://developer.51cto.com/art/201607/514790.htm" target="_blank" title="基于Angular 2 CLI开发CRUD应用程序">基于Angular 2 CLI开发CRUD应用程序</a> </li>
       <li><a href="http://developer.51cto.com/art/201607/515086.htm" target="_blank" title="IEEE Spectrum公布编程语言最新排行：">IEEE Spectrum公布编程语言最新排行：</a> </li>
       <li><a href="http://developer.51cto.com/art/201607/513999.htm" target="_blank" title="十款最佳免费Web设计软件一览">十款最佳免费Web设计软件一览</a> </li>
      </ul>
     </div> 
    </div> 
    <p class="blank1"></p> 
    <div class="bor vlist" style="width:305px;height:250px;padding-left:5px;"> 
     <script type="text/javascript">
    /*300*250 创建于 2015-12-16文章页右侧热点职位上方*/
    var cpro_id = "u2452183";
</script> 
     <script src="http://cpro.baidustatic.com/cpro/ui/c.js" type="text/javascript"></script> 
    </div> 
    <div class="bor"> 
     <div class="titbg"> 
      <h3 class="fl t1">热点职位</h3> 
      <a href="http://gaozhao.51cto.com/job-search/list" class="tmore">更多&gt;&gt;</a>
     </div> 
     <div class="rmzwn_xx"></div> 
    </div> 
    <div class="blank10"></div> 
    <script src="http://www.51cto.com/images/home_2015/js/51cto_sha1.js"></script> 
    <div class="bor"> 
     <div class="titbg"> 
      <h3 class="fl t1">热点专题</h3> 
      <a href="http://developer.51cto.com/speclist/1004" class="tmore">更多&gt;&gt;</a>
     </div> 
     <ul class="plist01"> 
      <li><a href="http://developer.51cto.com/art/201312/424464.htm" title="10大怪异的编程语言 像老大一样调试Python"><img src="http://s9.51cto.com/wyfs01/M01/44/50/wKioOVKz1cqiBVihAAAWafFAZcE320.jpg" alt="10大怪异的编程语言 像老大一样调试Python" width="100" height="80" /></a> <h5><a href="http://developer.51cto.com/art/201312/424464.htm" title="10大怪异的编程语言 像老大一样调试Python">10大怪异的编程语言 </a></h5> 
       <div class="c666">
        一周一周的过的很快，2013年已经进入了倒计时。开发频
       </div> </li>
      <li><a href="http://developer.51cto.com/art/201312/422959.htm" title="轻量级脚本语言Lua学习指南"><img src="http://s1.51cto.com/wyfs01/M00/44/20/wKioOVKubQPC5kGqAAAQ-gc3itE602.jpg" alt="轻量级脚本语言Lua学习指南" width="100" height="80" /></a> <h5><a href="http://developer.51cto.com/art/201312/422959.htm" title="轻量级脚本语言Lua学习指南">轻量级脚本语言Lua学</a></h5> 
       <div class="c666">
        在脚本语言领域，Lua是最快、最高效的脚本语言之一，
       </div> </li>
      <li><a href="http://developer.51cto.com/art/201312/422709.htm" title="技术菜鸟聘到大牛工程师？技术晋升的误区"><img src="http://s4.51cto.com/wyfs01/M02/3D/3B/wKioOVKqpGjw7EZ-AAAWfSbDsnk011.jpg" alt="技术菜鸟聘到大牛工程师？技术晋升的误区" width="100" height="80" /></a> <h5><a href="http://developer.51cto.com/art/201312/422709.htm" title="技术菜鸟聘到大牛工程师？技术晋升的误区">技术菜鸟聘到大牛工程</a></h5> 
       <div class="c666">
        2014年节假放假安于这周出台，80%的公民对此次的放假
       </div> </li> 
     </ul> 
    </div> 
    <p class="blank10"></p> 
    <div class="tagCloud"> 
     <div class="tlt"> 
      <h3>热点标签</h3> 
     </div> 
     <div class="taglist">
      <a title="编程语言排行榜" href="http://developer.51cto.com/art/200911/165281.htm">编程语言排行榜</a> 
      <a title="敏捷开发" href="http://developer.51cto.com/art/200803/68222.htm">敏捷开发</a> 
      <a title="Eclipse" href="http://developer.51cto.com/art/201006/207407.htm">Eclipse 3.6</a> 
      <a title="PHP设计模式" href="http://developer.51cto.com/art/201004/195765.htm">PHP设计模式</a> 
      <a title="NetBeans7" href="http://developer.51cto.com/art/201105/259431.htm">NetBeans 7</a> 
      <a title="Java7" href="http://developer.51cto.com/art/201001/175830.htm">Java7</a> 
      <a title="Scala编程语言" href="http://developer.51cto.com/art/200906/127830.htm">Scala编程语言</a> 
      <a title="Python编程世界" href="http://developer.51cto.com/art/201011/234347.htm">Python编程世界</a> 
      <a title="Ruby" on="" rails开发="" href="http://developer.51cto.com/art/201007/215101.htm">Ruby On Rails开发</a> 
      <a class="imp" title="LINQ" href="http://developer.51cto.com/art/200911/165090.htm">LINQ</a> 
      <a title="ASP.NET视频教程" href="http://developer.51cto.com/art/200904/120314.htm">ASP.NET视频教程</a> 
      <a title="Visual Studio" href="http://developer.51cto.com/art/201004/194262.htm">Visual Studio</a> 
      <a title="智能手机" href="http://p.linkphone.cn/">智能手机</a> 
      <a title="软件下载" href="http://download.linkphone.cn/">软件下载</a>
     </div> 
    </div> 
    <div class="rss"> 
     <ul> 
      <li class="lin f12-c"><a href="http://news.51cto.com/col/1323/"><strong>点击这里查看样刊</strong></a></li> 
      <li> 
       <dl> 
        <dt> 
        </dt> 
        <dd>
         <a href="http://home.51cto.com/index.php?s=/Subscribe"><img src="http://images.51cto.com/images/art0910/images/dingy.gif" /></a>
        </dd> 
       </dl> </li> 
     </ul> 
    </div> 
    <div class="bor"> 
     <div class="titbg"> 
      <h3 class="t1">全站热点</h3> 
     </div> 
     <div class="webhot fixfloat"> 
      <ul> 
       <li> <a href="http://netsecurity.51cto.com/art/201511/496744.htm" title="血拼双11 莫要购来商品丢了信息"><img src="http://s5.51cto.com/wyfs02/M01/75/CE/wKiom1ZC6IiCR3XzAAAdglH2V6w162.jpg" /></a> 
        <div>
         <a href="http://netsecurity.51cto.com/art/201511/496744.htm" title="血拼双11 莫要购来商品丢了信息">血拼双11 莫要购来商品丢了信息</a>
        </div> </li> 
       <li> <a href="http://cloud.51cto.com/art/201511/496798.htm" title="11.11告白战：京东给你三大保障"><img src="http://s4.51cto.com/wyfs02/M00/75/CA/wKiom1ZCtubReWyXAAB4TfyxDlk893.jpg" /></a> 
        <div>
         <a href="http://cloud.51cto.com/art/201511/496798.htm" title="11.11告白战：京东给你三大保障">11.11告白战：京东给你三大保障</a>
        </div> </li> 
      </ul> 
     </div> 
     <p class="blank1"></p> 
     <ul class="list03"> 
      <li><a href="http://os.51cto.com/art/201601/504730.htm" title="如何在Ubuntu/Fedora/Debian中安装开源Web应用GitLab">如何在Ubuntu/Fedora/Debian中安装开</a></li> 
      <li><a href="http://cloud.51cto.com/art/201601/504729.htm" title="2015年：混合云是云舞台焦点">2015年：混合云是云舞台焦点</a></li> 
      <li><a href="http://developer.51cto.com/art/201601/504722.htm" title="2分钟读懂Hadoop和Spark的异同">2分钟读懂Hadoop和Spark的异同</a></li> 
      <li><a href="http://mdsa.51cto.com/art/201601/504716.htm" title="顺势而为，HTML发展与UI组件设计进化">顺势而为，HTML发展与UI组件设计进化</a></li> 
      <li><a href="http://mobile.51cto.com/comment-504714.htm" title="三星动真格了！宣布在美国成立VR内容工作室">三星动真格了！宣布在美国成立VR内容</a></li> 
     </ul> 
    </div> 
    <p class="blank10"></p> 
    <div class="bor"> 
     <div class="titbg"> 
      <h3 class="t1">读书</h3> 
     </div> 
     <div class="catbook">
      <a href="http://book.51cto.com/art/200707/51818.htm" title="Windows编程启示录"><img src="http://images.51cto.com/files/uploadimg/20070808/103534405.gif" width="66" height="98" border="0" /></a> 
      <h5><a href="http://book.51cto.com/art/200707/51818.htm">Windows编程启示录</a></h5> 
      <div class="c666 text">
       主要内容： ● 如何设计像自动售货机那样有效的用户界面。 ● 深入理解窗口和对话框的管理机制。 ● 为什么性能优化与我们在
      </div> 
     </div> 
     <ul class="list03"> 
      <li><a href="http://book.51cto.com/art/200704/45839.htm" title="精通SOA：基于服务总线的Struts+EJB+Web Service整合应用开发">精通SOA：基于服务总线的Struts+EJB+Web Service</a></li> 
      <li><a href="http://book.51cto.com/art/200704/45842.htm" title="敏捷Acegi、CAS：构建安全的Java系统">敏捷Acegi、CAS：构建安全的Java系统</a></li> 
      <li><a href="http://book.51cto.com/art/200704/45845.htm" title="实时UML与Rational Rose RealTime建模案例剖析">实时UML与Rational Rose RealTime建模案例剖析</a></li> 
      <li><a href="http://book.51cto.com/art/200704/45926.htm" title="2006软考上半年试题分析与解答">2006软考上半年试题分析与解答</a></li> 
     </ul> 
    </div> 
    <p class="blank10"></p> 
    <div class="bor"> 
     <div class="titbg"> 
      <h3 class="t1 fl">博文推荐</h3> 
      <a class="tmore" href="http://blog.51cto.com/">更多&gt;&gt;</a>
     </div> 
     <ul class="list03"> 
      <li><a href="http://zhangjiayang.blog.51cto.com/197218/95093/" target="_blank" title="股神巴非特想买的A股">股神巴非特想买的A股</a></li>
      <li><a href="http://chensky.blog.51cto.com/177526/95088/" target="_blank" title="利用ISA Server 2004发布Exchange服务器(续)案例分析">利用ISA Server 2004发布Exchange服</a></li>
      <li><a href="http://davidlv.blog.51cto.com/434193/95059/" target="_blank" title="文档知多少---走出软件作坊：三五个人十来条枪 如何成为开发正规军（二十五）">文档知多少---走出软件作坊：三五个</a></li>
      <li><a href="http://davidlv.blog.51cto.com/434193/95052/" target="_blank" title="代码那些事儿---走出软件作坊：三五个人十来条枪 如何成为开发正规军（二十八）">代码那些事儿---走出软件作坊：三五</a></li> 
     </ul> 
    </div> 
    <p class="blank10"></p> 
    <div class="tj"> 
     <div class="tlt"> 
      <h3>最新热帖</h3> 
      <a class="more" href="http://bbs.51cto.com/hotthreads.php">更多&gt;&gt;</a>
     </div> 
     <ul> 
     </ul> 
    </div> 
    <div class="picAD"> 
     <iframe class="bann" frameborder="0" src="http://www.51cto.com/iframe/article/baidu.htm" scrolling="no" style=" background-color:#DBDBDB; height:250px; width:300px; padding:0px;margin:0px;overflow:hidden;"></iframe> 
    </div> 
   </div> 
   <p class="blank1"></p> 
   <!--leftbotcon end--> 
  </div> 
  <div class="subweb"> 
   <h4>51CTO旗下网站</h4> 
   <div> 
    <a target="_blank" href="http://www.51cto.com/">领先的IT技术网站 51CTO</a> 
    <a target="_blank" href="http://www.watchstor.com/">领先的中文存储媒体 WatchStor</a> 
    <a target="_blank" href="http://cio.51cto.com/">中国首个CIO网站 CIOage</a> 
    <a target="_blank" href="http://www.hc3i.cn/">中国首家数字医疗网站 HC3i</a> 
   </div> 
  </div> 
  <div id="ft">
   <div id="foot" align="center">
    <script src="http://images.51cto.com/images/copy_right/copy_right.js"></script>
   </div>
  </div> 
  <script src="http://logs.51cto.com/rizhi/count/count.js"></script> 
  <script type="text/javascript">
	$("#uyan_cmt_list").next().remove();	
	$("#uyan_cmt_list").next().css("display","none");	
</script> 
  <!-- 悬浮广告 --> 
  <!--<style type="text/css">--> 
  <!--.ipadFload{display:none;}--> 
  <!--.ipadFloada{ position:fixed; width:280px; height:210px; font-family:"微软雅黑"; padding-left:18px;right: 20px; bottom: 240px;  }--> 
  <!--.ipadClosea{ text-align:right; font-size:14px; line-height:20px;cursor:pointer;}--> 
  <!--</style>--> 
  <!--<div class="ipadFloada" id="ipadFloada" style="z-index:9999;">--> 
  <!--<div onclick="document.getElementById('ipadFloada').style.display='none';" class="ipadClosea"><img src="http://s3.51cto.com/wyfs02/M02/85/21/wKiom1eaubuSesqTAAAB9Jb8kBA734.gif"></div>--> 
  <!--<div class="ipadImg">--> 
  <!--<a href="http://x.51cto.com?sytc" target="_blank"><img width="280px" height="210px" src="http://s4.51cto.com/wyfs02/M00/8D/9C/wKioL1ij756hibWaAAFNKBkaLKk823.jpg"></a></div>--> 
  <!--</div>--> 
  <!--end--> 
  <style>
.Nfloat { position: fixed; right: 2%; top: 35%; z-index: 801; }
</style> 
  <!-- 新监测代码 --> 
  <!-- 新监测代码 --> 
  <div id="MyMoveAd" style="display:none"> 
   <span id="wordlink_1"><script src="http://www.51cto.com/ad/art/wordlink/wordlink1.js"></script></span> 
   <span id="wordlink_2"><script src="http://www.51cto.com/ad/art/wordlink/wordlink2.js"></script></span> 
   <span id="wordlink_3"><script src="http://www.51cto.com/ad/art/wordlink/wordlink3.js"></script></span> 
   <span id="wordlink_4"><script src="http://www.51cto.com/ad/art/wordlink/wordlink4.js"></script></span> 
   <span id="pinglun"><script language="JavaScript" src="http://www.51cto.com/php/getArtCount.php?artid=205212&amp;type=all"></script></span> 
   <span id="tonglan"><script language="JavaScript" src="http://www.51cto.com/ad/art/tonglan/ad.js"></script></span> 
   <span id="wordlink"><script language="JavaScript" src="http://www.51cto.com/ad/art/wordlink/ad.js"></script></span> 
   <script src="http://www.51cto.com/ad/art/wordlink/ad.js"></script> 
   <span id="bookss"><script language="JavaScript" src="http://www.51cto.com/php/getBookData.php?artid="></script></span> 
  </div> 
  <script language="javascript" src="http://www.51cto.com/js/article/favorite.js"></script> 
  <script language="javaScript" src="http://www.51cto.com/php/dialog_utf8.js"></script> 
  <script language="javaScript" src="http://www.51cto.com/mail.js"></script> 
  <script type="text/javascript" src="http://home.51cto.com/apps/favorite/Tpl/default/Public/js/favorbox.js"></script> 
  <script language="javascript" src="http://images.51cto.com/images/art/newart1012/clipboard.js"></script> 
  <script language="javaScript"> 
	var thistid=205212; 
	
	//收藏按钮
	var favor_url = 'http://developer.51cto.com/art/201006/205212.htm';  // 如：http://bbs.51cto.com/thread-789649-1.html
	var favor_title = '多图详解Spring框架的设计理念与设计模式';       //  
	
	//绑定复制按钮
	copy('msnqqcopy', 'http://developer.51cto.com/art/201006/205212.htm', '分享到MSN/QQ的链接复制成功!');
//	copy('bbscopy', '[url=http://developer.51cto.com/art/201006/205212.htm][u]多图详解Spring框架的设计理念与设计模式[/u][/url]', '分享到论坛的UBB代码复制成功!');

</script> 
  <script src=" http://home.51cto.com/index.php?s=/Index/getLoginStatus/reback/http%253A%252F%252Fdeveloper.51cto.com%252Fart%252F201006%252F205212.htm" charset="utf-8"></script> 
  <script src="http://www.51cto.com/php/count.php?view=yes&amp;artID=205212" language="javascript"></script> 
  <script language="javascript">
document.getElementById('books').innerHTML = document.getElementById("bookss").innerHTML; 
</script>   
 </body>
</html>