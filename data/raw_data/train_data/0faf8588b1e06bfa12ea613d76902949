<!DOCTYPE html><html><head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8;">
<title>酒店管理系统-专业的连锁酒店管理系统</title>
<link rel="stylesheet" href="http://ykinns.zhuzher.com/js_compress/skins/default.css?4.1.7"><script type="text/javascript" src="js_compress/vipaa.gzjs?version=2016-11-22"></script>

<style type="text/css">
html, body, div, h1, h2, h3, h4, h5, h6, ul, ol, li, dl, dt, dd, p, blockquote, pre, form, input, textarea, fieldset, table, th, td{margin: 0;padding: 0}
body, button, input, select, textarea{font: 12px/1.6 Tahoma, Verdana, Arial, "\5b8b\4f53"}
body{background: #fff;color: #343434;min-width: 960px}
select{
	width: 220px;
	background-color: #fff;
	border: 1px solid #ccc;
	line-height: 32px;
	display: inline-block;
	height: 32px;
	padding: 5px 6px;
	margin-bottom: 10px;
	font-size: 14px;
	color: #555;
	vertical-align: baseline;
	-webkit-border-radius: 4px;
	-moz-border-radius: 4px;
	border-radius: 4px;
}
ul, ol{list-style: none}
img{border: 0;vertical-align: top}
:focus{outline: 0}
.f-l{float: left}
.f-r{float: right}
.c-b{clear: both}
.clear{clear: both;height: 0;font-size: 0;overflow: hidden}
.clearfix:after{content: "\0020";display: block;height: 0;clear: both;visibility: hidden}
.clearfix{clear: both;zoom: 1}
.v-a-m{vertical-align: middle}
h1{font-size: 18px}
h2{font-size: 16px; font-family:"\5fae\8f6f\96c5\9ed1"}
h3{font-size: 14px; font-family:"\5fae\8f6f\96c5\9ed1"}
h4, h5, h6{font-size: 100%}
.f-w-b{font-weight: bold}
.f-w-n{font-weight: normal}
.black{color: #000}
.red{color: #f00}
.gray{color: #999}
.t-a-l{text-align:left}
.t-a-c{text-align:center}
.t-a-r{text-align:right}
.t-d-u{text-decoration:underline}
.f-s-12{font-size: 12px}
.f-s-14{font-size: 14px}
.i-b{display:inline-block;*display:inline; *zoom:1;}
a{color: #151515;text-decoration: none}
a:hover{color: #20a135}
.grid_6{width: 47.5%;position: relative;margin-left: 1%;margin-right: 1%;}
.grid_7{width: 97.5%;position: relative;margin-left: 1%;margin-right: 1%;}
.special_page>.top {height: 359px;width: 100%;position: absolute;background: #608dbe;background: #366fac;background: -moz-linear-gradient(top,rgba(54,111,172,1) 0,rgba(24,75,130,1) 100%);background: -webkit-gradient(linear,left top,left bottom,color-stop(0%,rgba(54,111,172,1)),color-stop(100%,rgba(24,75,130,1)));background: -webkit-linear-gradient(top,rgba(54,111,172,1) 0,rgba(24,75,130,1) 100%);background: -o-linear-gradient(top,rgba(54,111,172,1) 0,rgba(24,75,130,1) 100%);background: -ms-linear-gradient(top,rgba(54,111,172,1) 0,rgba(24,75,130,1) 100%);background: linear-gradient(top,rgba(54,111,172,1) 0,rgba(24,75,130,1) 100%);filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#366fac',endColorstr='#184b82',GradientType=0);border-bottom: 1px solid #0d3259;box-shadow: 0 2px 5px rgba(17,16,13,0.5);}
.special_page>.top .gradient {position: absolute;width: 100%;top: 360px;height: 270px;background: #e3e3e3;background: -moz-linear-gradient(top,#e3e3e3 0,#fafafa 100%);background: -webkit-gradient(linear,left top,left bottom,color-stop(0%,#e3e3e3),color-stop(100%,#fafafa));background: -webkit-linear-gradient(top,#e3e3e3 0,#fafafa 100%);background: -o-linear-gradient(top,#e3e3e3 0,#fafafa 100%);background: -ms-linear-gradient(top,#e3e3e3 0,#fafafa 100%);background: linear-gradient(top,#e3e3e3 0,#fafafa 100%);filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#e3e3e3',endColorstr='#fafafa',GradientType=0);}
.special_page>.top .white {position: absolute;height: 1px;width: 787px;top: 358px;margin: 0 auto;left: 0;right: 0;background: url(resource/images/white-line.png);z-index: 99;}
.special_page>.top .shadow {z-index: 80;background: url(resource/images/white-line-shadow.png);height: 25px;width: 460px;position: absolute;top: 360px;margin: 0 auto;left: 0;right: 0;z-index: 99;}
.special_page {background-color: #fafafa;}
.special_page h1 {color: #fff;font-size: 30px;font-weight: bold;text-align: center;text-shadow: 0 0 5px rgba(10,50,92,0.75);}
.special_page>.content .background {z-index: 99;position: absolute;top: 0;left: 0;right: 0;margin: 0 auto;width: 790px;height: 167px;background: url(resource/images/header.png);}
.special_page h1 {position: absolute;top: 81px;left: -46px;right: 0;margin: 0;z-index: 101;}
.special_page .wrapper {position: absolute;width: 300px;top: 250px;left: 0;right: 0;margin: 0 auto;z-index: 101;}
.special_page .box {z-index: 110;margin: 0 auto;position: relative;}
.special_page .wrapper .shadow {width: 300px;height: 18px;bottom: -10px;margin: 0 auto;margin-top: -7px;background: url(resource/images/box-shadow.png);z-index: 99;}
.box .header.grey {background: url(resource/images/bg-header.png);filter: none;border-color: #c8c8c8;}
.box .header {background: #78b1ed;background: -moz-linear-gradient(top,rgba(120,177,237,1) 0,rgba(65,123,181,1) 100%);background: -webkit-gradient(linear,left top,left bottom,color-stop(0%,rgba(120,177,237,1)),color-stop(100%,rgba(65,123,181,1)));background: -webkit-linear-gradient(top,rgba(120,177,237,1) 0,rgba(65,123,181,1) 100%);background: -o-linear-gradient(top,rgba(120,177,237,1) 0,rgba(65,123,181,1) 100%);background: -ms-linear-gradient(top,rgba(120,177,237,1) 0,rgba(65,123,181,1) 100%);background: linear-gradient(top,rgba(120,177,237,1) 0,rgba(65,123,181,1) 100%);filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#78b1ed',endColorstr='#417bb5',GradientType=0);height: 34px;line-height: 34px;border: 1px solid #2b5177;border-radius: 3px 3px 0 0;border-bottom: 0;box-shadow: inset 0 1px 0 0 rgba(255,255,255,0.5);}
.box .header img {display: inline-block;margin: 9px auto;margin-left: 8px;float: left;-moz-user-select: none;}
.box .header.grey h3 {color: #383838;text-shadow: none;}
.box .header h3 {font-size: 13px;color: #fff;text-shadow: 0 1px 0 #000;font-weight: 700;}
.box .header h3 {float: left;display: inline-block;margin: 0;padding: 0;margin-left: 8px;padding-left: 10px;background: url(resource/images/divider-header.png) top left no-repeat!important;}
.box .content {padding: 0 10px;border: 1px solid #c8c8c8;border-radius: 0 0 3px 3px;border-top: 1px solid #2b5177;background: #fff;}
.box .actions {border: 1px solid #c8c8c8;background: url(resource/images/bg-action.png) repeat-x #f7f7f7;border-radius: 0 0 3px 3px;}
.box .actions-left {float: left;margin: 5px;margin-left: 10px;color: #f00;display: none; padding-left: 22px}
.box .actions-right {float: right;margin: 5px;margin-right: 10px;}
.box .actions:after {content: ".";display: block;height: 0;clear: both;visibility: hidden;}
.box .content.no-padding {padding: 0;}
.box .content.with-actions {border-radius: 0;border-bottom: 0;}
.box .content.grey {border-top-color: #c8c8c8;}
form .section {border-bottom: 1px solid #e7e7e7;border-top: 1px solid #fff;margin: 0;width: 100%;background: #f6f6f6;background: -moz-linear-gradient(top,rgba(246,246,246,1) 0,rgba(241,241,241,1) 100%);background: linear-gradient(top,rgba(246,246,246,1) 0,rgba(241,241,241,1) 100%);filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#f6f6f6',endColorstr='#f1f1f1',GradientType=0);}
._100 {width: 96%;display: inline;float: left;margin-left: 2%;margin-right: 2%;}
form .section>label, form .section>.label {margin-top: 6px;margin-left: 10px;float: left;width: 16%; text-align: right;}
form .section>div {border-left: 1px solid #e7e7e7;float: right;width: 75%;padding: 0 1%;padding-right: 10px;}
.input-text{margin: 5px }
.input-text{height:30px; line-height:30px;background: #fff;margin: 10px 0;border: 1px solid #c8c8c8;border-radius: 5px;outline: 0;-webkit-box-shadow: inset 0 2px 3px 0 rgba(18,16,11,0.13);-moz-box-shadow: inset 0 2px 3px 0 rgba(18,16,11,0.13);box-shadow: inset 0 2px 3px 0 rgba(18,16,11,0.13);}
.btn { color: #58646d;  font-size: 12px;  height: 25px;  line-height: 25px;  width: auto;  padding: 0 10px;  border: 1px solid #c7c7c7;  background: url(resource/images/bgb2.png);  border-radius: 5px;  -moz-background-clip: padding;  -webkit-background-clip: padding-box;  background-clip: padding-box;  -webkit-box-shadow: 0 1px 1px 0 rgba(18,16,11,0.1)!important;  -moz-box-shadow: 0 1px 1px 0 rgba(18,16,11,0.1)!important;  box-shadow: 0 1px 1px 0 rgba(18,16,11,0.1)!important; cursor: pointer;}
.btn:hover, .btn:active {  border-color: #2462a0;  background-image: url(resource/images/bgb.png);  -webkit-box-shadow: 0 1px 1px 0 rgba(18,16,11,0.1),inset 0 0 1px 0 rgba(255,255,255,0.42);  -moz-box-shadow: 0 1px 1px 0 rgba(18,16,11,0.1),inset 0 0 1px 0 rgba(255,255,255,0.42);  box-shadow: 0 1px 1px 0 rgba(18,16,11,0.1),inset 0 0 1px 0 rgba(255,255,255,0.42);}
</style>
<link rel="stylesheet" href="css/mooshineWindow.css"></head>
<body class="special_page" style="">
	<div class="top">
		<div class="gradient"></div>
		<div class="white"></div>
		<div class="shadow"></div>
	</div>
	<div class="content">
		<h1>酒店管理系统</h1>
		<div class="background"></div>
		<div class="wrapper">
			<div class="box">
				<div class="header grey">
					<img src="resource/images/lock.png" width="16" height="16">
					<h3>登录</h3>
				</div>
				<form action="http://passport.zhuzher.com/login" method="post" onsubmit="return loginValidate();" target="ssoLoginFrame">
					<input type="hidden" name="isajax" value="true">  
		            <input type="hidden" name="isframe" value="true">  
		            <input type="hidden" name="lt" value="e2s1" id="loginticket">  
		            <input type="hidden" name="_eventId" value="submit">
					<div class="content no-padding with-actions grey">
						<div class="section _100">
							<label> 用户名 </label>
							<div>
								<input id="username" name="username" class="input-text" style="width: 210px">
							</div>
						</div>
						<div class="section _100">
							<label> 密码 </label>
							<div>
								<input name="password" id="password" type="password" class="input-text" style="width: 210px">
							</div>
						</div>
						<div class="section _100">
							<label>验证码</label>
							<div>
								<input name="vcode" type="text" class="input-text" style="width: 150px">
								<a href="javascript:void(0)" id="newValid" title="新验证码"><img id="checkimg" src="http://passport.zhuzher.com/zcaptcha" onclick="reloadRands();return false;" title="点击更新验证码" style="vertical-align: middle;"></a>
							</div>
						</div>
					</div>
					<div class="actions">					
						<div class="actions-left">
							 <span>●&nbsp;&nbsp;</span><span class="errmsg"></span>
						</div>
						<div class="actions-right">
							<input type="submit" value="登录" class="btn">
						</div>
					</div>
					</form>
			</div>
			<div class="shadow"></div>
		</div>
	</div>
	<script type="text/javascript">
	try{
		if(parent.location !== self.location) {
			parent.location=self.location;
		}
	}catch(e){}

	function reloadRands(){
		$("#checkimg").attr("src",'http://passport.zhuzher.com/zcaptcha?id='+new Date().getTime());
	}
	$(function(){
		//alert($("iframe").size()+"");
		$(".index-text").focus(function(){
			$(".actions-left").css("display","none");
		});
		$("#forget").click(function(){
			//curOpen("forgetPassword.htm",{title:"找回密码"});
			$(".msgbox").css("display","block");
			$(".overlay").css("display","block")
		});
		$(".overlay").click(function(){
			$(".overlay").css("display","none");
			$(".msgbox").css("display","none");
		});
		$(".cancle").click(function(){
			$(".overlay").css("display","none");
			$(".msgbox").css("display","none");
		});
	});
	
	$(function(){
		flushLoginTicket();
	});
	// 登录验证函数, 由 onsubmit 事件触发
	var loginValidate = function(){
		var msg;
		if ($.trim($('#username').val()).length == 0){
			msg = "用户名不能为空。";
		} else if ($.trim($('#password').val()).length == 0 ){
			msg = "密码不能为空。";
		}
		if (msg && msg.length > 0) {
			$(".errmsg").html(msg);
			$(".actions-left").css("display","block");
			return false;
		} else if($('#loginticket').val().length == 0){
			$(".errmsg").html("服务器正忙，请刷新后再试..");
			$(".actions-left").css("display","block");
			return false;
		} else {
			// 验证成功后，动态创建用于提交登录的 iframe
		    $('body').append($('<iframe/>').attr({
		    	style: "display:none;width:0;height:0", 
		    	id: "ssoLoginFrame",
		    	name: "ssoLoginFrame",
		    	src: "javascript:false;"
		    }));
		    listenResult();
			return true;
		}
	}
	function getCookie(name){
	    var arr = document.cookie.match(new RegExp("(^| )"+name+"=([^;]*)(;|$)"));
	    if(arr != null) return unescape(arr[2]); return null;
	}
	var listenResult = function(){
		var timer=self.setInterval(function(){
			var result = getCookie("z-l-"+$("#loginticket").val());
			if(result!=null){
				feedBackUrlCallBack(result);
				window.clearInterval(timer);
			}
			
		},50);
	}
	// 登录处理回调函数，将由 iframe 中的页同自动回调
	var feedBackUrlCallBack = function (result) {
		customLoginCallBack(result);
		deleteIFrame('#ssoLoginFrame');
	};

	// 自定义登录回调逻辑
	var customLoginCallBack = function(result){
		reloadRands();
		// 登录失败，显示错误信息
		if (result == 1){
			$(".errmsg").html("用户名或密码错误");
			// 重新刷新 login ticket
			flushLoginTicket();
		}
		if(result == 2){
			$(".errmsg").html("验证码不正确");
			// 重新刷新 login ticket
			flushLoginTicket();
		}
		$(".actions-left").css("display","block");
	}

	var deleteIFrame = function (iframeName) {
		var iframe = $(iframeName); 
		if (iframe) {
			iframe.remove();
		}
	};
	
	// 由于一个 login ticket 只允许使用一次, 当每次登录需要调用该函数刷新 lt
	var flushLoginTicket = function(){
		var _services = 'service=' + encodeURIComponent('http://ykinns.zhuzher.com/vipcheckLogin.html');
		$.getScript('http://passport.zhuzher.com/login?'+_services+'&get-lt=true&n=' 
				+ new Date().getTime(), 
		function(){
			$('#loginticket').val(_loginTicket);
		});
	}
	
	</script>



</body></html>