<!DOCTYPE html>
<html>
 <head> 
  <meta name="viewport" content="width=device-width" /> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge" /> 
  <meta charset="gbk" /> 
  <title>小说</title> 
  <link href="/css/core.css" rel="stylesheet" /> 
  <link type="text/css" rel="stylesheet" href="/js/plugins/MsgBox/msgbox.css" /> 
  <link rel="stylesheet" type="text/css" href="/font/font-awesome.css" /> 
  <script src="/js/plugins/MsgBox/msgbox.js"></script> 
  <script src="/js/plugins/avalon.js"></script> 
  <style>
        .lockBody {
        }

        body {
            overflow-y: scroll;
        }
        .ms-controller {
            visibility: hidden
        }
    </style> 
 </head> 
 <body class="ms-controller" id="p-book-read" ms-controller="model-book-read"> 
  <div class="content"> 
   <div class="paper" style="" ms-visible="chapters.length&gt;0" ms-repeat="chapters" onselect="return false;" onselectstart="return false;" oncopy="return false;"> 
    <div class="head">
     <span ms-visible="el.name" style="display:none">{{el.name}}</span>
     <span ms-visible="!el.name">第二章</span>
    </div> 
    <div class="body" ms-css-font-size="fontSize"> 
     <span ms-visible="el.content" style="display:none">{{el.content|html}}</span>
     <div ms-visible="!el.content">
      &nbsp;&nbsp;&nbsp;&nbsp;剩下的九个马贼适才因为害怕，像抱团一样站得紧凑；白衫剑客一道弧形剑劈下去，九人全部都被这一剑所伤，足以让他们的喉咙全部喷血。
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;鲜红日光照耀下的沙漠中，包括独眼头目在内的九个鞑靼马贼瞪大双眼，伸出双手紧紧捂住自己被神不知鬼不觉割开的喉咙。
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;淋漓疼痛从喉头处漫开，喉管被灌入苦涩的风沙，这痛苦的感受实在是生不如死。马贼们疼得满地翻滚，不管他们把伤口捂得多紧，那血还是源源不断地从喉咙处喷出来。
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;这出剑的白衫剑客是故意的。一剑挥出，剑刃发力，不采剑尖，割破却不割断他们的喉管，因为他想让他们体验一下何谓疼痛，故意让他们这样流血而亡。
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;「啊啊――疼，好疼，疼得要命！我的血、我的血怎么一直在流……」黄沙上，九个马贼哭爹喊娘、满地打滚的一副惨状。
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;而出剑的白衫剑客却只是淡淡地站在原地，迎着日落夕阳，蹙眉观察着不远处躺在一具车身已是倾倒的马车下的少年。
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;少年披发，年少得还未梳髻。着一身青衫的他，苍白的脸上有血，阖着双眼，正静静地躺在一地断手、断腿、断头以及尸首之中。
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;旁人看了，定会以为他已经死了。
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;适才，少年就是这样瞒骗过那群愚笨的马贼的。他很聪明，懂得置之死地而后生，安静地躲在马车下装死，骗过那帮杀红眼的歹徒。
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;可是少年却骗不过这白衫剑客。「咻！」如闪电般，一道剑气凛然绽开在少年胸前，剑刃上刻着凤鸾图案的长剑被白衫剑客指向了少年。
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;那锋芒毕露的剑尖直接对准了少年的心脏。少年一直因为恐惧、伤悲而填满不安的心，被那凌厉剑气逼得快要炸裂。
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;「如果你继续躺在这里，半个时辰后，这大漠里的秃鹰会把你当成腐尸啄死。就算们没啄死你，沙尘暴也会将你活埋在地底。」白衫剑客冷冷告诉少年道。
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;「……」少年听着对方盛满威仪却不失动听的醇厚声音，忖度许久后，仍然选择缄默不语。
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;少年自认在这白衫剑客出现后，自己并未露出任何马脚，只是一直静静地躺在断裂的马车下，扮演一具毫无生气的死尸。明明都瞒过那群马贼了，何以还是会被这白衫剑客发现？此人果真是不同常人的厉害。
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;「还要装死的话，不如让我一剑刺死，让你早死早投胎。」得不到回答，白衫剑客道。
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;少年于是别无他法地睁开了满是泪的湿润眼睛，被迫仰望站在大漠孤烟之中的白衣男子。
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;落日将他修长伟岸的身影照得血红，亦生动地勾勒出他俊朗的面孔伏线。一股锐利的杀气从他的剑发出，而他本人则是充满了比那柄剑还要凛冽的气焰。
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;「你叫什么名字？是棠惊鸿什么人？」白衫剑客微蹙着眉，瞪着少年问。
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;「我……我……」少年支吾得说不出话。
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;「不照实说，我一样会刺死你。」白衫剑客似会读心，心知少年正在一面支吾，一面思索对付他的办法。
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;有了白衫剑客这句话，少年只得如实相告：「我叫棠梨，是棠惊鸿的养子。」
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;「养子？」白衫剑客蹙眉望了望躺在几米开外的棠惊鸿。他早就断气了，许是因为对少年的挂念，他是那样地死不瞑目，眼睛直直朝少年藏匿的地方看着。
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;白衫剑客由此知道少年没有撒谎，「他生前对你不薄？」
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;「是。」少年颔首。
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;「你可知我是谁？」白衫剑客凝睇着少年的眼睛问。
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;「我……不知。」棠梨摇头，他并不认识这位白衫剑客。但方才他躺在黄沙上，倒是偷偷[眼观赏了白衫剑客杀了那帮残暴马贼的所有表演。
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;跟那帮马贼相比，这位白衫剑客的残暴程度实在是有过之而无不及。明明可以一剑让他们毙命，但他却让他们留着一口气去「享受」从一个大活人变成一具慢慢淌干体内鲜血的干尸。
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;由此去推论这个人的本性，棠梨不排除如果对方认为他说的是假话，便真的会将那锋利的长剑刺进他心脏的可能性。于是他只得照实告诉剑客自己是棠惊鸿收养的养子。
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;他的生父是前朝大将军关凤羽，在周廷筠登基时被归类为叛将、打入天牢，关家从此衰亡，家眷四处流离。两朝尚书棠惊鸿凭着与他父亲关凤羽多年结交的情义，拼死将年仅六岁的他护在身边，瞒天过海地为他易名「棠梨」，从此收入棠家做自己的养子；因此当年年幼的他才能逃过此劫。
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;棠梨还在心中盘算，若是白衫剑客再追问自己的身世，他会进一步如实告知自己本来姓关，不姓棠。
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;「那我告诉你，我是东方沾露。」白衫剑客直率地报出了自己的姓名。意外地，语毕，他没有从棠梨的眼眸中看出对这个名字的情绪波动。
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;所以，这个孩子根本不知道他是谁、从哪里来、要到哪里去。白衫剑客感到一丝寂寞的惊讶，这江湖中竟然有人不识他。
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;「嗯……」躺在黄沙上的棠梨低应，然后长久地望着身形高瘦、骨架方正的东方沾露，以及他身后的那一轮如血落日。
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;微温的日光将他一身飘逸白衫染成了红色，晕出光晕来，衬托得他在棠梨眼中显得更为英俊。
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;穿着精致丝绸儒服、脸上布满血痕的棠梨不说话，盯着东方沾露看了又看，象是在用心记忆东方沾露是个什么样的人。
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;手中那剑仍然是对准棠梨胸口的东方沾露也不说话，似是在打量自己接下来要拿这孩子怎么办。
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;两人在血色黄昏里，一个躺着，一个站着，静静对望了许久。
      <br /> 
      <br /> &nbsp;&nbsp;&nbsp;&nbsp;这冗长的时间里，棠梨一直勇敢地注视着东方沾露的脸。他留意到那双漆黑的眼珠比一般人的颜色要深许多；那张颇具线条美感的精致面容也比一般男子要英俊许多。东方沾露就像一颗……星星，或一抹……月光。眼眸、皓齿、面孔、手腕、乃至浑身衣着都在发光。
     </div> 
    </div> 
    <div class="locked" id="model-book-buy" ms-visible="!el.full" style="display:none;" ms-repeat="chapter"> 
     <div class="h"> 
      <span class="title">购买收费章节 《{{chaptername}}》</span> 
      <a ms-if="!isLogin" class="cz" href="javascript:void(0)" ms-click="showRechargeBox(true)">去充值</a> 
      <div ms-if="!isLogin" class="ye">
       您的账户余额：
       <span class="price">{{el.egold}}</span>蜜币
      </div> 
     </div> 
     <div class="group"> 
      <div> 
       <div> 
        <ul ms-if-loop="el.buytype != 'chapter'"> 
         <li class="height_22">阅读本章需要花费 ：<span style="color:#e76940">{{el.vipprice}}</span> 蜜币</li> 
        </ul> 
        <ul ms-if-loop="el.buytype != 'allbook'"> 
         <li class="height_22">阅读本章需要花费 ：<span style="color:#e76940">{{el.vipprice}}</span> 蜜币</li> 
        </ul> 
       </div> 
       <span class="btn-buy" ms-click="buyChapter($event, 1)">购买本章</span> 
      </div> 
      <div class="cb"> 
       <div>
        一次购买全部（不包括未发布章节）
       </div> 
       <a ms-click="buyChapter($event, 100)" href="javascript:void(0)">订阅全部</a> 
      </div> 
      <div> 
       <div>
        关注微信，手机阅读
       </div> 
       <a ms-click="" href="javascript:void(0)">m_yueduge</a> 
      </div> 
     </div> 
    </div> 
   </div> 
  </div> 
  <div class="menu"> 
   <div style="margin-bottom:20px;"> 
    <span ms-visible="!isBookMark" ms-click="addBookToShelf(false)" eui-pop-tip="{&quot;position&quot;:&quot;left&quot;,&quot;text&quot;:&quot;点击放入书架&quot;}"><img src="/images/put_in_shelf.png" /></span> 
   </div> 
   <div eui-pop-tip="{&quot;position&quot;:&quot;left&quot;,&quot;target&quot;:&quot;#readQR&quot;}"> 
    <img id="menuQrBtn" src="/images/qrcode.png" /> 
    <div id="readQR"> 
     <div class="head">
      关注微信号，手机扫描阅读
     </div> 
     <div class="qr">
      <img src="/static2/images/weixinmy.jpg" width="100%;" />
     </div> 
    </div> 
   </div> 
   <span><a href="/book/146/146199/index.html"><img src="/images/index.png" /></a></span> 
   <span eui-pop-tip="{&quot;position&quot;:&quot;left&quot;,&quot;text&quot;:&quot;设置字体大小&quot;}"> <img ms-click="showFontPage" src="/images/font.png" /></span> 
   <span eui-pop-tip="{&quot;position&quot;:&quot;left&quot;,&quot;text&quot;:&quot;已开启日间模式，点击切换为夜间模式&quot;,&quot;width&quot;:225,&quot;height&quot;:35}" ms-visible="mode==0"><img ms-click="changeMode" src="/images/mode-night.png" /></span> 
   <span eui-pop-tip="{&quot;position&quot;:&quot;left&quot;,&quot;text&quot;:&quot;已开启夜间模式，点击切换为日间模式&quot;,&quot;width&quot;:225,&quot;height&quot;:35}" ms-visible="mode==1"><img ms-click="changeMode" src="/images/mode-day.png" /></span> 
   <span><a href="/modules/article/reviews.php?aid=146199&amp;type=all"><img ms-click="showCommentPage" src="/images/comment.png" /></a></span> 
  </div> 
  <div class="userInfoBar" ms-controller="model-book-read-user-info"> 
   <div style="width:800px;margin-left:auto;margin-right:auto;position:relative;"> 
    <div class="left"> 
     <span style="float:left;font-size:12px; color:#808080;">手机站阅读</span> 
     <div class="download"> 
      <a eui-pop-tip="{&quot;position&quot;:&quot;bottom&quot;,&quot;target&quot;:&quot;#downloadAndroid&quot;}" href="/" class="fa fa-android"> 
       <div id="downloadAndroid" class="download-pop"> 
        <h1>手机站扫码阅读</h1> 
        <img src="/static2/images/h5wap.png" /> 
       </div> </a> 
     </div> 
     <span style="float: left; padding-left: 20px; padding-right: 20px; color: #BBB;">|</span> 
     <div class="search-box"> 
      <form autocomplete="off" target="_blank" onsubmit="return (this.sip.value.trim().length&gt;0);" action="/modules/article/search.php"> 
       <input id="sip" type="text" name="searchkey" /> 
       <button type="submit" class="fa fa-search"></button> 
      </form> 
     </div> 
    </div> 
    <ul class="right"> 
     <li><a href="/login.php">登录</a></li> 
     <li><a href="/register.php">注册</a></li> 
     <li><a href="/">首页</a></li> 
    </ul> 
   </div> 
  </div> 
  <div id="fontPage" ms-visible="isShowFontPage" style="display:none;"> 
   <img ms-click="showFontPage" src="/images/XX.png" style="position:absolute;right:10px;top:10px;cursor:pointer;" /> 
   <div class="head">
    字体大小
   </div> 
   <div class="group"> 
    <div class="l" ms-click="subFontSize">
     A-
    </div> 
    <div class="c">
     {{fontSize}}
    </div> 
    <div class="r" ms-click="addFontSize">
     A+
    </div> 
   </div> 
  </div>  
  <script type="text/javascript">
        ZENG.msgbox.show("拼命加载中，客官请稍后...", 6);
		require.config({
            paths: {
                jquery: "jquery.js",
                avalon: "avalon.js",
                dialog: "dialog.js",
                loadding: "loadding.js",				
                cookie: "jquery.cookie.js",				
           },
            shim: {
                jquery: {
                    exports: "jQuery"
                },
                avalon: {
                    exports: "avalon"
                },
                dialog: {
                    exports: "dialog"
                }

            }
        })

		require(["jquery","avalon","dialog","loadding","jquery.cookie"], function(e , avalon , d, l, c) {
			var ress
			
			
			var m = avalon.define({
				$id: "model-book-read",
				$skipArray : ["progressbar"],
				chaptername : "",
				chapterid : "14676089",
				bid : "146199",
				articlename : "花缠恋之琉璃月（出版）",
				chapters : [],
				readCount : 0,
				isBookMark : "",	
				isLogin : false,
				isBuy : false,
				buyWrap : false,
				chapter : [],
				isLocked : false,
				isOpenMenu : true,
				isShowFontPage: false,
				isVip : "",
				history : [],
				readPosition : 0,
				mode: 0,
				fontSize: 16,
				fontMaxSize: 32,
				fontMinSize: 12,
				modes: [{
					cls: "mode-day",
					name: "日间模式"
				},
				{
					cls: "mode-night",
					name: "夜间模式"
				}],

				init: function() {	
					//avalon.log('sssssss');
					//m.updateChapterHistory(),
					document.oncontextmenu = function() {
						return !1
					},
					e(window).scroll(function(t) {
						if (! (e(document).scrollTop() <= 0) && e(document).scrollTop() >= e(document).height() - e(window).height()) {
							if (m.isLogin && m.isBuy)
							{
								avalon.log("加载下一章");
								m.isLocked=true;
								m.loadNextChapter();;
							}							
						}
					});
					//if (isVip)
					//{
						m.loadChapter();
					//}
					
				},	
				updateReadCount: function() {
					if (m.readCount > 1 && !m.isBookMark && (m.readCount - 1) % 5 == 0 )
					{
						d.showConfirm({
							title: "温馨提示",
							text: "您本次已经阅读了<font color='red'>" + (m.readCount - 1) + "</font>个章节，是否需要将书籍加入书架，方便下次阅读？",
							cancelText: "不加入书架",
							confirmText: "放入书架",
							onConfirm: function() {
								d.hide()
								m.addBookToShelf()
							}
						})
					}
				},	
				addBookToShelf: function(t) {
					if (m.isBookMark) return;
					ZENG.msgbox.show("正在添加到书架...", 6),
					e.post("/modules/article/reader/ajaxBookcase.php", {
						bid: m.bid
					},
					function(n) {
						ZENG.msgbox.show("已成功添加到书架", 4, 3e3);
						m.isBookMark = true;						
					},
					"json")
				},
				
				loadNextChapter: function(){
					avalon.log("/modules/article/reader/ajaxLoadNextChapter.php?bid="+m.bid+"&cid="+m.chapterid);
					ZENG.msgbox.show("拼命加载中，客官请稍后...", 6);
					e.ajax({
						url: "/modules/article/reader/ajaxLoadNextChapter.php?bid="+m.bid+"&cid="+m.chapterid,
						dataType: "json",
						type: "POST",
						success: function(res) {
							m.dealJsonData(res);
						},  
						error : function(err) {
							avalon.log(err);
						} 
					});
				},
				loadChapter: function(){
					avalon.log("/modules/article/reader/ajaxLoadChapter.php?bid="+m.bid+"&cid="+m.chapterid);
					e.ajax({
						url: "/modules/article/reader/ajaxLoadChapter.php?bid="+m.bid+"&cid="+m.chapterid,
						dataType: "json",
						type: "POST",
						success: function(res) {							
							m.dealJsonData(res);
						}
					});
				},				
				buyChapter: function(ev,num){
					ZENG.msgbox.show("正在购买中，请稍后...", 6);
					e.ajax({
						url: "/modules/article/reader/ajaxBuyChapter.php?bid="+m.bid+"&cid="+m.chapterid+"&num="+num,
						dataType: "json",
						data : {},
						type: "POST",
						success: function(res) {
							//avalon(res);
							if (res.success>0)
							{
								m.isLocked = false;
								m.isLogin = true;
								m.isBuy = false;
								m.buyWrap=false;
								m.chapter.clear();
								m.loadChapter();
								m.readCount++,
								m.updateReadCount();
								ZENG.msgbox.hide();
							}
							else
							{
								m.isLocked = false;
								m.isLogin = true;
								m.isBuy = false;
								ZENG.msgbox.show("购买失败，请重试...", 6);
							}		
							
						},  
						error : function(err) { 
							avalon.log(err);
						} 
					});
				}, 
				dealJsonData : function(res){
					avalon.log(res);
					ZENG.msgbox.hide();
					if (!res.isLogin)
					{
						m.isLogin = false;
						m.isBuy = false;
						m.isLocked = true ;
						m.chapterid=res.chapterid;
						m.chaptername=res.chaptername;
						m.chapters.push(res['chapter']);
						m.chapter.clear();
						m.chapter.push(res['buyInfo']);
						m.buyWrap=true;
						//location.href='/login.php';
					}
					if (!res.isBuy)
					{
						m.isOpenMenu = false;
						m.isLocked = false;
						m.isLogin = true;
						m.isBuy = false;
						m.chapterid=res.chapterid;
						m.chaptername=res.chaptername;
						m.chapters.push(res['chapter']);
						m.chapter.clear();
						m.chapter.push(res['buyInfo']);
						m.buyWrap=true;
						return;
						//location.href='/user/login.html';
					}		
					else
					{
						m.isOpenMenu = true;
						m.isLocked = false;
						m.isLogin = true;
						m.isBuy = true;
						m.buyWrap=false;
						m.chapter.clear();
						m.chaptername=res.chaptername;
						m.chapterid=res.chapterid;
						//m.updateChapterHistory();
						var modify=1;
						for (var i = 0; i < m.chapters.length; i++) {
							avalon.log("==========="+m.chapters[i].full);
							if (m.chapters[i].id==res.chapterid)
							{
								m.chapters[i].content = res['chapter']['content'];
								modify=0;
								break;
							}
						}
						if (modify)
							m.chapters.push(res['chapter']);
						
						m.readCount++,
						m.updateReadCount();
					}
					document.title = m.chaptername +"-"+ m.articlename;
				},
				openMenu : function(){
					e("#headNav,#iconSelect,#footMenu").fadeToggle(300);
					e("#readSetMenu").fadeOut(300);
				},
				updateChapterHistory : function(){
					var c1 = ""; 
					var isAleadyRead = false;
					if (e.cookie('READ_HISTORY')==null)
					{
						c1 = m.bid+","+m.chapterid+","+m.readPosition;
						c1 = c1.split('|');
					}						
					else
					{
						c1 = e.cookie('READ_HISTORY').split('|');
					}
					avalon.log(e.cookie('READ_HISTORY'));					
					for(var i=0;i<c1.length;i++)
					{
						if (c1[i].split(',').length!=3)
							e.cookie('READ_HISTORY',null);
						c2=c1[i].split(',');
						for (var j=0;j<c2.length;j++)
						{
							if (c2[j]==m.bid)
							{
								c1[i] = m.bid+","+m.chapterid+","+m.readPosition;
								isAleadyRead=true;
							}
							break;
						}
					}
					avalon.log(isAleadyRead);
					if (!isAleadyRead)
					{
						c1 = c1.join("|")+"|"+m.bid+","+m.chapterid+","+m.readPosition;
					}
					else
					{
						c1 = c1.join("|");
					}
					
					//avalon.log(c1);
					e.cookie('READ_HISTORY',c1,{expires:365,path:'/'});
					
				},
				showFontPage: function() {
					m.isShowFontPage = !m.isShowFontPage
				},
				addFontSize: function(t) {
					m.fontSize++,
					m.fontSize > m.fontMaxSize && (m.fontSize = f.fontMaxSize),
					e.cookie("readFontSize", m.fontSize, {
						expires: 30
					})
				},
				subFontSize: function(t) {
					m.fontSize--,
					m.fontSize < m.fontMinSize && (m.fontSize = m.fontMinSize),
					e.cookie("readFontSize", m.fontSize, {
						expires: 30
					})
				},
				changeMode: function() {
					m.mode == 0 ? m.mode = 1 : m.mode = 0;
					var t = m.modes[m.mode].cls;
					e("body").removeClass("mode-day"),
					e("body").removeClass("mode-night"),
					e("body").addClass(t),
					e.cookie("readMode", m.mode, {
						expires: 30
					})
				},
				
			});
			m.init();
			avalon.scan()
			m
		})	
		
		define("eui/PopTip", ["jquery"],
			function(e) {
				return e.fn.popTip = function(t) {
				typeof t == "string" && (t = {
					html: t
				}),
				t = e.extend({},
				{
					html: "",
					target: "",
					stick: !1,
					width: 0,
					height: 0,
					singleLine: !1,
					position: "top",
					top: 0,
					left: 0,
					right: 0,
					bottom: 0
				},
				t);
				var n = e(this[0]),
				r = n.attr("data-pop-tip-id"),
				i = e("#" + r);
				if (i.length > 0) i = e(i[0]);
				else {
					i = e('<div class="eui-pop-tip"></div>');
					var s = e('<div class="body"></div>');
					if (t.target) {
						var o = e(t.target);
						s.append(o),
						o.show(),
						s.css("backgroundColor", "transparent"),
						s.css("border", "none")
					} else {
						t.text && (t.singleLine = !0, t.html = t.text);
						var u = e("<div class='eui-content'>" + t.html + "</div>");
						s.append(u),
						t.singleLine && u.addClass("singleLine")
					}
					var r = "euiPopTip" + ((new Date).getTime() + parseInt(Math.random() * 1e4));
					i.attr("id", r),
					n.attr("data-pop-tip-id", r),
					i.appendTo(e("body")),
					i.append(s);
					var a = function(e) {
						return e.css("position") == "fixed" ? (console.error("fixed"), !0) : e.parent() ? a(e.parent()) : !1
					};
					t.width == 0 && (t.width = s.outerWidth(!0)),
					t.height == 0 && (t.height = s.outerHeight(!0)),
					i.width(t.width),
					i.height(t.height);
					var f;
					switch (t.position) {
					case "top":
						f = e('<div class="arrow-bottom"><div class="base a1"></div><div class="base a2"></div></div>');
						break;
					case "bottom":
						f = e('<div class="arrow-top"><div class="base a1"></div><div class="base a2"></div></div>');
						break;
					case "left":
						f = e('<div class="arrow-right"><div class="base a1"></div><div class="base a2"></div></div>');
						break;
					case "right":
						f = e('<div class="arrow-left"><div class="base a1"></div><div class="base a2"></div></div>');
						break;
					default:
					}
					i.append(f),
					i.mouseout(function() {
						e(this).hide()
					}),
					i.mouseover(function() {
						e(this).show()
					})
				}
				switch (t.position) {
				case "top":
					t.top += -i.height() - 10 + n.offset().top,
					t.left += n.width() / 2 - i.width() / 2 + n.offset().left;
					break;
				case "bottom":
					t.top += n.innerHeight() + 10 + n.offset().top,
					t.left += n.width() / 2 - i.width() / 2 + n.offset().left;
					break;
				case "left":
					t.top += n.height() / 2 - i.height() / 2 + n.offset().top,
					t.left += -i.width() - 10 + n.offset().left;
					break;
				case "right":
					t.top += n.height() / 2 - i.height() / 2 + n.offset().top,
					t.left += n.width() + 10 + n.offset().left;
					break;
				default:
				}
				return t.top && i.css("top", t.top),
				t.bottom && i.css("bottom", t.bottom),
				t.left && i.css("left", t.left),
				t.right && i.css("right", t.right),
				i.show(),
				i
			},
			e("[eui-pop-tip]").each(function() {
				$this = e(this);
				var t = $this.attr("eui-pop-tip"),
				n = JSON.parse(t),
				r = e(this).popTip(n);
				n.stick ? r.show() : ($this.mouseout(function() {
					r.hide()
				}), $this.mouseover(function() {
					e(this).popTip(n)
				}), r.hide())
			}),
			e
		})
    </script>  
 </body>
</html>