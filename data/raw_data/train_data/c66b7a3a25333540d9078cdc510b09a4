<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
 <head> 
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" /> 
  <meta name="apple-mobile-web-app-capable" content="yes" /> 
  <meta name="apple-mobile-web-app-status-bar-style" content="black" /> 
  <meta name="format-detection" content="telephone=no" /> 
 </head>
 <body style="-webkit-tap-highlight-color: rgba(255, 255, 255, 0);">
  <metaname="applicable-device" content="mobile"> 
   <link href="/Styles/Site.css?v=1" rel="stylesheet" type="text/css" /> 
   <script src="/scripts/jquery-1.4.1.min.js" type="text/javascript" language="javascript"></script> 
   <script src="/scripts/index.js" type="text/javascript" language="javascript"></script> 
   <title>
        Android开发笔记（六十一）文件下载与上传_Android开发_网络编程_码蚁之家_www.codes51.com</title> 
   <meta name="keywords" content="" /> 
   <meta name="description" content="本篇文章主要介绍了Android开发笔记（六十一）文件下载与上传，对于Android开发有兴趣的同学可以参考一下。" /> 
   <link href="/Styles/detail.css?v=5" rel="stylesheet" type="text/css" /> 
   <script>
        $(function () {
            var w = $(window).width();
            //$(".article-content img").css("width", w - 10);
            //$(".article-content img").parent().find("p").css("text-indent", "-2em");
        });  
    </script> 
   <script>
        AT_Id=319249
    </script> 
   <script type="text/javascript" src="/scripts/av.js"></script> 
   <style>
        .article-content pre
        {
            display: block;
            padding: 0.3em;
            color: #333;
            overflow-y: auto;
            background-color: #f6f6f6;
            font-size: 11px;
            border: 1px solid #ccc;
            line-height: 25px;
            background-color: #f5f5f5;
            border-radius: 3px;
            -webkit-border-radius: 3px;
            -moz-border-radius: 3px;
            padding: 10px 10px;
            margin: 5px auto;
            word-break: break-all;
            word-wrap: break-word;
        }
        .pagelist
        {
            margin-top: 10px;
            height: 30px;
            width: 100%;
            text-align: center;
        }
        .pagelist u
        {
            float: center;
            padding: 5px 10px;
            margin-right: 5px;
            font-size: 12px;
        }
        
        .pagelist a
        {
            float: center;
            padding: 5px 10px;
            border: 1px solid #ccc;
            margin-right: 5px;
            font-size: 12px;
            text-decoration: none;
        }
    </style> 
   <link href="/Styles/dev.css" rel="stylesheet" type="text/css" /> 
   <script type="text/javascript">
    /*智能场景 创建于2016-08-31*/
    var cpro_id = "u2748913";
</script> 
   <script src="http://cpro.baidustatic.com/cpro/ui/cm.js" type="text/javascript"></script>   
   <img src="http://hm.baidu.com/hm.gif?si=f79dd24e04797fc5ff22760393102383&amp;et=0&amp;nv=1&amp;st=1&amp;v=wap-1-0.1&amp;rnd=1196972354" width="0" height="0" /> 
   <script type="text/javascript">
    /*顶部横幅--创建于2016-06-02*/
    var cpro_id = "u2659291";
</script> 
   <script src="http://cpro.baidustatic.com/cpro/ui/cm.js" type="text/javascript"></script> 
   <div id="pubilc-menu"> 
    <dl> 
     <dt>
      <a href="/">返回首页</a>
     </dt> 
     <dt>
      <a href="/topic/list.html">专题</a>
     </dt> 
    </dl> 
    <dl> 
     <dt>
      <a href="/article/index.html"> 网络编程</a>
     </dt> 
     <dd> 
      <a href="/article/list_10.html">ASP教程</a> 
      <a href="/article/list_11.html">.NET教程</a> 
      <a href="/article/list_12.html">PHP教程</a> 
      <a href="/article/list_13.html">JSP教程</a> 
      <a href="/article/list_14.html">C#教程</a> 
      <a href="/article/list_15.html">Java教程</a> 
      <a href="/article/list_16.html">Delphi教程</a> 
      <a href="/article/list_17.html">VB教程</a> 
      <a href="/article/list_18.html">C/C++教程</a> 
      <a href="/article/list_19.html">Android开发</a> 
      <a href="/article/list_68.html">IOS开发</a> 
      <a href="/article/list_69.html">Windows Phone开发</a> 
      <a href="/article/list_70.html">Python教程</a> 
      <a href="/article/list_71.html">Ruby教程</a> 
      <a href="/article/list_106.html">移动开发</a> 
      <a href="/article/list_108.html">其他编程教程</a> 
     </dd> 
    </dl> 
    <dl> 
     <dt>
      <a href="/article/index.html"> 网页制作</a>
     </dt> 
     <dd> 
      <a href="/article/list_20.html">HTML教程</a> 
      <a href="/article/list_21.html">CSS教程</a> 
      <a href="/article/list_22.html">Dreamweaver教程</a> 
      <a href="/article/list_23.html">FrontPages教程</a> 
      <a href="/article/list_24.html">Javascript教程</a> 
      <a href="/article/list_25.html">web前端</a> 
     </dd> 
    </dl> 
    <dl> 
     <dt>
      <a href="/article/index.html"> 数据库</a>
     </dt> 
     <dd> 
      <a href="/article/list_26.html">SqlServer</a> 
      <a href="/article/list_27.html">MySql</a> 
      <a href="/article/list_28.html">Oracle</a> 
      <a href="/article/list_29.html">Access</a> 
      <a href="/article/list_30.html">DB2</a> 
      <a href="/article/list_31.html">SQLite</a> 
      <a href="/article/list_107.html">其他数据库</a> 
     </dd> 
    </dl> 
    <dl> 
     <dt>
      <a href="/article/index.html"> 图形设计</a>
     </dt> 
     <dd> 
      <a href="/article/list_32.html">photoshop教程</a> 
      <a href="/article/list_33.html">Fireworks教程</a> 
      <a href="/article/list_34.html">CorelDraw教程</a> 
      <a href="/article/list_35.html">Illustrator教程</a> 
      <a href="/article/list_36.html">AutoCad教程</a> 
      <a href="/article/list_37.html">FLASH教程</a> 
     </dd> 
    </dl> 
    <dl> 
     <dt>
      <a href="/article/index.html"> 操作系统</a>
     </dt> 
     <dd> 
      <a href="/article/list_38.html">Windows xp教程</a> 
      <a href="/article/list_39.html">Windows 7教程</a> 
      <a href="/article/list_40.html">Windows 8教程</a> 
      <a href="/article/list_41.html">Windows 2003教程</a> 
      <a href="/article/list_42.html">Windows Server 2008教程</a> 
      <a href="/article/list_43.html">Linux教程</a> 
      <a href="/article/list_79.html">Windows 10</a> 
     </dd> 
    </dl> 
    <dl> 
     <dt>
      <a href="/article/index.html"> 网站运营</a>
     </dt> 
     <dd> 
      <a href="/article/list_44.html">建站经验</a> 
      <a href="/article/list_45.html">SEO优化</a> 
      <a href="/article/list_46.html">站长心得</a> 
      <a href="/article/list_47.html">网赚技巧</a> 
      <a href="/article/list_48.html">网站推广</a> 
      <a href="/article/list_49.html">站长故事</a> 
     </dd> 
    </dl> 
    <dl> 
     <dt>
      <a href="/article/index.html"> 手机学院</a>
     </dt> 
     <dd> 
      <a href="/article/list_104.html">手机速递</a> 
      <a href="/article/list_50.html">安卓教程</a> 
      <a href="/article/list_51.html">iphone教程</a> 
      <a href="/article/list_52.html">手机评测</a> 
      <a href="/article/list_53.html">手机技巧</a> 
      <a href="/article/list_54.html">手机知识</a> 
      <a href="/article/list_99.html">手机应用</a> 
      <a href="/article/list_105.html">手机游戏</a> 
      <a href="/article/list_114.html">手机导购</a> 
     </dd> 
    </dl> 
    <dl> 
     <dt>
      <a href="/article/index.html"> 网店宝典</a>
     </dt> 
     <dd> 
      <a href="/article/list_55.html">开店指导</a> 
      <a href="/article/list_56.html">开店经验</a> 
      <a href="/article/list_57.html">网店装修</a> 
      <a href="/article/list_58.html">网店推广</a> 
      <a href="/article/list_59.html">网店seo</a> 
      <a href="/article/list_60.html">网购技巧</a> 
     </dd> 
    </dl> 
    <dl> 
     <dt>
      <a href="/article/index.html"> 软件教程</a>
     </dt> 
     <dd> 
      <a href="/article/list_62.html">办公软件</a> 
      <a href="/article/list_63.html">系统工具</a> 
      <a href="/article/list_64.html">媒体工具</a> 
      <a href="/article/list_65.html">压缩工具</a> 
      <a href="/article/list_66.html">图文处理</a> 
      <a href="/article/list_67.html">文件管理</a> 
     </dd> 
    </dl> 
    <dl> 
     <dt>
      <a href="/fanwen/index.html"> 范文之家</a>
     </dt> 
     <dd> 
      <a href="/fanwen/list_81.html">自我介绍</a> 
      <a href="/fanwen/list_82.html">自我鉴定</a> 
      <a href="/fanwen/list_83.html">写作模板</a> 
      <a href="/fanwen/list_84.html">合同范本</a> 
      <a href="/fanwen/list_85.html">工作总结</a> 
      <a href="/fanwen/list_86.html">贺词祝福语</a> 
      <a href="/fanwen/list_87.html">演讲致辞</a> 
      <a href="/fanwen/list_88.html">思想汇报</a> 
      <a href="/fanwen/list_89.html">入党申请书</a> 
      <a href="/fanwen/list_90.html">实习报告</a> 
      <a href="/fanwen/list_91.html">心得体会</a> 
      <a href="/fanwen/list_92.html">工作计划</a> 
      <a href="/fanwen/list_93.html">简历模板</a> 
      <a href="/fanwen/list_94.html">工作报告</a> 
      <a href="/fanwen/list_95.html">导游词</a> 
      <a href="/fanwen/list_96.html">评语寄语</a> 
      <a href="/fanwen/list_97.html">口号大全</a> 
      <a href="/fanwen/list_98.html">策划书范文</a> 
     </dd> 
    </dl> 
    <dl> 
     <dt>
      <a href="/article/index.html"> 信息工程</a>
     </dt> 
     <dd> 
      <a href="/article/list_110.html">软件工程</a> 
      <a href="/article/list_111.html">企业开发</a> 
      <a href="/article/list_112.html">系统运维</a> 
      <a href="/article/list_113.html">软件测试</a> 
     </dd> 
    </dl> 
    <dl> 
     <dt>
      <a href="/yimin/index.html"> 移民之家</a>
     </dt> 
     <dd> 
      <a href="/yimin/list_116.html">移民动态</a> 
      <a href="/yimin/list_117.html">移民政策</a> 
      <a href="/yimin/list_118.html">移民百科</a> 
      <a href="/yimin/list_119.html">移民生活</a> 
      <a href="/yimin/list_120.html">技术移民</a> 
      <a href="/yimin/list_121.html">投资移民</a> 
     </dd> 
    </dl> 
    <dl> 
     <dt>
      <a href="/kl/index.html"> 知识大全</a>
     </dt> 
     <dd> 
      <a href="/kl/list_126.html">母婴</a> 
      <a href="/kl/list_127.html">数码</a> 
      <a href="/kl/list_128.html">摄影</a> 
      <a href="/kl/list_129.html">装修</a> 
      <a href="/kl/list_130.html">美文</a> 
      <a href="/kl/list_131.html">常识</a> 
      <a href="/kl/list_132.html">时尚</a> 
      <a href="/kl/list_133.html">婚嫁</a> 
      <a href="/kl/list_134.html">美食</a> 
      <a href="/kl/list_135.html">养生</a> 
      <a href="/kl/list_136.html">旅游</a> 
      <a href="/kl/list_137.html">兴趣</a> 
      <a href="/kl/list_138.html">职场</a> 
      <a href="/kl/list_139.html">教育</a> 
      <a href="/kl/list_256.html">文学</a> 
      <a href="/kl/list_265.html">健康</a> 
     </dd> 
    </dl> 
    <dl> 
     <dt>
      <a href="/wd/index.html"> 问答大全</a>
     </dt> 
     <dd> 
      <a href="/wd/list_141.html">电脑网络</a> 
      <a href="/wd/list_142.html">手机数码</a> 
      <a href="/wd/list_156.html">QQ专区</a> 
      <a href="/wd/list_143.html">生活</a> 
      <a href="/wd/list_144.html">游戏</a> 
      <a href="/wd/list_145.html">体育运动</a> 
      <a href="/wd/list_146.html">娱乐明星</a> 
      <a href="/wd/list_147.html">休闲爱好</a> 
      <a href="/wd/list_148.html">文化艺术</a> 
      <a href="/wd/list_149.html">社会民生</a> 
      <a href="/wd/list_150.html">教育科学</a> 
      <a href="/wd/list_151.html">健康医疗</a> 
      <a href="/wd/list_152.html">商业理财</a> 
      <a href="/wd/list_153.html">情感家庭</a> 
      <a href="/wd/list_154.html">地区问题</a> 
      <a href="/wd/list_155.html">其他</a> 
     </dd> 
    </dl> 
    <dl> 
     <dt>
      <a href="/itwd/index.html"> 编程问答</a>
     </dt> 
     <dd> 
      <a href="/itwd/list_158.html">IOS</a> 
      <a href="/itwd/list_159.html">Android</a> 
      <a href="/itwd/list_160.html">.NET</a> 
      <a href="/itwd/list_161.html">Java</a> 
      <a href="/itwd/list_171.html">C/C++</a> 
      <a href="/itwd/list_172.html">Delphi</a> 
      <a href="/itwd/list_173.html">VC/MFC</a> 
      <a href="/itwd/list_174.html">其他语言</a> 
      <a href="/itwd/list_162.html">PHP</a> 
      <a href="/itwd/list_163.html">MSSQL</a> 
      <a href="/itwd/list_164.html">MYSQL</a> 
      <a href="/itwd/list_165.html">Oracle</a> 
      <a href="/itwd/list_175.html">其他数据库</a> 
      <a href="/itwd/list_166.html">Web开发</a> 
      <a href="/itwd/list_167.html">Windows</a> 
      <a href="/itwd/list_168.html">Linux</a> 
      <a href="/itwd/list_169.html">硬件/嵌入开发</a> 
      <a href="/itwd/list_170.html">网络通信</a> 
      <a href="/itwd/list_176.html">移动开发</a> 
      <a href="/itwd/list_177.html">云计算</a> 
      <a href="/itwd/list_178.html">企业IT</a> 
      <a href="/itwd/list_179.html">游戏开发</a> 
     </dd> 
    </dl> 
    <dl> 
     <dt>
      <a href="/joke/index.html"> 笑话大全</a>
     </dt> 
     <dd> 
      <a href="/joke/list_267.html">幽默笑话</a> 
      <a href="/joke/list_268.html">爱情笑话</a> 
      <a href="/joke/list_269.html">成人笑话</a> 
      <a href="/joke/list_270.html">校园笑话</a> 
      <a href="/joke/list_271.html">爆笑笑话</a> 
      <a href="/joke/list_272.html">综合笑话</a> 
      <a href="/joke/list_273.html">古代笑话</a> 
      <a href="/joke/list_274.html">现代笑话</a> 
      <a href="/joke/list_275.html">国外笑话</a> 
     </dd> 
    </dl> 
   </div> 
   <header> 
    <a href="/" class="logo"><img width="145px" src="/img/logo.gif" /></a> 
    <a href="javascript:;" id="icon-menu"></a> 
   </header> 
   <nav> 
    <a href="/circle/index.html">业界</a> 
    <a href="/dev/index.html">编程</a> 
    <a href="/web/index.html">网页</a> 
    <a href="/db/index.html">数据库</a> 
    <a href="/photo/index.html">设计</a> 
    <a href="/os/index.html">系统</a> 
    <a href="/zhang/index.html">运营</a> 
    <a href="/mobile/index.html">手机</a> 
    <a href="/eshop/index.html">网店</a> 
    <a href="/softuse/index.html">软件</a> 
   </nav> 
   <div class="main"> 
    <dl class="article-list"> 
     <dd class="menu" style="-webkit-margin-start: 0px;"> 
      <a href="/article/list_10.html"> ASP教程</a> 
      <a href="/article/list_11.html"> .NET教程</a> 
      <a href="/article/list_12.html"> PHP教程</a> 
      <a href="/article/list_13.html"> JSP教程</a> 
      <a href="/article/list_14.html"> C#教程</a> 
      <a href="/article/list_15.html"> Java教程</a> 
      <a href="/article/list_16.html"> Delphi教程</a> 
      <a href="/article/list_17.html"> VB教程</a> 
      <a href="/article/list_18.html"> C/C++教程</a> 
      <a href="/article/list_19.html"> Android开发</a> 
      <a href="/article/list_68.html"> IOS开发</a> 
      <a href="/article/list_69.html"> Windows Phone开发</a> 
      <a href="/article/list_70.html"> Python教程</a> 
      <a href="/article/list_71.html"> Ruby教程</a> 
      <a href="/article/list_106.html"> 移动开发</a> 
      <a href="/article/list_108.html"> 其他编程教程</a> 
     </dd> 
    </dl> 
    <h1 class="article-title"> Android开发笔记（六十一）文件下载与上传(2/2)</h1> 
    <div class="article-base-info">
      来源：互联网&nbsp;&nbsp;时间：2016-2-10 13:33:47 
    </div> 
    <script type="text/javascript">
    var cpro_id = "u2298499";
    (window["cproStyleApi"] = window["cproStyleApi"] || {})[cpro_id] = { at: "3", hn: "1", wn: "2", imgRatio: "1.7", scale: "20.8", pat: "6", tn:
"template_inlay_all_mobile_lu_native", rss1: "#FFFFFF", adp: "1", ptt: "0", titFF: "%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91", titFS: "14", rss2: "#FFFFFF", titSU: "0",
        ptbg: "70", ptp: "1"
    }
</script> 
    <script src="http://cpro.baidustatic.com/cpro/ui/cm.js" type="text/javascript"></script> 
    <script type="text/javascript" src="http://g.codes51.com/vt3a1ec599ffc9f131db173e88aefa32fc00b3930734ef.js"></script> 
    <div class="article-content">
      与文件下载有关的事件不是由监听器实现，而是由广播来实现。主要的下载事件有下面三个：
     <br />1、下载完成事件：在下载完成时，系统会发出一个action为DownloadManager.ACTION_DOWNLOAD_COMPLETE（android.intent.action.DOWNLOAD_COMPLETE）的广播，因此可注册一个该广播的接收器，用来判断当前下载任务是否已下载完毕，以及后续的处理。
     <br />2、下载进行时的通知栏点击事件：在下载过程中，用户点击通知栏上的下载任务，系统便发出action为DownloadManager.ACTION_NOTIFICATION_CLICKED（android.intent.action.DOWNLOAD_NOTIFICATION_CLICKED）的广播，所以可注册该广播的接收器进行相关处理，比如说跳转到该任务的下载进度页面；
     <br />3、下载完成后的通知栏点击事件：在不同时刻点击下载任务，会触发不同的事件。下载未完成时点击，触发的是系统广播DownloadManager.ACTION_NOTIFICATION_CLICKED；下载完成后点击，触发的是系统的ACTION_VIEW即浏览页，该动作由系统根据媒体类型去寻找对应的程序来打开，并没有发出广播消息。如果我们要控制此时的点击行为，可以在Request中通过setMimeType方法设置媒体类型，这样Android就会按照这个类型做对应的浏览处理。
     <br />
     <p>断点续传及其他</p>博主一开始学习DownloadManager时，就觉得好奇怪，该工具竟然没有提供暂停方法和恢复方法，这岂不意味着，文件下载没法断点续传了么？后来在实际开发中测试发现，DownloadManager其实比较智能，当网络一直是允许类型时，任务会一直下载；当网络断开或者不在允许范围内时，任务会自动暂停下载；只要网络连上或者切换到允许范围内，那么任务会自动恢复下载（这里会断点续传）。所以呢，开发者不用关心异常中断，也不用关心网络切换时的额外处理了，原来DownloadManager都已经帮我们实现了。
     <br />另外，同一个文件被重复下载时，已经下载完的文件并不会被覆盖，后来下载的文件会自动重命名。所以有时会发现下载下来的文件名与源文件名不一致，这很可能是重复下载造成了文件重命名。
     <br />
     <p>自定义进度条</p>文件下载和上传都经常用到进度条，可是Android自带的ProgressBar无法显示进度百分比的文本。既然如此，我们还是基于ProgressBar自定义一个附带百分比文本的进度条，顺便复习一下自定义视图的用法。
     <br />首先在自定义类CustomProgressBar中声明一个画笔与百分比文本，然后提供百分比文本的设置和获取方法，最后重写onDraw方法，在控件中央使用drawText函数画上百分比文本。百分比文本的颜色可通过画笔的setColor来设置，文本大小可通过画笔的setTextSize来设置。
     <br />下面是CustomProgressBar的代码示例：
     <br />
     <pre code_snippet_id="1576652" snippet_file_name="blog_20160210_1_8080039" name="code">import android.content.Context;
import android.graphics.Canvas;
import android.graphics.Color;
import android.graphics.Paint;
import android.graphics.Rect;
import android.util.AttributeSet;
import android.widget.ProgressBar;

public class CustomProgressBar extends ProgressBar {
	
	private String mProgressText;
	private Paint mPaint;

	public CustomProgressBar(Context context) {
		super(context);
		initPaint();
	}

	public CustomProgressBar(Context context, AttributeSet attrs) {
		super(context, attrs);
		initPaint();
	}

	public CustomProgressBar(Context context, AttributeSet attrs, int defStyle) {
		super(context, attrs, defStyle);
		initPaint();
	}
	
	private void initPaint() {
		mPaint = new Paint();
		mPaint.setColor(Color.BLACK);
		mPaint.setTextSize(30);
	}
	
	public void setProgressText(String text) {
		mProgressText = text;
	}
	
	public String getProgressText() {
		return mProgressText;
	}

	@Override
	protected synchronized void onDraw(Canvas canvas) {
	    super.onDraw(canvas);
	    Rect rect = new Rect();
	    mPaint.getTextBounds(mProgressText, 0, mProgressText.length(), rect);
	    int x = (getWidth() / 2) - rect.centerX();
	    int y = (getHeight() / 2) - rect.centerY();
	    canvas.drawText(mProgressText, x, y, this.mPaint);
	}
	
}</pre>
     <br />
     <p>文件上传</p>很可惜Android没有提供专门的文件上传工具类，所以我们要自己写代码实现上传功能了。其实也不难，一样是按照普通网络访问的POST流程，只是要采用multipart方式来分段传输。另外文件上传需要运用打开文件的对话框，文件对话框的介绍参见《Android开发笔记（二十三）文件对话框FileDialog》。
     <br />下面是文件上传的工具类代码：
     <br />
     <pre code_snippet_id="1576652" snippet_file_name="blog_20160210_2_6192665" name="code">	public int uploadFile(String uploadUrl, String uploadFile) {
		String fileName = &quot;&quot;;
		int pos = uploadFile.lastIndexOf(&quot;/&quot;);
		if (pos &gt;= 0) {
			fileName = uploadFile.substring(pos + 1);
		}
		
		String end = &quot;/r/n&quot;;
		String Hyphens = &quot;--&quot;;
		String boundary = &quot;*****&quot;;
		try {
			URL url = new URL(uploadUrl);
			HttpURLConnection conn = (HttpURLConnection) url.openConnection();
			/* 允许Input、Output，不使用Cache */
			conn.setDoInput(true);
			conn.setDoOutput(true);
			conn.setUseCaches(false);
			/* 设定传送的method=POST */
			conn.setRequestMethod(&quot;POST&quot;);
			/* setRequestProperty */
			conn.setRequestProperty(&quot;Connection&quot;, &quot;Keep-Alive&quot;);
			conn.setRequestProperty(&quot;Charset&quot;, &quot;UTF-8&quot;);
			conn.setRequestProperty(&quot;Content-Type&quot;,
					&quot;multipart/form-data;boundary=&quot; + boundary);
			/* 设定DataOutputStream */
			DataOutputStream ds = new DataOutputStream(conn.getOutputStream());
			ds.writeBytes(Hyphens + boundary + end);
			ds.writeBytes(&quot;Content-Disposition: form-data; &quot;
					+ &quot;name=\&quot;file1\&quot;;filename=\&quot;&quot; + fileName + &quot;\&quot;&quot; + end);
			ds.writeBytes(end);
			/* 取得文件的FileInputStream */
			FileInputStream fStream = new FileInputStream(uploadFile);
			/* 设定每次写入1024bytes */
			int bufferSize = 1024;
			byte[] buffer = new byte[bufferSize];
			int length = -1;
			/* 从文件读取数据到缓冲区 */
			do {
				length = fStream.read(buffer);
				/* 将数据写入DataOutputStream中 */
				ds.write(buffer, 0, length);
			} while (length != -1);
			ds.writeBytes(end);
			ds.writeBytes(Hyphens + boundary + Hyphens + end);
			fStream.close();
			ds.flush();
			/* 取得Response内容 */
			InputStream is = conn.getInputStream();
			int ch;
			StringBuffer b = new StringBuffer();
			while ((ch = is.read()) != -1) {
				b.append((char) ch);
			}
			ds.close();
			Log.d(TAG, &quot;上传成功&quot;);
		} catch (Exception e) {
			Log.d(TAG, &quot;上传失败&quot; + e.getMessage());
			mUploadId = -1;
		}
		return mUploadId;
	}</pre>
     <br />
     <p>系统服务清单</p>到本文为止，Android的系统服务基本都用过了一遍，下面总计一下这些系统服务及其对应的章节说明：
     <br />CONNECTIVITY_SERVICE : 网络连接服务(android.net.ConnectivityManager)，参见《Android开发笔记（五十五）手机设备基本操作》与《Android开发笔记（六十）网络检测与连接》。
     <br />TELEPHONY_SERVICE : 电话设备服务(android.telephony.TelephonyManager)，参见《Android开发笔记（四十六）手机相关事件》和《Android开发笔记（五十五）手机设备基本操作》。
     <br />WIFI_SERVICE : wifi与热点服务(android.net.wifi.WifiManager)，参见《Android开发笔记（五十五）手机设备基本操作》与《Android开发笔记（六十）网络检测与连接》。
     <br />LAYOUT_INFLATER_SERVICE : 布局填充服务(android.view.LayoutInflater)，参见《Android开发笔记（十二）测量尺寸与下拉刷新》。
     <br />SEARCH_SERVICE : 搜索管理服务(android.app.SearchManager)，参见《Android开发笔记（二十）顶部导航栏ActionBar》。
     <br />WINDOW_SERVICE : 视窗管理服务(android.view.WindowManager)，参见《Android开发笔记（三）屏幕分辨率》。
     <br />LOCATION_SERVICE : 定位服务(android.location.LocationManager)，参见《Android开发笔记（四十六）手机相关事件》和《Android开发笔记（五十五）手机设备基本操作》。
     <br />ALARM_SERVICE : 闹钟/定时器服务(android.app.AlarmManager)，参见《Android开发笔记（五十）定时器AlarmManager》。
     <br />NOTIFICATION_SERVICE : 通知推送服务(android.app.NotificationManager)，参见《Android开发笔记（五十二）通知推送Notification》。
     <br />AUDIO_SERVICE : 铃声服务(android.media.AudioManager)，参见《Android开发笔记（五十八）铃声与震动》。
     <br />VIBRATOR_SERVICE : 震动服务(android.os.Vibrator)，参见《Android开发笔记（五十八）铃声与震动》。
     <br />SENSOR_SERVICE : 传感器服务(android.hardware.SensorManager)，参见《Android开发笔记（五十九）巧用传感器》。
     <br />ACTIVITY_SERVICE : 活动管理服务(android.app.ActivityManager)
     <br />DOWNLOAD_SERVICE : 下载管理服务(android.app.DownloadManager)，参见《Android开发笔记（六十一）文件下载与上传》。
     <br />INPUT_METHOD_SERVICE : 输入法服务(android.view.inputmethod.InputMethodManager)，参见《Android开发笔记（三十六）展示类控件》。
     <br />KEYGUARD_SERVICE : 键盘锁服务(android.app.KeyguardManager)
     <br />MEDIA_ROUTER_SERVICE : 媒体路由服务(android.media.MediaRouter)
     <br />POWER_SERVICE : 电源管理服务(android.os.PowerManager)
     <br />STORAGE_SERVICE : 存储管理服务(android.os.storage.StorageManager)
     <br />UI_MODE_SERVICE : 界面模式服务(android.app.UiModeManager)
     <br />
     <p>代码示例</p>下面是文件下载的代码例子：
     <br />
     <pre code_snippet_id="1576652" snippet_file_name="blog_20160210_3_6083981" name="code">import java.util.HashMap;

import com.example.exmload.R;
import com.example.exmload.util.Utils;

import android.annotation.SuppressLint;
import android.app.Activity;
import android.app.DownloadManager;
import android.app.DownloadManager.Query;
import android.app.DownloadManager.Request;
import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.database.Cursor;
import android.net.ConnectivityManager;
import android.net.NetworkInfo;
import android.net.Uri;
import android.os.Bundle;
import android.os.Handler;
import android.util.Log;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.ProgressBar;
import android.widget.TextView;
import android.widget.Toast;

@SuppressLint({ &quot;DefaultLocale&quot;, &quot;SimpleDateFormat&quot; })
public class DownloadActivity extends Activity implements OnClickListener {
	
    private static final String TAG = &quot;DownloadActivity&quot;;
	private ConnectivityManager mConnectMgr;
    private DownloadManager mDownloadManager;
    private Button btn_download_notify_apk;
    private Button btn_download_notify_jpg;
    private Button btn_download_without_notify;
    private Button btn_cancel;
    private static TextView tv_download;
    private static TextView tv_notify;
    private ProgressBar pb_download;
    
    private static long mDownloadId = 0;
    private Uri mApkUri = Uri.parse(&quot;http://www.lenovomm.com/appdown/20091038-2&quot;);
    private Uri mJpgUri = Uri.parse(&quot;http://c.hiphotos.baidu.com/news/q%3D100/sign=b8e532c9ee50352ab76121086343fb1a/9c16fdfaaf51f3de3699841a93eef01f3a2979a0.jpg&quot;);
    private String mApkDir = &quot;Download/alipay.apk&quot;;
    private String mJpgDir = &quot;Download/news.jpg&quot;;
    private HashMap&lt;Integer,String&gt; mStatusMap = new HashMap&lt;Integer,String&gt;();
    
    @Override  
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_download);
        
		mConnectMgr = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);
        mDownloadManager = (DownloadManager) getSystemService(Context.DOWNLOAD_SERVICE);
        btn_download_notify_apk = (Button) findViewById(R.id.btn_download_notify_apk);
        btn_download_notify_jpg = (Button) findViewById(R.id.btn_download_notify_jpg);
        btn_download_without_notify = (Button) findViewById(R.id.btn_download_without_notify);
        btn_cancel = (Button) findViewById(R.id.btn_cancel);
        tv_download = (TextView) findViewById(R.id.tv_download);
        tv_notify = (TextView) findViewById(R.id.tv_notify);
        pb_download = (ProgressBar) findViewById(R.id.pb_download);
        pb_download = (ProgressBar) findViewById(R.id.pb_download);
        
        btn_download_notify_apk.setOnClickListener(this);
        btn_download_notify_jpg.setOnClickListener(this);
        btn_download_without_notify.setOnClickListener(this);
        btn_cancel.setOnClickListener(this);
        mStatusMap.put(DownloadManager.STATUS_PENDING, &quot;挂起&quot;);
        mStatusMap.put(DownloadManager.STATUS_RUNNING, &quot;运行中&quot;);
        mStatusMap.put(DownloadManager.STATUS_PAUSED, &quot;暂停&quot;);
        mStatusMap.put(DownloadManager.STATUS_SUCCESSFUL, &quot;成功&quot;);
        mStatusMap.put(DownloadManager.STATUS_FAILED, &quot;失败&quot;);
    }

    //接收下载完成后的intent
    public static class DownloadCompleteReceiver extends BroadcastReceiver {
        @Override  
        public void onReceive(Context context, Intent intent) {
            if(intent.getAction().equals(DownloadManager.ACTION_DOWNLOAD_COMPLETE)) {
                long downId = intent.getLongExtra(DownloadManager.EXTRA_DOWNLOAD_ID, -1);
                Log.d(TAG,&quot; download complete! id : &quot;+downId+&quot;, mDownloadId=&quot;+mDownloadId);
                tv_download.setVisibility(View.VISIBLE);
                tv_download.setText(Utils.getNowDateTime()+&quot; 编号&quot;+downId+&quot;的下载任务已完成&quot;);
            }
        }
    }

    //接收通知栏点击的intent
    public static class NotificationClickReceiver extends BroadcastReceiver {
        @Override  
        public void onReceive(Context context, Intent intent) {
            Log.d(TAG,&quot; NotificationClickReceiver onReceive&quot;);
            if (intent.getAction().equals(DownloadManager.ACTION_NOTIFICATION_CLICKED)) {
            	long[] downIds = intent.getLongArrayExtra(DownloadManager.EXTRA_NOTIFICATION_CLICK_DOWNLOAD_IDS);
                for (long downId : downIds) {
                    Log.d(TAG,&quot; notify click! id : &quot;+downId+&quot;, mDownloadId=&quot;+mDownloadId);
                    if (downId == mDownloadId) { 
                        tv_notify.setVisibility(View.VISIBLE);
                        tv_notify.setText(Utils.getNowDateTime()+&quot; 编号&quot;+downId+&quot;的下载进度条被点击了一下&quot;);
                    }
            	}
            }
        }
    }

	@Override
	public void onClick(View v) {
		pb_download.setVisibility(View.GONE);
		tv_download.setVisibility(View.GONE);
        tv_notify.setVisibility(View.GONE);
		NetworkInfo info = mConnectMgr.getActiveNetworkInfo();
		if (info == null || info.getState() != NetworkInfo.State.CONNECTED) {
			Toast.makeText(this, &quot;当前无可用的上网连接&quot;, Toast.LENGTH_LONG).show();
		} else if (info.getType() != ConnectivityManager.TYPE_WIFI) {
			Toast.makeText(this, &quot;当前非wifi环境，请连接wifi后下载&quot;, Toast.LENGTH_LONG).show();
		}
		if (v.getId() == R.id.btn_download_notify_apk) {
            Request down = new Request(mApkUri);
            down.setAllowedNetworkTypes(Request.NETWORK_MOBILE|Request.NETWORK_WIFI);
//            down.setTitle(&quot;APK下载信息&quot;);
//            down.setDescription(&quot;这是一个APK下载任务&quot;);
            down.setNotificationVisibility(Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);
            down.setVisibleInDownloadsUi(true);
            down.setDestinationInExternalFilesDir(this, null, mApkDir);
            mDownloadId = mDownloadManager.enqueue(down);
		} else if (v.getId() == R.id.btn_download_notify_jpg) {
            Request down_request = new Request(mJpgUri);
            down_request.setAllowedNetworkTypes(Request.NETWORK_MOBILE|Request.NETWORK_WIFI);
            down_request.setTitle(&quot;JPG下载信息&quot;);
            down_request.setDescription(&quot;这是一个JPG下载任务&quot;);
            down_request.setNotificationVisibility(Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);
            down_request.setVisibleInDownloadsUi(true);
            down_request.setDestinationInExternalFilesDir(this, null, mJpgDir);
            mDownloadId = mDownloadManager.enqueue(down_request);
		} else if (v.getId() == R.id.btn_download_without_notify) {
            Request down_request = new Request(mApkUri);
            down_request.setAllowedNetworkTypes(Request.NETWORK_MOBILE|Request.NETWORK_WIFI);
            down_request.setNotificationVisibility(Request.VISIBILITY_HIDDEN);
            down_request.setVisibleInDownloadsUi(false);
            down_request.setDestinationInExternalFilesDir(this, null, mApkDir);
            mDownloadId = mDownloadManager.enqueue(down_request);
            
            mHandler.postDelayed(mRefresh, 1000);
		} else if (v.getId() == R.id.btn_cancel) {
			mDownloadManager.remove(mDownloadId);
            tv_download.setVisibility(View.VISIBLE);
            tv_download.setText(Utils.getNowDateTime()+&quot; 编号&quot;+mDownloadId+&quot;的下载任务已取消&quot;);
            mHandler.removeCallbacks(mRefresh);
		}
	}
	
	private Handler mHandler = new Handler();
	private Runnable mRefresh = new Runnable() {
		@Override
		public void run() {
			boolean bFinish = false;
            Query down_query = new Query();
            down_query.setFilterById(mDownloadId);
            Cursor cursor = mDownloadManager.query(down_query);
    		if (cursor.moveToFirst()) {
    			for (;; cursor.moveToNext()) {
        			int nameIdx = cursor.getColumnIndex(DownloadManager.COLUMN_LOCAL_FILENAME);
        			int mediaTypeIdx = cursor.getColumnIndex(DownloadManager.COLUMN_MEDIA_TYPE);
        			int totalSizeIdx = cursor.getColumnIndex(DownloadManager.COLUMN_TOTAL_SIZE_BYTES);
        			int nowSizeIdx = cursor.getColumnIndex(DownloadManager.COLUMN_BYTES_DOWNLOADED_SO_FAR);
        			int statusIdx = cursor.getColumnIndex(DownloadManager.COLUMN_STATUS);
        			int progress = (int)(pb_download.getMax()*
        					cursor.getLong(nowSizeIdx)/cursor.getLong(totalSizeIdx));
        			pb_download.setVisibility(View.VISIBLE);
        			pb_download.setProgress(progress);
        			if (cursor.getString(nameIdx) == null) {
        				break;
        			}
        			String desc = &quot;&quot;;
        			desc = String.format(&quot;%s文件路径：%s\n&quot;, desc, cursor.getString(nameIdx));
        			desc = String.format(&quot;%s媒体类型：%s\n&quot;, desc, cursor.getString(mediaTypeIdx));
        			desc = String.format(&quot;%s文件总大小：%d\n&quot;, desc, cursor.getLong(totalSizeIdx));
        			desc = String.format(&quot;%s已下载大小：%d\n&quot;, desc, cursor.getLong(nowSizeIdx));
        			desc = String.format(&quot;%s下载进度：%d%%\n&quot;, desc, progress);
        			desc = String.format(&quot;%s下载状态：%s\n&quot;, desc, mStatusMap.get(cursor.getInt(statusIdx)));
                    tv_notify.setVisibility(View.VISIBLE);
                    tv_notify.setText(desc);
                    if (progress == pb_download.getMax()) {
                    	bFinish = true;
                    }
    				if (cursor.isLast() == true) {
    					break;
    				}
    			}
    		}
    		cursor.close();
    		if (bFinish != true) {
                mHandler.postDelayed(this, 1000);
    		}
		}
	};
	
}</pre>
     <br />下面是文件上传的代码例子：
     <br />
     <pre code_snippet_id="1576652" snippet_file_name="blog_20160210_4_9322584" name="code">import java.util.ArrayList;
import java.util.Map;

import com.example.exmload.util.FileResource;
import com.example.exmload.util.UploadUtil;
import com.example.exmload.util.Utils;
import com.example.exmload.widget.CustomProgressBar;
import com.example.exmload.widget.FileSelectFragment;
import com.example.exmload.widget.FileSelectFragment.FileSelectCallbacks;

import android.app.Activity;
import android.content.Context;
import android.os.Bundle;
import android.os.Handler;
import android.view.View;
import android.view.View.OnClickListener;
import android.view.inputmethod.InputMethodManager;
import android.widget.Button;
import android.widget.EditText;
import android.widget.TextView;
import android.widget.Toast;

public class UploadActivity extends Activity implements OnClickListener,FileSelectCallbacks {
	
    private static final String TAG = &quot;DownloadActivity&quot;;
    private static EditText et_server;
    private static TextView tv_filename;
    private Button btn_select;
    private Button btn_upload;
    private CustomProgressBar pb_upload;
    private int mUploadId;
    private UploadUtil mUpload = new UploadUtil();
    
    @Override  
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_upload);

        et_server = (EditText) findViewById(R.id.et_server);
        tv_filename = (TextView) findViewById(R.id.tv_filename);
        btn_select = (Button) findViewById(R.id.btn_select);
        btn_upload = (Button) findViewById(R.id.btn_upload);
        pb_upload = (CustomProgressBar) findViewById(R.id.pb_upload);
        
        btn_select.setOnClickListener(this);
        btn_upload.setOnClickListener(this);
    }
    
	@Override
	public void onClick(View v) {
		if (v.getId() == R.id.btn_select) {
			InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);  
			//软键盘如果已经打开则关闭之
			if (imm.isActive() == true) {
				imm.toggleSoftInput(0, InputMethodManager.HIDE_NOT_ALWAYS);
			}
			FileResource fileRes = new FileResource(this);
			FileSelectFragment fsf = FileSelectFragment.newInstance(
					FileSelectFragment.Mode.FileSelector,
					fileRes.dialog_height, // 对话框高度
					R.string.btn_ok, R.string.btn_cancel,
					R.string.tag_title_OpenFile, fileRes.resourceID_Icon,
					fileRes.resourceID_Directory, fileRes.resourceID_UpDirectory,
					fileRes.resourceID_File);
			ArrayList&lt;String&gt; allowedExtensions = new ArrayList&lt;String&gt;();
			allowedExtensions.add(&quot;.jpg&quot;);
			allowedExtensions.add(&quot;.png&quot;);
			allowedExtensions.add(&quot;.gif&quot;);
			fsf.setFilter(FileSelectFragment.FiletypeFilter(allowedExtensions), null);

			String fragTag = getResources().getString(R.string.tag_fragment_FileSelect);
			fsf.show(getFragmentManager(), fragTag);
		} else if (v.getId() == R.id.btn_upload) {
			InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);
			imm.hideSoftInputFromWindow(et_server.getWindowToken(), 0);
			if (et_server.getText().toString().length() &lt;= 0) {
				Toast.makeText(this, &quot;请输入服务器上传地址&quot;, Toast.LENGTH_LONG).show();
			} else if (tv_filename.getText().toString().length() &lt;= 0) {
				Toast.makeText(this, &quot;请选择要上传的文件&quot;, Toast.LENGTH_LONG).show();
			} else {
				//上传文件需要服务端配合。所以这里使用了测试方法来代替
				mUploadId = mUpload.uploadFileTest(et_server.getText().toString(), tv_filename.getText().toString());
				mHandler.postDelayed(mRefresh, 100);
			}
		}
	}

	private Handler mHandler = new Handler();
	private Runnable mRefresh = new Runnable() {
		@Override
		public void run() {
			double progress = mUpload.getProgress(mUploadId);
			String text = String.format(&quot;编号%d目前上传进度是%s%%&quot;, mUploadId, Utils.getDotOne(progress));
			pb_upload.setVisibility(View.VISIBLE);
			pb_upload.setProgress((int)progress);
			pb_upload.setProgressText(text);
			if (progress &lt; 100) {
				mHandler.postDelayed(this, 1000);
			}
		}
	};

	@Override
	public void onConfirmSelect(String absolutePath, String fileName,
			Map&lt;String, Object&gt; map_param) {
		String path = absolutePath + &quot;/&quot; + fileName;
		tv_filename.setText(path);
	}

	@Override
	public boolean isFileValid(String absolutePath, String fileName,
			Map&lt;String, Object&gt; map_param) {
		return true;
	}

}</pre>
     <br />点此查看Android开发笔记的完整目录 
     <p class="clear"> </p> 
     <script type="text/javascript" src="http://g.codes51.com/vt3a1ec599ffc9f131db173e88aefa32fc00b3930734ef.js"></script> 
     <div class="pagelist"> 
      <a href="detail_319249_1.html">上一页</a> 
      <a href="detail_319249_1.html"> 1</a> 
      <u><b> 2</b></u> 
     </div> 
    </div> 
    <div class="clear"> 
    </div> 
    <div style="height: 80px; padding-left: 10px; line-height: 22px; background: #fff;
        overflow: hidden; white-space: nowrap; text-overflow: ellipsis;"> 
     <br />
     <b>上一篇</b>：
     <a href="detail_319204.html">Android面试之View绘制流程以及invalidate等相关方法分析</a> 
     <br />
     <b>下一篇</b>：
     <a href="detail_319250.html" class="link1">52期-01天-JavaWeb ― HTML</a> 
    </div> 
    <div class="clear"> 
    </div> 
    <dl class="article-list"> 
     <dt>
      明星图片
     </dt> 
     <div class="coupon_body"> 
      <div class="coupon_box1" style="float: left; background-color: #fff; margin-top: 10px;
                        margin-left: 2px; width: 46%; "> 
       <div style="width: 100%; height: 200px"> 
        <a href="/yule/photo/222815.html" target="_blank" class="index-goods-img"> <img src="http://image.codes51.com/article/image/20151118/20151118231344_3593.jpg" alt="一路向西女主角舒沁妍激情剧照全裸尺度惊人" title="一路向西女主角舒沁妍激情剧照全裸尺度惊人" width="100%" height="200px" /> </a> 
       </div> 
       <div class="coupon_note1" style="width: 100%; padding-left: 5px; padding-right: 0px;"> 
        <ul> 
         <li><a href="/yule/photo/222815.html" target="_blank" title="一路向西女主角舒沁妍激情剧照全裸尺度惊人"> 一路向西女主角舒沁妍激情剧照全裸尺度惊人</a></li> 
        </ul> 
       </div> 
      </div> 
      <div class="coupon_box1" style="float: left; background-color: #fff; margin-top: 10px;
                        margin-left: 2px; width: 46%; margin-left:10px"> 
       <div style="width: 100%; height: 200px"> 
        <a href="/yule/photo/222830.html" target="_blank" class="index-goods-img"> <img src="http://image.codes51.com/Article/image/20151118/20151118232155_0937.jpg" alt="温碧霞身穿白裙俯身露点走光被拍" title="温碧霞身穿白裙俯身露点走光被拍" width="100%" height="200px" /> </a> 
       </div> 
       <div class="coupon_note1" style="width: 100%; padding-left: 5px; padding-right: 0px;"> 
        <ul> 
         <li><a href="/yule/photo/222830.html" target="_blank" title="温碧霞身穿白裙俯身露点走光被拍"> 温碧霞身穿白裙俯身露点走光被拍</a></li> 
        </ul> 
       </div> 
      </div> 
      <div class="coupon_box1" style="float: left; background-color: #fff; margin-top: 10px;
                        margin-left: 2px; width: 46%; "> 
       <div style="width: 100%; height: 200px"> 
        <a href="/yule/photo/222880.html" target="_blank" class="index-goods-img"> <img src="http://image.codes51.com/article/image/20151118/20151118232825_9062.jpg" alt="干露露照片,演唱会真空爆乳中门大开" title="干露露照片,演唱会真空爆乳中门大开" width="100%" height="200px" /> </a> 
       </div> 
       <div class="coupon_note1" style="width: 100%; padding-left: 5px; padding-right: 0px;"> 
        <ul> 
         <li><a href="/yule/photo/222880.html" target="_blank" title="干露露照片,演唱会真空爆乳中门大开"> 干露露照片,演唱会真空爆乳中门大开</a></li> 
        </ul> 
       </div> 
      </div> 
      <div class="coupon_box1" style="float: left; background-color: #fff; margin-top: 10px;
                        margin-left: 2px; width: 46%; margin-left:10px"> 
       <div style="width: 100%; height: 200px"> 
        <a href="/yule/photo/231793.html" target="_blank" class="index-goods-img"> <img src="http://image.codes51.com/Article/image/20151130/20151130100430_9085.jpg" alt="全裸男模抓着JJ走秀，日本妹妹看到流口水" title="全裸男模抓着JJ走秀，日本妹妹看到流口水" width="100%" height="200px" /> </a> 
       </div> 
       <div class="coupon_note1" style="width: 100%; padding-left: 5px; padding-right: 0px;"> 
        <ul> 
         <li><a href="/yule/photo/231793.html" target="_blank" title="全裸男模抓着JJ走秀，日本妹妹看到流口水"> 全裸男模抓着JJ走秀，日本妹妹看到流口水</a></li> 
        </ul> 
       </div> 
      </div> 
      <div class="clear"> 
      </div> 
     </div> 
    </dl> 
    <div class="clear"> 
    </div> 
    <dl class="other-article-list"> 
     <dt>
      相关文章
     </dt> 
     <dd> 
      <ul> 
       <li><a href="/article/detail_130962.html" target="_blank"> 手把手教你用android studio创建第一个安卓程序加载html5页面（一）</a></li> 
       <li><a href="/article/detail_96204.html" target="_blank"> 关于 WheelView 组件的源码分析</a></li> 
       <li><a href="/article/detail_144474.html" target="_blank"> Toolbar的完全自定义</a></li> 
       <li><a href="/article/detail_163576.html" target="_blank"> Android内存优化（使用SparseArray和ArrayMap代替HashMap）</a></li> 
       <li><a href="/article/detail_138004.html" target="_blank"> Android MediaCodec实现摄像头数据硬编解码全过程</a></li> 
       <li><a href="/article/detail_109647.html" target="_blank"> ViewDragHelper实例学习笔记</a></li> 
      </ul> 
     </dd> 
    </dl> 
    <script>
    var baiduImagePlus = {
        unionId: 'u2298357',
        formList: [{ formId: 21 }, { formId: 22 }, { formId: 23}]
    };
</script> 
    <script src="http://cpro.baidustatic.com/cpro/ui/mi.js"></script> 
   </div> 
   <footer> 
    <script type="text/javascript" src="http://g.codes51.com/xx3a1ec094ffc2f03bdb173e88aefa32fc00b3930734ef.js"></script> 
    <div class="m"> 
     <a href="/">首页</a> 
     <a href="#">返回头部</a> 
    </div> 
   </footer> 
   <img src="http://c.cnzz.com/wapstat.php?siteid=1256267280&amp;r=&amp;rnd=1196972354" width="0" height="0" /> 
   <script type="text/javascript" src="http://g.codes51.com/ik3a1ec393f0cff138db173e88aefa32fc00b3930734ef.js"></script> 
   <div style=" color:Gray; text-align:center; padding:5px 5px; line-height:25px; font-size:12px;"> 
    <span id="lblfootTitle">《Android开发笔记（六十一）文件下载与上传》由码蚁之家搜集整理于网络，</span>
    <br /> 联系邮箱：mxgf168#qq.com(#改为@) 
   </div>   
   <script type="text/javascript">
    /*度宝 创建于2016-08-31*/
    var cpro_id = "u2748922";
</script> 
   <script src="http://cpro.baidustatic.com/cpro/ui/cm.js" type="text/javascript"></script>
  </metaname="applicable-device">
 </body>
</html>